function [ret,x0,str,ts,xts]=m1(t,x,u,flag);%M1	is the M-file description of the SIMULINK system named M1.%	The block-diagram can be displayed by typing: M1.%%	SYS=M1(T,X,U,FLAG) returns depending on FLAG certain%	system values given time point, T, current state vector, X,%	and input vector, U.%	FLAG is used to indicate the type of output to be returned in SYS.%%	Setting FLAG=1 causes M1 to return state derivatives, FLAG=2%	discrete states, FLAG=3 system outputs and FLAG=4 next sample%	time. For more information and other options see SFUNC.%%	Calling M1 with a FLAG of zero:%	[SIZES]=M1([],[],[],0),  returns a vector, SIZES, which%	contains the sizes of the state vector and other parameters.%		SIZES(1) number of states%		SIZES(2) number of discrete states%		SIZES(3) number of outputs%		SIZES(4) number of inputs%		SIZES(5) number of roots (currently unsupported)%		SIZES(6) direct feedthrough flag%		SIZES(7) number of sample times%%	For the definition of other parameters in SIZES, see SFUNC.%	See also, TRIM, LINMOD, LINSIM, EULER, RK23, RK45, ADAMS, GEAR.% Note: This M-file is only used for saving graphical information;%       after the model is loaded into memory an internal model%       representation is used.% the system will take on the name of this mfile:sys = mfilename;new_system(sys)simver(1.3)if (0 == (nargin + nargout))     set_param(sys,'Location',[39,113,252,235])     open_system(sys)end;set_param(sys,'algorithm',     'RK-45')set_param(sys,'Start time',    '0.0')set_param(sys,'Stop time',     '999999')set_param(sys,'Min step size', '0.0001')set_param(sys,'Max step size', '10')set_param(sys,'Relative error','1e-3')set_param(sys,'Return vars',   '')%     Subsystem  'M1'.new_system([sys,'/','M1'])set_param([sys,'/','M1'],'Location',[4,42,779,548])%     Subsystem  'M1/pulse (lin)'.new_system([sys,'/','M1/pulse (lin)'])set_param([sys,'/','M1/pulse (lin)'],'Location',[44,92,735,547])%     Subsystem  'M1/pulse (lin)/Rst Int'.new_system([sys,'/','M1/pulse (lin)/Rst Int'])set_param([sys,'/','M1/pulse (lin)/Rst Int'],'Location',[116,97,731,523])add_block('built-in/Product',[sys,'/','M1/pulse (lin)/Rst Int/product2'])set_param([sys,'/','M1/pulse (lin)/Rst Int/product2'],...		'orientation',2,...		'position',[255,113,285,137])add_block('built-in/Gain',[sys,'/','M1/pulse (lin)/Rst Int/Gain'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Gain'],...		'orientation',2,...		'hide name',0,...		'Gain','500',...		'position',[370,153,420,187])add_block('built-in/Integrator',[sys,'/','M1/pulse (lin)/Rst Int/Integrator'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Integrator'],...		'position',[400,225,420,245])add_block('built-in/Outport',[sys,'/','M1/pulse (lin)/Rst Int/out_1'])set_param([sys,'/','M1/pulse (lin)/Rst Int/out_1'],...		'position',[520,190,540,210])add_block('built-in/Sum',[sys,'/','M1/pulse (lin)/Rst Int/Sum3'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sum3'],...		'inputs','-+',...		'position',[290,225,310,245])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/Rst Int/This block is a resettable integrator.  When the input signal is non-zero, the upper',13,'input to product2 is zero.  This opens the loop around the integrator so',13,'the output is the integration of the input.',13,'']])set_param([sys,'/',['M1/pulse (lin)/Rst Int/This block is a resettable integrator.  When the input signal is non-zero, the upper',13,'input to product2 is zero.  This opens the loop around the integrator so',13,'the output is the integration of the input.',13,'']],...		'position',[295,280,300,285])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/Rst Int/When the input goes to zero, the upper input to product2 is one,',13,'closing the loop around the integrator.  When this happens, the output',13,'of the integrator decreases rapidly (large negative gain) to zero.']])set_param([sys,'/',['M1/pulse (lin)/Rst Int/When the input goes to zero, the upper input to product2 is one,',13,'closing the loop around the integrator.  When this happens, the output',13,'of the integrator decreases rapidly (large negative gain) to zero.']],...		'position',[300,344,310,349])add_block('built-in/Inport',[sys,'/','M1/pulse (lin)/Rst Int/in_1'])set_param([sys,'/','M1/pulse (lin)/Rst Int/in_1'],...		'position',[70,230,90,250])%     Subsystem  'M1/pulse (lin)/Rst Int/Sign'.new_system([sys,'/','M1/pulse (lin)/Rst Int/Sign'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign'],'Location',[159,417,467,586])add_block('built-in/Outport',[sys,'/','M1/pulse (lin)/Rst Int/Sign/out_1'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign/out_1'],...		'position',[265,70,285,90])add_block('built-in/Inport',[sys,'/','M1/pulse (lin)/Rst Int/Sign/in_1'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign/in_1'],...		'position',[35,30,55,50])add_block('built-in/Relational Operator',[sys,'/',['M1/pulse (lin)/Rst Int/Sign/Relational',13,'Operator']])set_param([sys,'/',['M1/pulse (lin)/Rst Int/Sign/Relational',13,'Operator']],...		'Operator','>',...		'position',[140,32,170,63])add_block('built-in/Sum',[sys,'/','M1/pulse (lin)/Rst Int/Sign/Sum'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign/Sum'],...		'inputs','+-',...		'position',[215,64,235,91])add_block('built-in/Relational Operator',[sys,'/',['M1/pulse (lin)/Rst Int/Sign/Relational',13,'Operator1']])set_param([sys,'/',['M1/pulse (lin)/Rst Int/Sign/Relational',13,'Operator1']],...		'Operator','<',...		'position',[140,92,170,123])add_block('built-in/Constant',[sys,'/','M1/pulse (lin)/Rst Int/Sign/Constant'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign/Constant'],...		'Value','0',...		'position',[65,105,85,125])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[60,40;135,40])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[95,40;95,100;135,100])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[90,115;135,115])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[110,115;110,55;135,55])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[175,110;185,110;185,85;210,85])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[175,50;185,50;185,70;210,70])add_line([sys,'/','M1/pulse (lin)/Rst Int/Sign'],[240,80;260,80])set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign'],...		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...		'Mask Type','Sign',...		'Mask Dialogue','y = sign(x)')set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign'],...		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')%     Finished composite block 'M1/pulse (lin)/Rst Int/Sign'.set_param([sys,'/','M1/pulse (lin)/Rst Int/Sign'],...		'position',[215,37,245,63])add_block('built-in/Abs',[sys,'/','M1/pulse (lin)/Rst Int/Abs'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Abs'],...		'position',[270,38,300,62])add_block('built-in/Switch',[sys,'/','M1/pulse (lin)/Rst Int/Switch'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Switch'],...		'Threshold','0.5',...		'position',[395,34,425,66])add_block('built-in/Constant',[sys,'/','M1/pulse (lin)/Rst Int/Constant1'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Constant1'],...		'hide name',0,...		'position',[335,60,355,80])add_block('built-in/Constant',[sys,'/','M1/pulse (lin)/Rst Int/Constant'])set_param([sys,'/','M1/pulse (lin)/Rst Int/Constant'],...		'hide name',0,...		'Value','0',...		'position',[330,15,350,35])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[250,125;225,125;225,230;285,230])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[315,235;395,235])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[425,235;465,235;465,170;425,170])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[465,200;515,200])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[95,240;285,240])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[165,240;165,50;210,50])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[305,50;390,50])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[250,50;265,50])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[365,170;340,170;340,130;290,130])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[355,25;370,25;370,40;390,40])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[360,70;370,70;370,60;390,60])add_line([sys,'/','M1/pulse (lin)/Rst Int'],[430,50;460,50;460,120;290,120])set_param([sys,'/','M1/pulse (lin)/Rst Int'],...		'Mask Display','reset\ninteg')%     Finished composite block 'M1/pulse (lin)/Rst Int'.set_param([sys,'/','M1/pulse (lin)/Rst Int'],...		'position',[385,68,425,102])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/This block generates a saccadic pulse with a linear pulse width function (of saccade size)',13,'and a non-linear pulse height function.']])set_param([sys,'/',['M1/pulse (lin)/This block generates a saccadic pulse with a linear pulse width function (of saccade size)',13,'and a non-linear pulse height function.']],...		'position',[330,330,335,335])add_block('built-in/Gain',[sys,'/','M1/pulse (lin)/k=100'])set_param([sys,'/','M1/pulse (lin)/k=100'],...		'hide name',0,...		'Gain','100',...		'position',[230,188,280,222])add_block('built-in/Fcn',[sys,'/',['M1/pulse (lin)/pulse width fcn',13,'(-0.0089 - u[1]*0.00132)']])set_param([sys,'/',['M1/pulse (lin)/pulse width fcn',13,'(-0.0089 - u[1]*0.00132)']],...		'Font Name','Courier New',...		'Font Size',9,...		'Expr','-0.0089 - u[1]*0.00132',...		'position',[285,125,325,145])add_block('built-in/Fcn',[sys,'/',['M1/pulse (lin)/Pulse Height',13,'590*u[1]//(7.5+u[1])',13,'']])set_param([sys,'/',['M1/pulse (lin)/Pulse Height',13,'590*u[1]//(7.5+u[1])',13,'']],...		'Font Name','Courier New',...		'Font Size',9,...		'Expr','590*u[1]/(7.5+u[1])',...		'position',[160,235,200,255])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/Notes: The transport delay is used to break up an algebraic loop.',13,'The upper loop will generate the negative trigger pulse when an input change',13,'exceeds a threshold value.  The input change can be positive or negative.    ']])set_param([sys,'/',['M1/pulse (lin)/Notes: The transport delay is used to break up an algebraic loop.',13,'The upper loop will generate the negative trigger pulse when an input change',13,'exceeds a threshold value.  The input change can be positive or negative.    ']],...		'position',[355,560,360,565])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/The output from the resettable integrator, however, is linearly increasing and is summed',13,'with the output of product2.  When this sum reaches zero (the upper input to the sum',13,'will be zero by this time), then input 1 of the switch (zero) is outputted.']])set_param([sys,'/',['M1/pulse (lin)/The output from the resettable integrator, however, is linearly increasing and is summed',13,'with the output of product2.  When this sum reaches zero (the upper input to the sum',13,'will be zero by this time), then input 1 of the switch (zero) is outputted.']],...		'position',[345,465,350,470])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/This then causes a zero to be sent to product1 which causes the',13,'resettable integrator to reset to zero and the output of product2 to be zero.',13,'']])set_param([sys,'/',['M1/pulse (lin)/This then causes a zero to be sent to product1 which causes the',13,'resettable integrator to reset to zero and the output of product2 to be zero.',13,'']],...		'position',[355,515,360,520])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/This also causes a one to be sent to the lower input of product1.',13,'This then causes the output of product2 to be the pulse_width_fcn (that is negative)',13,'times a one.  This keeps input 2 to the switch negative.  ',13,'']])set_param([sys,'/',['M1/pulse (lin)/This also causes a one to be sent to the lower input of product1.',13,'This then causes the output of product2 to be the pulse_width_fcn (that is negative)',13,'times a one.  This keeps input 2 to the switch negative.  ',13,'']],...		'position',[350,415,355,420])add_block('built-in/Note',[sys,'/',['M1/pulse (lin)/A step change from the input cause a small negative pulse to be generated',13,'(by the upper path) and sent to the sum.  This causes input 2 of the switch',13,'to be negative and input 3 of the switch to be outputted by the switch. ']])set_param([sys,'/',['M1/pulse (lin)/A step change from the input cause a small negative pulse to be generated',13,'(by the upper path) and sent to the sum.  This causes input 2 of the switch',13,'to be negative and input 3 of the switch to be outputted by the switch. ']],...		'position',[335,365,340,370])add_block('built-in/Saturation',[sys,'/','M1/pulse (lin)/0-->1.0'])set_param([sys,'/','M1/pulse (lin)/0-->1.0'],...		'Lower Limit','0.0',...		'Upper Limit','1.0',...		'position',[310,193,340,217])add_block('built-in/Product',[sys,'/','M1/pulse (lin)/product2'])set_param([sys,'/','M1/pulse (lin)/product2'],...		'position',[430,128,460,152])add_block('built-in/Sum',[sys,'/','M1/pulse (lin)/Sum'])set_param([sys,'/','M1/pulse (lin)/Sum'],...		'hide name',0,...		'inputs','+++',...		'position',[505,62,525,108])add_block('built-in/Transport Delay',[sys,'/','M1/pulse (lin)/0.001s'])set_param([sys,'/','M1/pulse (lin)/0.001s'],...		'Delay Time','0.001',...		'position',[85,25,125,55])add_block('built-in/Product',[sys,'/','M1/pulse (lin)/product1'])set_param([sys,'/','M1/pulse (lin)/product1'],...		'position',[140,73,170,97])add_block('built-in/Constant',[sys,'/','M1/pulse (lin)/Constant1'])set_param([sys,'/','M1/pulse (lin)/Constant1'],...		'hide name',0,...		'Value','0.0',...		'position',[255,40,280,60])add_block('built-in/Fcn',[sys,'/','M1/pulse (lin)/k =100'])set_param([sys,'/','M1/pulse (lin)/k =100'],...		'Expr','u[1]*100',...		'position',[240,75,280,95])add_block('built-in/Saturation',[sys,'/','M1/pulse (lin)/0-->1'])set_param([sys,'/','M1/pulse (lin)/0-->1'],...		'Lower Limit','-0.0',...		'Upper Limit','1.0',...		'position',[315,73,345,97])add_block('built-in/Abs',[sys,'/','M1/pulse (lin)/Abs'])set_param([sys,'/','M1/pulse (lin)/Abs'],...		'hide name',0,...		'position',[210,13,240,37])add_block('built-in/Outport',[sys,'/','M1/pulse (lin)/out_1'])set_param([sys,'/','M1/pulse (lin)/out_1'],...		'position',[635,105,655,125])add_block('built-in/Switch',[sys,'/','M1/pulse (lin)/Switch'])set_param([sys,'/','M1/pulse (lin)/Switch'],...		'hide name',0,...		'Threshold','0.0',...		'position',[565,99,595,131])add_block('built-in/Gain',[sys,'/','M1/pulse (lin)/K=1000'])set_param([sys,'/','M1/pulse (lin)/K=1000'],...		'orientation',2,...		'hide name',0,...		'Gain','1000',...		'position',[440,289,490,321])add_block('built-in/Transport Delay',[sys,'/','M1/pulse (lin)/0.001 sec'])set_param([sys,'/','M1/pulse (lin)/0.001 sec'],...		'orientation',2,...		'Delay Time','0.001',...		'position',[345,290,385,320])add_block('built-in/Saturation',[sys,'/','M1/pulse (lin)/0.0-->1.0'])set_param([sys,'/','M1/pulse (lin)/0.0-->1.0'],...		'orientation',2,...		'Lower Limit','0.0',...		'Upper Limit','1.0',...		'position',[230,293,260,317])add_block('built-in/Sum',[sys,'/','M1/pulse (lin)/Sum1'])set_param([sys,'/','M1/pulse (lin)/Sum1'],...		'hide name',0,...		'inputs','+-',...		'position',[165,15,185,35])add_block('built-in/Constant',[sys,'/','M1/pulse (lin)/Constant'])set_param([sys,'/','M1/pulse (lin)/Constant'],...		'hide name',0,...		'Value','0.0',...		'position',[510,17,535,43])add_block('built-in/Saturation',[sys,'/','M1/pulse (lin)/-0.002-->0'])set_param([sys,'/','M1/pulse (lin)/-0.002-->0'],...		'Lower Limit','-0.002',...		'Upper Limit','0.00',...		'position',[435,13,465,37])add_block('built-in/Gain',[sys,'/','M1/pulse (lin)/Gain4'])set_param([sys,'/','M1/pulse (lin)/Gain4'],...		'hide name',0,...		'Gain','-1',...		'position',[375,11,410,39])add_block('built-in/Switch',[sys,'/','M1/pulse (lin)/Switch1'])set_param([sys,'/','M1/pulse (lin)/Switch1'],...		'hide name',0,...		'Threshold','0.040',...		'position',[315,9,345,41])add_block('built-in/Inport',[sys,'/','M1/pulse (lin)/in_1'])set_param([sys,'/','M1/pulse (lin)/in_1'],...		'position',[15,145,35,165])add_line([sys,'/','M1/pulse (lin)'],[175,85;210,85;210,135;280,135])add_line([sys,'/','M1/pulse (lin)'],[210,85;235,85])add_line([sys,'/','M1/pulse (lin)'],[40,155;60,155;60,245;155,245])add_line([sys,'/','M1/pulse (lin)'],[60,155;60,40;80,40])add_line([sys,'/','M1/pulse (lin)'],[60,115;60,20;160,20])add_line([sys,'/','M1/pulse (lin)'],[60,80;135,80])add_line([sys,'/','M1/pulse (lin)'],[245,25;310,25])add_line([sys,'/','M1/pulse (lin)'],[255,25;255,15;310,15])add_line([sys,'/','M1/pulse (lin)'],[190,25;205,25])add_line([sys,'/','M1/pulse (lin)'],[465,140;465,100;500,100])add_line([sys,'/','M1/pulse (lin)'],[205,245;550,245;560,125])add_line([sys,'/','M1/pulse (lin)'],[530,85;535,85;535,115;560,115])add_line([sys,'/','M1/pulse (lin)'],[415,25;430,25])add_line([sys,'/','M1/pulse (lin)'],[470,25;490,25;500,70])add_line([sys,'/','M1/pulse (lin)'],[225,305;100,305;100,90;135,90])add_line([sys,'/','M1/pulse (lin)'],[600,115;600,305;495,305])add_line([sys,'/','M1/pulse (lin)'],[285,85;310,85])add_line([sys,'/','M1/pulse (lin)'],[130,40;150,40;160,30])add_line([sys,'/','M1/pulse (lin)'],[330,135;425,135])add_line([sys,'/','M1/pulse (lin)'],[210,110;210,205;225,205])add_line([sys,'/','M1/pulse (lin)'],[345,205;400,205;400,145;425,145])add_line([sys,'/','M1/pulse (lin)'],[285,205;305,205])add_line([sys,'/','M1/pulse (lin)'],[435,305;390,305])add_line([sys,'/','M1/pulse (lin)'],[350,85;380,85])add_line([sys,'/','M1/pulse (lin)'],[430,85;500,85])add_line([sys,'/','M1/pulse (lin)'],[340,305;265,305])add_line([sys,'/','M1/pulse (lin)'],[350,25;370,25])add_line([sys,'/','M1/pulse (lin)'],[285,50;295,50;295,35;310,35])add_line([sys,'/','M1/pulse (lin)'],[540,30;550,30;560,105])add_line([sys,'/','M1/pulse (lin)'],[600,115;630,115])set_param([sys,'/','M1/pulse (lin)'],...		'Mask Display','P.G. 1')%     Finished composite block 'M1/pulse (lin)'.set_param([sys,'/','M1/pulse (lin)'],...		'position',[195,152,240,188])add_block('built-in/To Workspace',[sys,'/','M1/To Workspace'])set_param([sys,'/','M1/To Workspace'],...		'hide name',0,...		'Font Name','Courier New',...		'mat-name','eyeout',...		'buffer','10000',...		'position',[635,165,695,185])add_block('built-in/Transfer Fcn',[sys,'/','M1/Plant 1'])set_param([sys,'/','M1/Plant 1'],...		'Numerator','[1.0]',...		'Denominator','[0.00126 0.187 1]',...		'Mask Display','Eye',...		'position',[555,159,590,191])add_block('built-in/To Workspace',[sys,'/','M1/To Workspace3'])set_param([sys,'/','M1/To Workspace3'],...		'hide name',0,...		'Font Name','Courier New',...		'mat-name','tgt',...		'buffer','10000',...		'position',[135,48,170,72])add_block('built-in/Clock',[sys,'/','M1/Clock'])set_param([sys,'/','M1/Clock'],...		'position',[505,325,525,345])add_block('built-in/To Workspace',[sys,'/','M1/clock out'])set_param([sys,'/','M1/clock out'],...		'Font Name','Courier New',...		'mat-name','t',...		'buffer','10000',...		'position',[565,327,615,343])add_block('built-in/Note',[sys,'/','M1/This model can generate a foveating nystagmus in primary position.'])set_param([sys,'/','M1/This model can generate a foveating nystagmus in primary position.'],...		'position',[240,460,245,465])%     Subsystem  ['M1/Tonic Imbal',13,''].new_system([sys,'/',['M1/Tonic Imbal',13,'']])set_param([sys,'/',['M1/Tonic Imbal',13,'']],'Location',[27,116,443,291])add_block('built-in/Step Fcn',[sys,'/',['M1/Tonic Imbal',13,'/Step Input']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Step Input']],...		'hide name',0,...		'Time','0',...		'position',[55,60,75,80])add_block('built-in/Sum',[sys,'/',['M1/Tonic Imbal',13,'/Sum1']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Sum1']],...		'hide name',0,...		'position',[210,90,230,110])add_block('built-in/Step Fcn',[sys,'/',['M1/Tonic Imbal',13,'/Step Input2']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Step Input2']],...		'hide name',0,...		'Time','5',...		'position',[55,120,75,140])add_block('built-in/Outport',[sys,'/',['M1/Tonic Imbal',13,'/out_1']])set_param([sys,'/',['M1/Tonic Imbal',13,'/out_1']],...		'position',[350,90,370,110])add_block('built-in/Note',[sys,'/',['M1/Tonic Imbal',13,'/This block just produces two steps outputs for the tonic imbalance in LN.']])set_param([sys,'/',['M1/Tonic Imbal',13,'/This block just produces two steps outputs for the tonic imbalance in LN.']],...		'position',[155,15,275,25])add_block('built-in/Gain',[sys,'/',['M1/Tonic Imbal',13,'/Gain2']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Gain2']],...		'hide name',0,...		'Gain','0.35',...		'position',[115,52,165,88])add_block('built-in/Gain',[sys,'/',['M1/Tonic Imbal',13,'/Gain3']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Gain3']],...		'hide name',0,...		'Gain','0.65',...		'position',[115,112,165,148])add_block('built-in/Gain',[sys,'/',['M1/Tonic Imbal',13,'/Gain']])set_param([sys,'/',['M1/Tonic Imbal',13,'/Gain']],...		'hide name',0,...		'Gain','1.0',...		'position',[270,83,315,117])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[80,70;110,70])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[170,70;185,70;185,95;205,95])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[170,130;185,130;185,105;205,105])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[80,130;110,130])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[235,100;265,100])add_line([sys,'/',['M1/Tonic Imbal',13,'']],[320,100;345,100])set_param([sys,'/',['M1/Tonic Imbal',13,'']],...		'Mask Display','Tonic\nImbalance')%     Finished composite block ['M1/Tonic Imbal',13,''].set_param([sys,'/',['M1/Tonic Imbal',13,'']],...		'hide name',0,...		'position',[265,198,330,232])add_block('built-in/To Workspace',[sys,'/','M1/To Workspace1'])set_param([sys,'/','M1/To Workspace1'],...		'hide name',0,...		'Font Name','Courier New',...		'mat-name','NIout',...		'buffer','10000',...		'position',[565,282,615,298])%     Subsystem  'M1/Neural Int'.new_system([sys,'/','M1/Neural Int'])set_param([sys,'/','M1/Neural Int'],'Location',[95,114,673,481])add_block('built-in/Product',[sys,'/','M1/Neural Int/Product'])set_param([sys,'/','M1/Neural Int/Product'],...		'hide name',0,...		'position',[185,178,215,202])add_block('built-in/Inport',[sys,'/','M1/Neural Int/pulse'])set_param([sys,'/','M1/Neural Int/pulse'],...		'position',[55,175,75,195])add_block('built-in/Sum',[sys,'/','M1/Neural Int/Sum'])set_param([sys,'/','M1/Neural Int/Sum'],...		'hide name',0,...		'inputs','+-',...		'position',[295,235,315,255])add_block('built-in/Integrator',[sys,'/','M1/Neural Int/Integrator'])set_param([sys,'/','M1/Neural Int/Integrator'],...		'position',[375,235,395,255])add_block('built-in/Outport',[sys,'/','M1/Neural Int/to_plant'])set_param([sys,'/','M1/Neural Int/to_plant'],...		'position',[490,235,510,255])add_block('built-in/Inport',[sys,'/',['M1/Neural Int/from',13,'internal monitor']])set_param([sys,'/',['M1/Neural Int/from',13,'internal monitor']],...		'Port','3',...		'position',[55,220,75,240])add_block('built-in/Inport',[sys,'/',['M1/Neural Int/from',13,'tonic imbalance']])set_param([sys,'/',['M1/Neural Int/from',13,'tonic imbalance']],...		'Port','2',...		'position',[55,290,75,310])add_block('built-in/Note',[sys,'/',['M1/Neural Int/Thus, during defoveating, decreasing-velocity slow phases, a larger',13,'pulse will go the eye, but the pulse will be only partially integrated, to',13,'drive the internal error to zero.']])set_param([sys,'/',['M1/Neural Int/Thus, during defoveating, decreasing-velocity slow phases, a larger',13,'pulse will go the eye, but the pulse will be only partially integrated, to',13,'drive the internal error to zero.']],...		'position',[240,85,330,91])add_block('built-in/Note',[sys,'/',['M1/Neural Int/This block is a neural integrator with a shut-off for input 1.   The input from the internal',13,'monitor sends a one or a zero.  The zero is a blanking pulse which is sent to the NI',13,'in LMLN when the NI output has driven the internal error to zero.']])set_param([sys,'/',['M1/Neural Int/This block is a neural integrator with a shut-off for input 1.   The input from the internal',13,'monitor sends a one or a zero.  The zero is a blanking pulse which is sent to the NI',13,'in LMLN when the NI output has driven the internal error to zero.']],...		'position',[275,25,280,30])add_line([sys,'/','M1/Neural Int'],[80,300;250,300;250,250;290,250])add_line([sys,'/','M1/Neural Int'],[80,230;140,230;140,195;180,195])add_line([sys,'/','M1/Neural Int'],[80,185;180,185])add_line([sys,'/','M1/Neural Int'],[320,245;370,245])add_line([sys,'/','M1/Neural Int'],[400,245;485,245])add_line([sys,'/','M1/Neural Int'],[220,190;250,190;250,240;290,240])set_param([sys,'/','M1/Neural Int'],...		'Mask Display','Neural\nIntegrator')%     Finished composite block 'M1/Neural Int'.set_param([sys,'/','M1/Neural Int'],...		'hide name',0,...		'position',[380,162,440,198])add_block('built-in/Constant',[sys,'/',['M1/Nystagmus',13,'Threshold']])set_param([sys,'/',['M1/Nystagmus',13,'Threshold']],...		'orientation',1,...		'Value','0.35',...		'position',[485,225,525,255])add_block('built-in/Transport Delay',[sys,'/',['M1/Transport',13,'Delay1']])set_param([sys,'/',['M1/Transport',13,'Delay1']],...		'orientation',2,...		'hide name',0,...		'Delay Time','0.130',...		'Mask Display','130\nms',...		'position',[230,420,270,450])add_block('built-in/Transport Delay',[sys,'/',['M1/Transport',13,'Delay2']])set_param([sys,'/',['M1/Transport',13,'Delay2']],...		'hide name',0,...		'Delay Time','0.030',...		'Mask Display','30\n ms',...		'position',[505,160,530,190])add_block('built-in/Sum',[sys,'/',['M1/ Sum',13,'']])set_param([sys,'/',['M1/ Sum',13,'']],...		'hide name',0,...		'position',[470,158,485,187])add_block('built-in/To Workspace',[sys,'/','M1/To Workspace2'])set_param([sys,'/','M1/To Workspace2'],...		'hide name',0,...		'Font Name','Courier New',...		'mat-name','tprime',...		'buffer','80000',...		'position',[365,357,420,383])%     Subsystem  'M1/Internal monitor 1'.new_system([sys,'/','M1/Internal monitor 1'])set_param([sys,'/','M1/Internal monitor 1'],'Location',[31,205,692,543])add_block('built-in/Outport',[sys,'/','M1/Internal monitor 1/ratio_to_NI'])set_param([sys,'/','M1/Internal monitor 1/ratio_to_NI'],...		'position',[580,110,600,130])add_block('built-in/Outport',[sys,'/','M1/Internal monitor 1/to_PG'])set_param([sys,'/','M1/Internal monitor 1/to_PG'],...		'Port','2',...		'position',[580,50,600,70])add_block('built-in/Constant',[sys,'/','M1/Internal monitor 1/Constant1'])set_param([sys,'/','M1/Internal monitor 1/Constant1'],...		'position',[485,110,505,130])add_block('built-in/Inport',[sys,'/','M1/Internal monitor 1/from_NI'])set_param([sys,'/','M1/Internal monitor 1/from_NI'],...		'Port','3',...		'position',[60,225,80,245])add_block('built-in/Constant',[sys,'/','M1/Internal monitor 1/Constant'])set_param([sys,'/','M1/Internal monitor 1/Constant'],...		'Value','0.0',...		'position',[390,85,420,105])add_block('built-in/Note',[sys,'/',['M1/Internal monitor 1/This comparator is for voluntary',13,'saccades with or without ',13,' LN (foveating fast phases).']])set_param([sys,'/',['M1/Internal monitor 1/This comparator is for voluntary',13,'saccades with or without ',13,' LN (foveating fast phases).']],...		'position',[110,30,145,35])add_block('built-in/Inport',[sys,'/','M1/Internal monitor 1/from_tprime'])set_param([sys,'/','M1/Internal monitor 1/from_tprime'],...		'Port','2',...		'position',[60,175,80,195])add_block('built-in/Sum',[sys,'/','M1/Internal monitor 1/Sum3'])set_param([sys,'/','M1/Internal monitor 1/Sum3'],...		'hide name',0,...		'inputs','+-',...		'position',[190,179,215,206])add_block('built-in/Sum',[sys,'/','M1/Internal monitor 1/Sum'])set_param([sys,'/','M1/Internal monitor 1/Sum'],...		'hide name',0,...		'inputs','+-',...		'position',[310,114,335,141])add_block('built-in/Switch',[sys,'/','M1/Internal monitor 1/Switch'])set_param([sys,'/','M1/Internal monitor 1/Switch'],...		'hide name',0,...		'position',[470,44,500,76])add_block('built-in/Note',[sys,'/',['M1/Internal monitor 1/The pulse size to P.G. is the ',13,'difference between tprime and',13,'the output of the Neural Integrator']])set_param([sys,'/',['M1/Internal monitor 1/The pulse size to P.G. is the ',13,'difference between tprime and',13,'the output of the Neural Integrator']],...		'position',[125,100,130,105])add_block('built-in/Inport',[sys,'/','M1/Internal monitor 1/threshold'])set_param([sys,'/','M1/Internal monitor 1/threshold'],...		'position',[60,285,80,305])add_line([sys,'/','M1/Internal monitor 1'],[220,195;250,195;250,120;305,120])add_line([sys,'/','M1/Internal monitor 1'],[250,150;250,50;465,50])add_line([sys,'/','M1/Internal monitor 1'],[510,120;575,120])add_line([sys,'/','M1/Internal monitor 1'],[425,95;430,95;430,70;465,70])add_line([sys,'/','M1/Internal monitor 1'],[340,130;340,60;465,60])add_line([sys,'/','M1/Internal monitor 1'],[85,185;185,185])add_line([sys,'/','M1/Internal monitor 1'],[85,235;155,235;155,200;185,200])add_line([sys,'/','M1/Internal monitor 1'],[505,60;575,60])add_line([sys,'/','M1/Internal monitor 1'],[85,295;285,295;285,135;305,135])set_param([sys,'/','M1/Internal monitor 1'],...		'Mask Display','Internal\nMonitor')%     Finished composite block 'M1/Internal monitor 1'.set_param([sys,'/','M1/Internal monitor 1'],...		'orientation',2,...		'position',[235,252,320,298])add_block('built-in/Constant',[sys,'/','M1/Constant'])set_param([sys,'/','M1/Constant'],...		'hide name',0,...		'Value','1.0',...		'Mask Display','Switch\nlight (on)\ndark (off)',...		'position',[105,308,165,362])add_block('built-in/Gain',[sys,'/',['M1/Gain',13,'']])set_param([sys,'/',['M1/Gain',13,'']],...		'hide name',0,...		'Gain','5.33',...		'position',[320,152,355,188])add_block('built-in/Gain',[sys,'/','M1/Gain'])set_param([sys,'/','M1/Gain'],...		'hide name',0,...		'Gain','0.25',...		'position',[260,155,300,185])add_block('built-in/Transport Delay',[sys,'/','M1/100 ms '])set_param([sys,'/','M1/100 ms '],...		'orientation',1,...		'hide name',0,...		'Delay Time','0.100',...		'Mask Display','100\nms',...		'position',[60,140,100,170])add_block('built-in/Transport Delay',[sys,'/','M1/100 ms'])set_param([sys,'/','M1/100 ms'],...		'hide name',0,...		'Delay Time','0.100',...		'Mask Display','100\nms',...		'position',[130,154,170,186])add_block('built-in/Gain',[sys,'/',['M1/Gain',13,'_']])set_param([sys,'/',['M1/Gain',13,'_']],...		'hide name',0,...		'Gain','1.0',...		'position',[355,91,390,119])add_block('built-in/Sum',[sys,'/','M1/Sum'])set_param([sys,'/','M1/Sum'],...		'hide name',0,...		'inputs','-+',...		'position',[215,63,235,92])%     Subsystem  'M1/Tprime1'.new_system([sys,'/','M1/Tprime1'])set_param([sys,'/','M1/Tprime1'],'Location',[156,134,780,539])add_block('built-in/Note',[sys,'/',['M1/Tprime1/When light switch is on, the lower input ',13,'to Sum2 will go through (lower product).',13,'When light switch is off, upper input to ',13,'Sum2 will go through (upper product).']])set_param([sys,'/',['M1/Tprime1/When light switch is on, the lower input ',13,'to Sum2 will go through (lower product).',13,'When light switch is off, upper input to ',13,'Sum2 will go through (upper product).']],...		'position',[460,35,465,40])add_block('built-in/Note',[sys,'/',['M1/Tprime1/For  light off, the internal desired position',13,'is set in this block (with the two steps',13,'blocks here).']])set_param([sys,'/',['M1/Tprime1/For  light off, the internal desired position',13,'is set in this block (with the two steps',13,'blocks here).']],...		'position',[180,75,185,80])add_block('built-in/Step Fcn',[sys,'/','M1/Tprime1/Step Input'])set_param([sys,'/','M1/Tprime1/Step Input'],...		'hide name',0,...		'position',[75,50,95,70])add_block('built-in/Gain',[sys,'/','M1/Tprime1/Gain3'])set_param([sys,'/','M1/Tprime1/Gain3'],...		'hide name',0,...		'position',[120,47,145,73])add_block('built-in/Step Fcn',[sys,'/','M1/Tprime1/Step Input1'])set_param([sys,'/','M1/Tprime1/Step Input1'],...		'hide name',0,...		'position',[75,10,95,30])add_block('built-in/Gain',[sys,'/','M1/Tprime1/Gain2'])set_param([sys,'/','M1/Tprime1/Gain2'],...		'hide name',0,...		'position',[120,7,145,33])add_block('built-in/Gain',[sys,'/','M1/Tprime1/Gain4'])set_param([sys,'/','M1/Tprime1/Gain4'],...		'hide name',0,...		'position',[230,27,255,53])add_block('built-in/Sum',[sys,'/','M1/Tprime1/Sum1'])set_param([sys,'/','M1/Tprime1/Sum1'],...		'hide name',0,...		'position',[190,30,210,50])add_block('built-in/Constant',[sys,'/','M1/Tprime1/Constant'])set_param([sys,'/','M1/Tprime1/Constant'],...		'hide name',0,...		'Value','-1.0',...		'position',[265,157,295,183])add_block('built-in/Note',[sys,'/',['M1/Tprime1/Inport1 is from the switch for',13,' light on//off.An input of  ''1''',13,' means lighton and retinal',13,' feedback is used.An input',13,' of ''0'' means light off and',13,' no retinal feedback is used.']])set_param([sys,'/',['M1/Tprime1/Inport1 is from the switch for',13,' light on//off.An input of  ''1''',13,' means lighton and retinal',13,' feedback is used.An input',13,' of ''0'' means light off and',13,' no retinal feedback is used.']],...		'position',[315,295,320,300])add_block('built-in/Gain',[sys,'/','M1/Tprime1/Gain1'])set_param([sys,'/','M1/Tprime1/Gain1'],...		'hide name',0,...		'Gain','1.0',...		'position',[210,225,245,265])add_block('built-in/Inport',[sys,'/','M1/Tprime1/retinal error'])set_param([sys,'/','M1/Tprime1/retinal error'],...		'Port','2',...		'position',[50,200,70,220])add_block('built-in/Sum',[sys,'/','M1/Tprime1/Sum2'])set_param([sys,'/','M1/Tprime1/Sum2'],...		'position',[540,225,560,245])add_block('built-in/Product',[sys,'/','M1/Tprime1/product1'])set_param([sys,'/','M1/Tprime1/product1'],...		'position',[455,109,475,131])add_block('built-in/Abs',[sys,'/','M1/Tprime1/Abs'])set_param([sys,'/','M1/Tprime1/Abs'],...		'hide name',0,...		'position',[365,143,390,167])add_block('built-in/Sum',[sys,'/','M1/Tprime1/Sum3'])set_param([sys,'/','M1/Tprime1/Sum3'],...		'hide name',0,...		'position',[330,145,350,165])add_block('built-in/Sum',[sys,'/','M1/Tprime1/Sum'])set_param([sys,'/','M1/Tprime1/Sum'],...		'hide name',0,...		'position',[155,226,175,264])add_block('built-in/Product',[sys,'/','M1/Tprime1/product2'])set_param([sys,'/','M1/Tprime1/product2'],...		'position',[315,228,345,252])add_block('built-in/Inport',[sys,'/','M1/Tprime1/on//off switch'])set_param([sys,'/','M1/Tprime1/on//off switch'],...		'position',[50,155,70,175])add_block('built-in/Outport',[sys,'/','M1/Tprime1/out_1'])set_param([sys,'/','M1/Tprime1/out_1'],...		'position',[590,225,610,245])add_block('built-in/Inport',[sys,'/','M1/Tprime1/pos. efference'])set_param([sys,'/','M1/Tprime1/pos. efference'],...		'Port','3',...		'position',[50,245,70,265])add_line([sys,'/','M1/Tprime1'],[395,155;405,155;405,125;450,125])add_line([sys,'/','M1/Tprime1'],[300,170;315,170;325,160])add_line([sys,'/','M1/Tprime1'],[355,155;360,155])add_line([sys,'/','M1/Tprime1'],[75,165;185,165;185,205;280,205;280,235;310,235])add_line([sys,'/','M1/Tprime1'],[185,165;185,150;325,150])add_line([sys,'/','M1/Tprime1'],[260,40;330,40;330,115;450,115])add_line([sys,'/','M1/Tprime1'],[480,120;510,120;510,230;535,230])add_line([sys,'/','M1/Tprime1'],[350,240;535,240])add_line([sys,'/','M1/Tprime1'],[250,245;310,245])add_line([sys,'/','M1/Tprime1'],[75,255;150,255])add_line([sys,'/','M1/Tprime1'],[75,210;110,210;110,235;150,235])add_line([sys,'/','M1/Tprime1'],[215,40;225,40])add_line([sys,'/','M1/Tprime1'],[565,235;585,235])add_line([sys,'/','M1/Tprime1'],[150,60;150,45;185,45])add_line([sys,'/','M1/Tprime1'],[150,20;150,35;185,35])add_line([sys,'/','M1/Tprime1'],[100,60;115,60])add_line([sys,'/','M1/Tprime1'],[100,20;115,20])add_line([sys,'/','M1/Tprime1'],[180,245;205,245])set_param([sys,'/','M1/Tprime1'],...		'Mask Display','Target\nPosition\n(Internal)')%     Finished composite block 'M1/Tprime1'.set_param([sys,'/','M1/Tprime1'],...		'hide name',0,...		'position',[220,346,280,394])add_block('built-in/Inport',[sys,'/','M1/in_1'])set_param([sys,'/','M1/in_1'],...		'position',[85,50,105,70])add_block('built-in/Outport',[sys,'/','M1/out_1'])set_param([sys,'/','M1/out_1'],...		'position',[660,205,680,225])add_block('built-in/From Workspace',[sys,'/',['M1/Ramp Step',13,'Ramp']])set_param([sys,'/',['M1/Ramp Step',13,'Ramp']],...		'hide name',0,...		'matl_expr','[0, t_on, t_on, t_on+dur,t_on+dur 5; 0, 0,peakval,peakval,0,0]''',...		'Mask Display','Pulse Step')set_param([sys,'/',['M1/Ramp Step',13,'Ramp']],...		'Mask Dialogue','Pulse|Peak value|Time of step|Step duration',...		'Mask Translate','peakval = @1; t_on = @2; dur = @3; ',...		'Mask Entries','.25\/.1\/1\/')set_param([sys,'/',['M1/Ramp Step',13,'Ramp']],...		'position',[555,383,625,417])add_block('built-in/Note',[sys,'/',['M1/Voluntary saccades are not correct because the positive efference copy',13,'into Target Position (internal) does not have the proper dynamics.  (The ',13,'pulse step signal can be used with the eye plant dynamics and 130 ms delay.)',13,'']])set_param([sys,'/',['M1/Voluntary saccades are not correct because the positive efference copy',13,'into Target Position (internal) does not have the proper dynamics.  (The ',13,'pulse step signal can be used with the eye plant dynamics and 130 ms delay.)',13,'']],...		'position',[250,490,255,495])add_line([sys,'/','M1'],[530,335;560,335])add_line([sys,'/','M1'],[445,180;445,290;325,290])add_line([sys,'/','M1'],[445,290;560,290])add_line([sys,'/','M1'],[505,260;325,260])add_line([sys,'/','M1'],[245,170;255,170])add_line([sys,'/','M1'],[230,290;115,290;125,170])add_line([sys,'/','M1'],[110,60;130,60])add_line([sys,'/','M1'],[120,60;120,85;210,85])add_line([sys,'/','M1'],[445,180;445,435;275,435])add_line([sys,'/','M1'],[395,105;455,105;465,165])add_line([sys,'/','M1'],[170,335;170,355;215,355])add_line([sys,'/','M1'],[80,175;80,370;215,370])add_line([sys,'/','M1'],[305,170;305,105;350,105])add_line([sys,'/','M1'],[225,435;140,435;140,385;215,385])add_line([sys,'/','M1'],[230,265;210,265;210,240;365,240;375,190])add_line([sys,'/','M1'],[335,215;355,215;355,180;375,180])add_line([sys,'/','M1'],[360,170;375,170])add_line([sys,'/','M1'],[445,180;465,180])add_line([sys,'/','M1'],[285,370;335,370;325,275])add_line([sys,'/','M1'],[285,370;360,370])add_line([sys,'/','M1'],[175,170;190,170])add_line([sys,'/','M1'],[535,175;550,175])add_line([sys,'/','M1'],[490,175;500,175])add_line([sys,'/','M1'],[240,80;240,125;80,135])add_line([sys,'/','M1'],[305,170;315,170])add_line([sys,'/','M1'],[595,175;610,175;610,50;200,50;210,70])add_line([sys,'/','M1'],[610,170;610,175;630,175])add_line([sys,'/','M1'],[610,175;610,215;655,215])set_param([sys,'/','M1'],...		'Mask Display','M1')%     Finished composite block 'M1'.set_param([sys,'/','M1'],...		'position',[40,34,100,86])drawnow% Return any arguments.if (nargin | nargout)	% Must use feval here to access system in memory	if (nargin > 3)		if (flag == 0)			eval(['[ret,x0,str,ts,xts]=',sys,'(t,x,u,flag);'])		else			eval(['ret =', sys,'(t,x,u,flag);'])		end	else		[ret,x0,str,ts,xts] = feval(sys);	endelse	drawnow % Flash up the model and execute load callbackend
Model {  Name			  "testtemp"  Version		  2.20  SimParamPage		  Solver  SampleTimeColors	  off  InvariantConstants	  off  WideVectorLines	  off  ShowLineWidths	  off  StartTime		  "0"  StopTime		  "0"  Solver		  ode4  RelTol		  "1e-3"  AbsTol		  "1e-3"  Refine		  "1"  MaxStep		  "10"  InitialStep		  "auto"  FixedStep		  "auto"  MaxOrder		  5  OutputOption		  RefineOutputTimes  OutputTimes		  "[]"  LoadExternalInput	  off  ExternalInput		  "[t, u]"  SaveTime		  off  TimeSaveName		  "tout"  SaveState		  off  StateSaveName		  "xout"  SaveOutput		  off  OutputSaveName	  "yout"  LoadInitialState	  off  InitialState		  "xInitial"  SaveFinalState	  off  FinalStateName	  "xFinal"  LimitMaxRows		  off  MaxRows		  "1000"  Decimation		  "1"  AlgebraicLoopMsg	  warning  MinStepSizeMsg	  warning  UnconnectedInputMsg	  warning  UnconnectedOutputMsg	  warning  UnconnectedLineMsg	  warning  ConsistencyChecking	  off  ZeroCross		  on  SimulationMode	  normal  RTWSystemTargetFile	  "grt.tlc"  RTWInlineParameters	  off  RTWPlaceOutputsASAP	  off  RTWRetainRTWFile	  off  RTWTemplateMakefile	  "grt_default_tmf"  RTWMakeCommand	  "make_rtw"  RTWGenerateCodeOnly	  off  ExtModeMexFile	  "ext_comm"  ExtModeBatchMode	  off  BlockDefaults {    Orientation		    right    ForegroundColor	    black    BackgroundColor	    white    DropShadow		    off    NamePlacement	    normal    FontName		    "Helvetica"    FontSize		    10    FontWeight		    normal    FontAngle		    normal    ShowName		    on  }  AnnotationDefaults {    HorizontalAlignment	    center    VerticalAlignment	    middle    ForegroundColor	    black    BackgroundColor	    white    DropShadow		    off    FontName		    "Helvetica"    FontSize		    10    FontWeight		    normal    FontAngle		    normal  }  LineDefaults {    FontName		    "Helvetica"    FontSize		    9    FontWeight		    normal    FontAngle		    normal  }  System {    Name		    "testtemp"    Location		    [643, 379, 935, 713]    Open		    on    ToolBar		    on    StatusBar		    on    ScreenColor		    white    PaperOrientation	    landscape    PaperPositionMode	    auto    PaperType		    usletter    PaperUnits		    inches    Block {      BlockType		      SubSystem      Name		      "BS Enable1"      Ports		      [2, 1, 0, 0, 0]      Position		      [40, 240, 80, 280]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('FS\\nEnab')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"BS Enable1"	Location		[490, 497, 1031, 750]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "fsenab"	  Position		  [20, 50, 40, 70]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "[evelpr]"	  Position		  [20, 110, 40, 130]	  Port			  "2"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Abs	  Name			  "Abs1"	  Position		  [140, 110, 170, 130]	  ShowName		  off	}	Block {	  BlockType		  SubSystem	  Name			  "BS Timing"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [285, 115, 335, 155]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('FS\\nEnable\\nTiming')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "BS Timing"	    Location		    [504, 128, 1000, 401]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "From\n <=\n[cmpr]"	      Position		      [20, 110, 40, 130]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "timer\ndur"	      Position		      [95, 160, 115, 180]	      Orientation	      up	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      SubSystem	      Name		      "Latch1"	      Ports		      [2, 2, 0, 0, 0]	      Position		      [330, 90, 365, 145]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Latch"	      MaskDescription	      "Latch"	      MaskHelp		      "Latches the S input.  When S (set) is o""ne, the Q output  becomes one.  The output remains one until the R (reset) in""put becomes one, forcing the output to zero.  If both R and S are one, the la""tch will be in an undefined state."	      MaskPromptString	      "Initial State for Output \"Q\":"	      MaskStyleString	      "edit"	      MaskTunableValueString  "on"	      MaskInitialization      "ini=(@1~=0);"	      MaskDisplay	      "disp('S   Q\\n\\nR  !Q')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      MaskValueString	      "0"	      System {		Name			"Latch1"		Location		[503, 214, 955, 459]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [20, 115, 40, 135]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "in_2"		  Position		  [20, 155, 40, 175]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Demux		  Name			  "Demux"		  Ports			  [1, 2, 0, 0, 0]		  Position		  [275, 105, 315, 140]		  Outputs		  "2"		}		Block {		  BlockType		  CombinatorialLogic		  Name			  "Logic"		  Position		  [195, 105, 250, 145]		  TruthTable		  "[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [210, 20, 250, 50]		  Orientation		  left		  X0			  "ini"		  InheritSampleTime	  off		}		Block {		  BlockType		  Mux		  Name			  "Mux"		  Ports			  [3, 1, 0, 0, 0]		  Position		  [135, 109, 165, 141]		  Inputs		  "3"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [355, 105, 375, 125]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Block {		  BlockType		  Outport		  Name			  "out_2"		  Position		  [355, 150, 375, 170]		  Port			  "2"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_2"		  SrcPort		  1		  Points		  [40, 0; 0, -30]		  DstBlock		  "Mux"		  DstPort		  3		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  DstBlock		  "Mux"		  DstPort		  2		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-120, 0; 0, 80]		  DstBlock		  "Mux"		  DstPort		  1		}		Line {		  SrcBlock		  "Demux"		  SrcPort		  1		  Points		  [15, 0]		  Branch {		    Points		    [0, -80]		    DstBlock		    "Memory"		    DstPort		    1		  }		  Branch {		    DstBlock		    "out_1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Mux"		  SrcPort		  1		  DstBlock		  "Logic"		  DstPort		  1		}		Line {		  SrcBlock		  "Logic"		  SrcPort		  1		  DstBlock		  "Demux"		  DstPort		  1		}		Line {		  SrcBlock		  "Demux"		  SrcPort		  2		  Points		  [15, 0; 0, 30]		  DstBlock		  "out_2"		  DstPort		  1		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "event timer2"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [175, 108, 240, 152]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('Event\\nTimer2')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"event timer2"		Location		[287, 161, 896, 665]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "_PG"		  Position		  [10, 180, 30, 200]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "_timer\nvalue\n(port)"		  Position		  [435, 165, 455, 185]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  TransportDelay		  Name			  "1 msec"		  Position		  [185, 175, 225, 205]		  DelayTime		  ".001"		  InitialInput		  "0"		  BufferSize		  "1024"		}		Block {		  BlockType		  Clock		  Name			  "Clock"		  Position		  [105, 105, 125, 125]		  Location		  [30, 40, 140, 75]		}		Block {		  BlockType		  SubSystem		  Name			  "Latch1"		  Ports			  [2, 2, 0, 0, 0]		  Position		  [295, 175, 330, 230]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Latch"		  MaskDescription	  "Latch"		  MaskHelp		  "Latches the S input.  When S (set) ""is one, the Q output  becomes one.  The output remains one until the R (reset"") input becomes one, forcing the output to zero.  If both R and S are one, th""e latch will be in an undefined state."		  MaskPromptString	  "Initial State for Output \"Q\":"		  MaskStyleString	  "edit"		  MaskTunableValueString  "on"		  MaskInitialization	  "ini=(@1~=0);"		  MaskDisplay		  "disp('S   Q\\n\\nR  !Q')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  MaskValueString	  "0"		  System {		    Name		    "Latch1"		    Location		    [503, 214, 955, 459]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 115, 40, 135]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [20, 155, 40, 175]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Demux		    Name		    "Demux"		    Ports		    [1, 2, 0, 0, 0]		    Position		    [275, 105, 315, 140]		    Outputs		    "2"		    }		    Block {		    BlockType		    CombinatorialLogic		    Name		    "Logic"		    Position		    [195, 105, 250, 145]		    TruthTable		    "[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]"		    }		    Block {		    BlockType		    Memory		    Name		    "Memory"		    Position		    [210, 20, 250, 50]		    Orientation		    left		    X0			    "ini"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    Mux		    Name		    "Mux"		    Ports		    [3, 1, 0, 0, 0]		    Position		    [135, 109, 165, 141]		    Inputs		    "3"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [355, 105, 375, 125]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_2"		    Position		    [355, 150, 375, 170]		    Port		    "2"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [40, 0; 0, -30]		    DstBlock		    "Mux"		    DstPort		    3		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Mux"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Memory"		    SrcPort		    1		    Points		    [-120, 0; 0, 80]		    DstBlock		    "Mux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    Points		    [0, -80]		    DstBlock		    "Memory"		    DstPort		    1		    }		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Mux"		    SrcPort		    1		    DstBlock		    "Logic"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logic"		    SrcPort		    1		    DstBlock		    "Demux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    2		    Points		    [15, 0; 0, 30]		    DstBlock		    "out_2"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [3, 1, 0, 0, 0]		  Position		  [235, 230, 270, 320]		  ShowName		  off		  Operator		  OR		  Inputs		  "3"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [165, 233, 205, 257]		  ShowName		  off		  Operator		  AND		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator2"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [165, 264, 205, 286]		  ShowName		  off		  Operator		  AND		  Inputs		  "2"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [495, 118, 525, 142]		  ShowName		  off		  Operator		  ">="		}		Block {		  BlockType		  SubSystem		  Name			  "SampHold?1"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [360, 101, 400, 154]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('S&H\\n(S=L)\\n(H=H)')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "SampHold?1"		    Location		    [101, 100, 505, 355]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "Input"		    Position		    [50, 75, 70, 95]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "S/H?"		    Position		    [50, 130, 70, 150]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Memory		    Name		    "Memory"		    Position		    [195, 10, 235, 40]		    Orientation		    left		    X0			    "0"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [115, 127, 145, 153]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    }		    Block {		    BlockType		    Switch		    Name		    "Switch2"		    Position		    [200, 60, 230, 90]		    ShowName		    off		    Threshold		    "0.5"		    }		    Block {		    BlockType		    Outport		    Name		    "output"		    Position		    [305, 65, 325, 85]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Switch2"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    Points		    [25, 0; 0, -50]		    DstBlock		    "Memory"		    DstPort		    1		    }		    Branch {		    DstBlock		    "output"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    Points		    [10, 0; 0, -65]		    DstBlock		    "Switch2"		    DstPort		    2		    }		    Line {		    SrcBlock		    "S/H?"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Memory"		    SrcPort		    1		    Points		    [-30, 0; 0, 40]		    DstBlock		    "Switch2"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Input"		    SrcPort		    1		    DstBlock		    "Switch2"		    DstPort		    3		    }		    Annotation {		    Position		    [192, 182]		    VerticalAlignment	    top		    Text		    "When \"S/H?\" is LOW, then \"Inpu""t\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is HIGH,"" the current output is\nmaintained (\"hold\")."		    }		  }		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [440, 115, 460, 135]		  ShowName		  off		  Inputs		  "+-"		}		Block {		  BlockType		  Constant		  Name			  "event\nresettable?"		  Position		  [126, 350, 154, 370]		  Orientation		  up		  Value			  "1"		}		Block {		  BlockType		  SubSystem		  Name			  "leading edge\ndetect"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [65, 254, 125, 286]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('Leading\\nEdge Det')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "leading edge\ndetect"		    Location		    [32, 313, 407, 533]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [45, 60, 65, 80]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 58, 125, 82]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 60, 175, 80]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 63, 290, 87]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 57, 230, 83]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 89, 225, 111]		    ShowName		    off		    Value		    "1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [320, 65, 340, 85]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Annotation {		    Position		    [192, 132]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    Annotation {		    Position		    [180, 22]		    VerticalAlignment	    top		    Text		    "leading edge detection"		    }		  }		}		Block {		  BlockType		  Memory		  Name			  "loop\nbreaker"		  Position		  [330, 315, 370, 345]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "trailing edge\ndetect"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [65, 174, 125, 206]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('Trailing\\nEdge Det')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "trailing edge\ndetect"		    Location		    [32, 313, 407, 533]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		  }		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [570, 120, 590, 140]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "event\nresettable?"		  SrcPort		  1		  Points		  [0, -65]		  Branch {		    DstBlock		    "Logical\nOperator2"		    DstPort		    2		  }		  Branch {		    Points		    [0, -30]		    DstBlock		    "Logical\nOperator1"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "leading edge\ndetect"		  SrcPort		  1		  DstBlock		  "Logical\nOperator2"		  DstPort		  1		}		Line {		  SrcBlock		  "Logical\nOperator2"		  SrcPort		  1		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Line {		  SrcBlock		  "trailing edge\ndetect"		  SrcPort		  1		  Points		  [15, 0]		  Branch {		    Points		    [0, 50]		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "1 msec"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  DstBlock		  "Logical\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "loop\nbreaker"		  SrcPort		  1		  Points		  [-115, 0; 0, -25]		  DstBlock		  "Logical\nOperator"		  DstPort		  3		}		Line {		  SrcBlock		  "_PG"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [0, 80]		    DstBlock		    "leading edge\ndetect"		    DstPort		    1		  }		  Branch {		    DstBlock		    "trailing edge\ndetect"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Latch1"		  SrcPort		  1		  Points		  [10, 0]		  DstBlock		  "SampHold?1"		  DstPort		  2		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    DstBlock		    "out_1"		    DstPort		    1		  }		  Branch {		    Points		    [0, 200]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "Relational\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "Clock"		  SrcPort		  1		  Points		  [40, 0]		  Branch {		    Points		    [0, -35; 245, 0; 0, 40]		    DstBlock		    "Sum"		    DstPort		    1		  }		  Branch {		    DstBlock		    "SampHold?1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "SampHold?1"		  SrcPort		  1		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  Points		  [5, 0]		  DstBlock		  "Latch1"		  DstPort		  2		}		Line {		  SrcBlock		  "1 msec"		  SrcPort		  1		  DstBlock		  "Latch1"		  DstPort		  1		}		Line {		  SrcBlock		  "_timer\nvalue\n(port)"		  SrcPort		  1		  Points		  [20, 0]		  DstBlock		  "Relational\nOperator"		  DstPort		  2		}		Annotation {		  Position		  [317, 547]		  VerticalAlignment	  top		  Text			  "In 2) Subsequent events DO NOT rese""t the counter; it only resets when it\nreaches zero"		}		Annotation {		  Position		  [292, 642]		  VerticalAlignment	  top		  Text			  "2) A new event (leading or trailing"" edge)  is detected. -- Only case 1)"		}		Annotation {		  Position		  [312, 622]		  VerticalAlignment	  top		  Text			  "1) The count reaches its limit (set"" in \"timer value\")  -- Both case 1) and 2)"		}		Annotation {		  Position		  [312, 512]		  VerticalAlignment	  top		  Text			  "In 1), Any event (leading or traili""ng edge) will reset the counter so that it\ncounts down from the end trailing"" edge) of that event."		}		Annotation {		  Position		  [297, 482]		  VerticalAlignment	  top		  Text			  "It has TWO modes: 1) Event resettab""le and 2) Event Non-resettable"		}		Annotation {		  Position		  [262, 587]		  VerticalAlignment	  top		  Text			  "The real trick here is understandin""g how to reload the countdown.\nIt resets if either of two conditions is met:""  "		}		Annotation {		  Position		  [297, 677]		  VerticalAlignment	  top		  Text			  "The \"OR\" gate allows either of th""ese conditions to reset the circuit.  The delay before the\n\"S\" input of th""e flip-flop prevents both \"S\" and \"R\" from being set simultaneously, beca""use\nthis would put the flip-flop in an undefined state."		}		Annotation {		  Position		  [267, 732]		  VerticalAlignment	  top		  Text			  "Therefore, an event first RESETS an""d then SETS the flip-flop."		}		Annotation {		  Position		  [202, 162]		  VerticalAlignment	  top		  Text			  "(Init input: 0) "		}		Annotation {		  Position		  [342, 232]		  VerticalAlignment	  top		  Text			  "(FF init state: Q=0)"		}		Annotation {		  Position		  [352, 287]		  VerticalAlignment	  top		  Text			  "(Init input: 0)"		}		Annotation {		  Position		  [317, 427]		  VerticalAlignment	  top		  Text			  "This block is an RESETTABLE EVENT T""IMER.  It outputs a spike of unit height xx milliseconds\n(set by \"timer val""ue\") after it detects an event ( i.e a TRAILING edge which represents the en""d of a\n saccadic pulse)"		}		Annotation {		  Position		  [52, 42]		  VerticalAlignment	  top		  Text			  "Resettable\nEvent Timer"		  FontSize		  12		  FontWeight		  bold		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "leading edge\ndetect"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [175, 64, 235, 96]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('Leading\\nEdge Det')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"leading edge\ndetect"		Location		[423, 315, 798, 535]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [45, 60, 65, 80]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [95, 58, 125, 82]		  ShowName		  off		}		Block {		  BlockType		  Derivative		  Name			  "Derivative"		  Position		  [145, 60, 175, 80]		  ShowName		  off		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [260, 63, 290, 87]		  ShowName		  off		  Operator		  "=="		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [200, 57, 230, 83]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Constant		  Name			  "Threshold\n1"		  Position		  [205, 89, 225, 111]		  ShowName		  off		  Value			  "1"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [320, 65, 340, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Threshold\n1"		  SrcPort		  1		  Points		  [15, 0]		  DstBlock		  "Relational\nOperator"		  DstPort		  2		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  DstBlock		  "Relational\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "Derivative"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  DstBlock		  "Derivative"		  DstPort		  1		}		Annotation {		  Position		  [180, 22]		  VerticalAlignment	  top		  Text			  "leading edge detection"		}	      }	    }	    Block {	      BlockType		      Outport	      Name		      "[bsenab]"	      Position		      [435, 95, 455, 115]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "From\n <=\n[cmpr]"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		Points			[0, -40]		DstBlock		"leading edge\ndetect"		DstPort			1	      }	      Branch {		DstBlock		"event timer2"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "leading edge\ndetect"	      SrcPort		      1	      Points		      [30, 0; 0, 25]	      DstBlock		      "Latch1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "event timer2"	      SrcPort		      1	      DstBlock		      "Latch1"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Latch1"	      SrcPort		      1	      DstBlock		      "[bsenab]"	      DstPort		      1	    }	    Line {	      SrcBlock		      "timer\ndur"	      SrcPort		      1	      Points		      [0, -15]	      DstBlock		      "event timer2"	      DstPort		      2	    }	    Annotation {	      Position		      [357, 72]	      VerticalAlignment	      top	      Text		      "(FF init state: Q=0)"	    }	    Annotation {	      Position		      [222, 227]	      VerticalAlignment	      top	      Text		      "* Leading Edge of input ENABLEs output"	    }	    Annotation {	      Position		      [107, 207]	      VerticalAlignment	      top	      Text		      "Operation:"	    }	    Annotation {	      Position		      [225, 207]	      VerticalAlignment	      top	      Text		      "*BS Enabling is initially DISABLED"	    }	    Annotation {	      Position		      [222, 247]	      VerticalAlignment	      top	      Text		      "* Output of TIMER circuit DISABLES outp""ut"	    }	    Annotation {	      Position		      [112, 17]	      VerticalAlignment	      top	      Text		      "BS Timing"	      FontSize		      12	      FontWeight	      bold	    }	  }	}	Block {	  BlockType		  Derivative	  Name			  "Derivative"	  Position		  [65, 110, 95, 130]	  ShowName		  off	  MaskDisplay		  "disp('s')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  RelationalOperator	  Name			  "Relational\nOperator3"	  Position		  [215, 114, 240, 136]	  ShowName		  off	  Operator		  "<="	}	Block {	  BlockType		  Switch	  Name			  "Switch4"	  Position		  [395, 119, 420, 151]	  ShowName		  off	  Threshold		  ".5"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace14"	  Position		  [200, 87, 235, 103]	  Orientation		  left	  ShowName		  off	  VariableName		  "cmpr1"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	  MaskType		  "imsw1in"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace15"	  Position		  [300, 87, 340, 103]	  Orientation		  left	  ShowName		  off	  VariableName		  "fsenab"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	  MaskType		  "imsw1in"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace16"	  Position		  [130, 142, 165, 158]	  ShowName		  off	  VariableName		  "sout1"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	  MaskType		  "imsw1in"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Constant	  Name			  "off"	  Position		  [370, 165, 390, 185]	  Orientation		  up	  Value			  "0"	}	Block {	  BlockType		  Constant	  Name			  "threshold\n(accel)"	  Position		  [185, 145, 205, 165]	  Orientation		  up	  Value			  "40"	}	Block {	  BlockType		  Constant	  Name			  "timer\nvalue"	  Position		  [251, 175, 279, 195]	  Orientation		  up	  Value			  ".05"	}	Block {	  BlockType		  Outport	  Name			  "[bsmc]"	  Position		  [450, 125, 470, 145]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Relational\nOperator3"	  SrcPort		  1	  Points		  [15, 0]	  Branch {	    Points		    [0, -30]	    DstBlock		    "To Workspace14"	    DstPort		    1	  }	  Branch {	    DstBlock		    "BS Timing"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Derivative"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    Points		    [0, 30]	    DstBlock		    "To Workspace16"	    DstPort		    1	  }	  Branch {	    DstBlock		    "Abs1"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Abs1"	  SrcPort		  1	  DstBlock		  "Relational\nOperator3"	  DstPort		  1	}	Line {	  SrcBlock		  "BS Timing"	  SrcPort		  1	  Points		  [20, 0]	  Branch {	    Points		    [0, -40]	    DstBlock		    "To Workspace15"	    DstPort		    1	  }	  Branch {	    DstBlock		    "Switch4"	    DstPort		    2	  }	}	Line {	  SrcBlock		  "[evelpr]"	  SrcPort		  1	  DstBlock		  "Derivative"	  DstPort		  1	}	Line {	  SrcBlock		  "off"	  SrcPort		  1	  DstBlock		  "Switch4"	  DstPort		  3	}	Line {	  SrcBlock		  "threshold\n(accel)"	  SrcPort		  1	  Points		  [0, -10]	  DstBlock		  "Relational\nOperator3"	  DstPort		  2	}	Line {	  SrcBlock		  "fsenab"	  SrcPort		  1	  Points		  [335, 0]	  DstBlock		  "Switch4"	  DstPort		  1	}	Line {	  SrcBlock		  "Switch4"	  SrcPort		  1	  DstBlock		  "[bsmc]"	  DstPort		  1	}	Line {	  SrcBlock		  "timer\nvalue"	  SrcPort		  1	  Points		  [0, -25]	  DstBlock		  "BS Timing"	  DstPort		  2	}	Annotation {	  Position		  [172, 22]	  VerticalAlignment	  top	  Text			  "FS Enable"	  FontWeight		  bold	}	Annotation {	  Position		  [262, 217]	  VerticalAlignment	  top	  Text			  "This block allows a BS for up to xx ms (set"" by \"timer value\")\nafter the acceleration criterion is met (i.e., drops be""low threshold)"	}      }    }    Block {      BlockType		      SubSystem      Name		      "PG+NI->OMN\n->Plant"      Ports		      [1, 1, 0, 0, 0]      Position		      [20, 88, 85, 142]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('PG+NI\\n->OMN\\n->Plant')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"PG+NI->OMN\n->Plant"	Location		[99, 151, 776, 386]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "T"	  Position		  [10, 95, 30, 115]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Gain	  Name			  "CNS\ngain"	  Position		  [155, 90, 190, 120]	  Gain			  "1"	}	Block {	  BlockType		  Integrator	  Name			  "NI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [330, 97, 350, 133]	  ExternalReset		  none	  InitialConditionSource  internal	  InitialCondition	  "0"	  LimitOutput		  off	  UpperSaturationLimit	  "inf"	  LowerSaturationLimit	  "-inf"	  ShowSaturationPort	  off	  ShowStatePort		  off	  AbsoluteTolerance	  "auto"	}	Block {	  BlockType		  SubSystem	  Name			  "OMN"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [385, 79, 455, 126]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('<--\"phasic\"\\nOMN\\n<--\"tonic\"   ""')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "OMN"	    Location		    [197, 96, 736, 527]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "from PG"	      Position		      [40, 120, 60, 140]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "from NI"	      Position		      [40, 195, 60, 215]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [120, 118, 150, 142]	      ShowName		      off	    }	    Block {	      BlockType		      Gain	      Name		      "Gain\n_"	      Position		      [125, 46, 160, 74]	      ShowName		      off	      Gain		      "1.0"	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [260, 80, 305, 115]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?"		Location		[101, 100, 505, 355]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [50, 75, 70, 95]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [50, 130, 70, 150]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 10, 235, 40]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 127, 145, 153]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-30, 0; 0, 40]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [10, 0; 0, -65]		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		  Branch {		    Points		    [25, 0; 0, -50]		    DstBlock		    "Memory"		    DstPort		    1		  }		}		Annotation {		  Position		  [202, 182]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is LOW, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is HIGH, ""the current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [170, 117, 200, 143]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		}	      }	    }	    Block {	      BlockType		      Sum	      Name		      "Sum"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [340, 55, 360, 75]	      ShowName		      off	      Inputs		      "++"	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [400, 114, 430, 146]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [415, 195, 460, 215]	      ShowName		      off	      VariableName	      "ni_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [415, 54, 455, 76]	      ShowName		      off	      VariableName	      "pg_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [460, 120, 480, 140]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?"	      SrcPort		      1	      Points		      [15, 0]	      DstBlock		      "Sum"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      Points		      [35, 0]	      Branch {		DstBlock		"Switch"		DstPort			2	      }	      Branch {		Points			[0, -25]		DstBlock		"SampHold?"		DstPort			2	      }	    }	    Line {	      SrcBlock		      "from PG"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		Points			[0, -70]		DstBlock		"Gain\n_"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Sum"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[5, 0; 0, 55]		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "from NI"	      SrcPort		      1	      Points		      [160, 0]	      Branch {		Points			[145, 0]		Branch {		  Points		  [0, -65]		  DstBlock		  "Switch"		  DstPort		  3		}		Branch {		  DstBlock		  "To Workspace"		  DstPort		  1		}	      }	      Branch {		Points			[0, -115]		DstBlock		"SampHold?"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Gain\n_"	      SrcPort		      1	      DstBlock		      "Sum"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Annotation {	      Position		      [272, 372]	      VerticalAlignment	      top	      Text		      "Note that the OMN properly combines the"" pulse with the output of the NI, by latching\nthat output to its value at th""e moment the pulse appears."	    }	    Annotation {	      Position		      [47, 12]	      VerticalAlignment	      top	      Text		      "OMN"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [267, 302]	      VerticalAlignment	      top	      Text		      "Operation: when the pulse is active (\"""from PG\") it activates the switch, passing the\nupper input through to the o""utput.  When the pulse is over, the switch changes, \nallowing the lower inpu""t (from the NI) to pass. "	    }	    Annotation {	      Position		      [267, 252]	      VerticalAlignment	      top	      Text		      "This block behaves like the ocular moto""r neurons,combining a phasic pulse (from PG)\nwith the tonic step produced by"" integration of the step, yielding a Pulse-Step\nto drive the plant."	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "PG w\nrNI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [65, 89, 115, 121]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('PG rNI\\n(2P)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "PG w\nrNI"	    Location		    [23, 378, 686, 643]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "mcsprd"	      Position		      [60, 55, 80, 75]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Constant	      Name		      "Constant1"	      Position		      [517, 80, 543, 100]	      Orientation	      up	      ShowName		      off	      Value		      "0"	    }	    Block {	      BlockType		      MATLABFcn	      Name		      "PH funct"	      Position		      [290, 35, 340, 65]	      ShowName		      off	      MATLABFcn		      "PHfn_ss"	      OutputWidth	      "-1"	      MaskDisplay	      "disp('PH\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	    }	    Block {	      BlockType		      SubSystem	      Name		      "PW funct"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [290, 109, 340, 141]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('PW\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"PW funct"		Location		[54, 224, 772, 695]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "mcspl"		  Position		  [15, 90, 40, 110]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [165, 105, 195, 125]		  ShowName		  off		}		Block {		  BlockType		  Constant		  Name			  "Constant1"		  Position		  [427, 170, 453, 190]		  Orientation		  up		  ShowName		  off		  Value			  "0"		}		Block {		  BlockType		  Constant		  Name			  "Constant3"		  Position		  [422, 100, 458, 120]		  Orientation		  down		  ShowName		  off		  Value			  "1000"		}		Block {		  BlockType		  SubSystem		  Name			  "Good Reset\nIntegrator"		  Ports			  [3, 1, 0, 0, 0]		  Position		  [370, 125, 410, 165]		  Orientation		  left		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('1/s')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Good Reset\nIntegrator"		    Location		    [80, 355, 604, 681]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [50, 70, 70, 90]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [50, 165, 70, 185]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_3"		    Position		    [50, 230, 70, 250]		    Port		    "3"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator2"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [130, 115, 170, 135]		    Orientation		    up		    ShowName		    off		    Operator		    NOT		    Inputs		    "1"		    }		    Block {		    BlockType		    Product		    Name		    "Product"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [195, 75, 225, 95]		    ShowName		    off		    Inputs		    "2"		    }		    Block {		    BlockType		    ResetIntegrator		    Name		    "Reset\nIntegrator"		    Position		    [295, 160, 325, 190]		    ShowName		    off		    InitialCondition	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [400, 165, 420, 185]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Reset\nIntegrator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_3"		    SrcPort		    1		    Points		    [105, 0; 0, -55]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    3		    }		    Line {		    SrcBlock		    "Logical\nOperator2"		    SrcPort		    1		    Points		    [0, -20]		    DstBlock		    "Product"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Product"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Product"		    SrcPort		    1		    Points		    [30, 0; 0, 80]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [75, 0]		    Branch {		    DstBlock		    "Reset\nIntegrator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Logical\nOperator2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  SubSystem		  Name			  "Input\nSwitch"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [90, 85, 140, 140]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('Input\\nSwitch')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Input\nSwitch"		    Location		    [189, 72, 587, 302]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "mcspl"		    Position		    [65, 94, 85, 116]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "pgw"		    Position		    [65, 145, 85, 165]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Switch		    Name		    "Switch2"		    Position		    [275, 80, 305, 110]		    ShowName		    off		    Threshold		    "0.5"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace5"		    Position		    [297, 55, 343, 70]		    Orientation		    up		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "mcsw"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace8"		    Position		    [130, 127, 175, 143]		    Orientation		    left		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "lted"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    SubSystem		    Name		    "lead/trail\nedge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [120, 89, 180, 121]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Lead/Trail\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "lead/trail\nedge det"		    Location		    [19, 367, 394, 587]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [195, 83, 225, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [80, 85, 110, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [135, 82, 165, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "leading/trailing edge detection"		    }		    Annotation {		    Position		    [187, 162]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "mcsw"		    Position		    [335, 85, 355, 105]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "pgw"		    SrcPort		    1		    Points		    [145, 0; 0, -60]		    DstBlock		    "Switch2"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Switch2"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "mcsw"		    DstPort		    1		    }		    Branch {		    Points		    [10, 0]		    DstBlock		    "To Workspace5"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "lead/trail\nedge det"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "Switch2"		    DstPort		    3		    }		    Branch {		    Points		    [0, 30]		    DstBlock		    "To Workspace8"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "mcspl"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "lead/trail\nedge det"		    DstPort		    1		    }		    Branch {		    Points		    [5, 0; 0, -45; 140, 0; 0, 25]		    DstBlock		    "Switch2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [520, 127, 545, 163]		  Orientation		  left		  ShowName		  off		  Operator		  OR		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [555, 170, 585, 190]		  Orientation		  up		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  Lookup		  Name			  "PWfn"		  Position		  [198, 150, 242, 185]		  Orientation		  down		  NamePlacement		  alternate		  ShowName		  off		  InputValues		  "[ 0, 0.1:5, 5:10, 10:50 ]"		  OutputValues		  "[ 0, (0.1:5)*0+15,  (5:10)*1+10,  (""10:50)*2]"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [510, 198, 540, 222]		  ShowName		  off		  Operator		  ">="		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator2"		  Position		  [335, 23, 365, 47]		  ShowName		  off		  Operator		  "<="		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [610, 197, 640, 223]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [300, 195, 320, 215]		  Inputs		  "-+"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace1"		  Position		  [520, 95, 570, 115]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rstsig"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace2"		  Position		  [300, 99, 340, 121]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rni"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace3"		  Position		  [343, 225, 397, 245]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "sumout"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace6"		  Position		  [525, 60, 575, 80]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "nostm"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace7"		  Position		  [203, 235, 237, 260]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "pwfn"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  Constant		  Name			  "dead zone"		  Position		  [290, 55, 320, 75]		  Orientation		  up		  Value			  ".04"		}		Block {		  BlockType		  Memory		  Name			  "loop\nbreaker"		  Position		  [270, 280, 310, 310]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  Constant		  Name			  "out thresh"		  Position		  [460, 220, 490, 240]		  Value			  "0.2"		}		Block {		  BlockType		  Outport		  Name			  "pgw"		  Position		  [680, 200, 700, 220]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "PWfn"		    DstPort		    1		  }		  Branch {		    Points		    [0, -85]		    DstBlock		    "Relational\nOperator2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "PWfn"		  SrcPort		  1		  Points		  [0, 20]		  Branch {		    DstBlock		    "To Workspace7"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sum"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [15, 0]		  Branch {		    DstBlock		    "pgw"		    DstPort		    1		  }		  Branch {		    Points		    [0, 85]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "loop\nbreaker"		  SrcPort		  1		  Points		  [-200, 0; 0, -170]		  DstBlock		  "Input\nSwitch"		  DstPort		  2		}		Line {		  SrcBlock		  "mcspl"		  SrcPort		  1		  DstBlock		  "Input\nSwitch"		  DstPort		  1		}		Line {		  SrcBlock		  "Input\nSwitch"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  Points		  [45, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "To Workspace3"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  Points		  [-15, 0]		  Branch {		    DstBlock		    "Good Reset\nIntegrator"		    DstPort		    2		  }		  Branch {		    Points		    [0, -40]		    DstBlock		    "To Workspace1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Good Reset\nIntegrator"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [-95, 0; 0, 55]		    DstBlock		    "Sum"		    DstPort		    1		  }		  Branch {		    Points		    [-95, 0; 0, -35]		    DstBlock		    "To Workspace2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Relational\nOperator2"		  SrcPort		  1		  Points		  [180, 0]		  Branch {		    DstBlock		    "To Workspace6"		    DstPort		    1		  }		  Branch {		    Points		    [60, 0; 0, 100]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "dead zone"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Relational\nOperator2"		  DstPort		  2		}		Line {		  SrcBlock		  "out thresh"		  SrcPort		  1		  DstBlock		  "Relational\nOperator1"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant1"		  SrcPort		  1		  Points		  [0, -5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  3		}		Line {		  SrcBlock		  "Constant3"		  SrcPort		  1		  Points		  [0, 5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sign"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Annotation {		  Position		  [77, 32]		  VerticalAlignment	  top		  Text			  "PW Function"		  FontSize		  12		  FontWeight		  bold		}		Annotation {		  Position		  [292, 262]		  VerticalAlignment	  top		  Text			  "(Init input:0)"		}		Annotation {		  Position		  [357, 357]		  VerticalAlignment	  top		  Text			  "This block uses a resettable integr""ator and a piecewise-linear function (PWfunc) to generate\na pulse of appropr""iate duration for the incoming stimulus."		}		Annotation {		  Position		  [372, 397]		  VerticalAlignment	  top		  Text			  "The input, scaled by the piece-wise"" linear function, is compared to the output of the \nresettable integrator, w""hich integrates a constant value each iteration."		}		Annotation {		  Position		  [362, 437]		  VerticalAlignment	  top		  Text			  "This process continues until the er""ror has been driven to zero or the input drops to zero,\nand the integrator i""s reset and the pulse is ended."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "RefLatch\n(good)"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [185, 180, 245, 220]	      Orientation	      left	      ShowPortLabels	      off	      MaskDescription	      "Refractory Latch"	      MaskPromptString	      "Refractory Period (ms)"	      MaskStyleString	      "edit"	      MaskTunableValueString  "on"	      MaskInitialization      "delay=@1;"	      MaskDisplay	      "disp('Refract\\nLatch')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      MaskValueString	      "50"	      System {		Name			"RefLatch\n(good)"		Location		[331, 87, 779, 529]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [20, 65, 40, 85]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [75, 65, 105, 85]		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [325, 63, 355, 87]		  ShowName		  off		  Operator		  AND		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [195, 28, 225, 52]		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  SubSystem		  Name			  "trailing edge"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [180, 88, 245, 132]		  ShowPortLabels	  off		  MaskDisplay		  "disp('Refract\\nLatch (te)')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "trailing edge"		    Location		    [215, 375, 795, 712]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 110, 40, 130]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [270, 113, 300, 137]		    ShowName		    off		    Operator		    AND		    Inputs		    "2"		    }		    Block {		    BlockType		    SubSystem		    Name		    "S-R\nFlip-Flop"		    Ports		    [2, 2, 0, 0, 0]		    Position		    [445, 95, 480, 150]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Latch"		    MaskDescription	    "Latch"		    MaskHelp		    "Latches the S input.  When S (set"") is one, the Q output  becomes one.  The output remains one until the R (res""et) input becomes one, forcing the output to zero.  If both R and S are one, ""the latch will be in an undefined state."		    MaskPromptString	    "Initial State for Output \"Q\":"		    MaskStyleString	    "edit"		    MaskTunableValueString  "on"		    MaskInitialization	    "ini=(@1~=0);"		    MaskDisplay		    "disp('S   Q\\n\\nR  !Q')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    MaskValueString	    "1"		    System {		    Name		    "S-R\nFlip-Flop"		    Location		    [503, 214, 955, 459]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 115, 40, 135]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [20, 155, 40, 175]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Demux		    Name		    "Demux"		    Ports		    [1, 2, 0, 0, 0]		    Position		    [275, 105, 315, 140]		    Outputs		    "2"		    }		    Block {		    BlockType		    CombinatorialLogic		    Name		    "Logic"		    Position		    [195, 105, 250, 145]		    TruthTable		    "[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]"		    }		    Block {		    BlockType		    Memory		    Name		    "Memory"		    Position		    [210, 20, 250, 50]		    Orientation		    left		    X0			    "ini"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    Mux		    Name		    "Mux"		    Ports		    [3, 1, 0, 0, 0]		    Position		    [135, 109, 165, 141]		    Inputs		    "3"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [355, 105, 375, 125]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_2"		    Position		    [355, 150, 375, 170]		    Port		    "2"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    2		    Points		    [15, 0; 0, 30]		    DstBlock		    "out_2"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logic"		    SrcPort		    1		    DstBlock		    "Demux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Mux"		    SrcPort		    1		    DstBlock		    "Logic"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -80]		    DstBlock		    "Memory"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Memory"		    SrcPort		    1		    Points		    [-120, 0; 0, 80]		    DstBlock		    "Mux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Mux"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [40, 0; 0, -30]		    DstBlock		    "Mux"		    DstPort		    3		    }		    }		    }		    Block {		    BlockType		    Switch		    Name		    "Switch1"		    Position		    [95, 114, 125, 146]		    ShowName		    off		    Threshold		    ".5"		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n3"		    Position		    [100, 150, 120, 170]		    Orientation		    left		    ShowName		    off		    Value		    "0"		    }		    Block {		    BlockType		    Memory		    Name		    "loop\nbreaker"		    Position		    [285, 220, 325, 250]		    Orientation		    left		    X0			    "1"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    TransportDelay		    Name		    "refractory\nperiod"		    Position		    [355, 95, 395, 125]		    DelayTime		    "(delay)/1000"		    InitialInput	    "0"		    BufferSize		    "1024"		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 59, 215, 91]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det"		    Location		    [27, 381, 402, 601]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det1"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 114, 215, 146]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det1"		    Location		    [32, 313, 407, 533]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [540, 100, 560, 120]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Switch1"		    SrcPort		    1		    DstBlock		    "trailing edge det1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n3"		    SrcPort		    1		    Points		    [-25, 0; 0, -20]		    DstBlock		    "Switch1"		    DstPort		    3		    }		    Line {		    SrcBlock		    "loop\nbreaker"		    SrcPort		    1		    Points		    [-225, 0; 0, -105]		    DstBlock		    "Switch1"		    DstPort		    2		    }		    Line {		    SrcBlock		    "refractory\nperiod"		    SrcPort		    1		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [25, 0]		    Branch {		    DstBlock		    "Switch1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -45]		    DstBlock		    "trailing edge det"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "trailing edge det1"		    SrcPort		    1		    DstBlock		    "Logical\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "trailing edge det"		    SrcPort		    1		    Points		    [30, 0; 0, 45]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logical\nOperator"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, 45; 90, 0; 0, -35]		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    2		    }		    Branch {		    Points		    [0, -15]		    DstBlock		    "refractory\nperiod"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "S-R\nFlip-Flop"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, 125]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		    }		    }		    Annotation {		    Position		    [137, 8]		    VerticalAlignment	    top		    Text		    "This upper branch prevents respon""se\nto transients caused by the switch\ntoggling states"		    }		    Annotation {		    Position		    [387, 17]		    VerticalAlignment	    top		    Text		    "(Must see a trailing edge from th""e\nsignal AS WELL)"		    }		    Annotation {		    Position		    [307, 202]		    VerticalAlignment	    top		    Text		    "(Init input: 1)"		    }		    Annotation {		    Position		    [352, 287]		    VerticalAlignment	    top		    Text		    "latency period starts with the EN""D of the pulse, rather than the beginning."		    }		    Annotation {		    Position		    [332, 307]		    VerticalAlignment	    top		    Text		    "Block operation:  it is initially"" ENABLED, allowing input."		    }		    Annotation {		    Position		    [332, 337]		    VerticalAlignment	    top		    Text		    "When input occurs, the block then"" becomes DISABLED, and remains so for the\nduration of the latency period (se""t either via the mask, or by setting \"delay\" from the command line)"		    }		    Annotation {		    Position		    [337, 377]		    VerticalAlignment	    top		    Text		    "When the latency period is over, ""the block is again ENABLED.  ONLY once the latency period is\nover does the b""lock accept any new input.  (i.e. any input that occurs during the disabled\n"" latency period is ignored)"		    }		    Annotation {		    Position		    [362, 77]		    VerticalAlignment	    top		    Text		    "(Init input: 0)"		    }		    Annotation {		    Position		    [487, 77]		    VerticalAlignment	    top		    Text		    "(FF init state: Q=1)"		    }		  }		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [385, 65, 405, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    Points		    [0, -35]		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    Points		    [0, 35]		    DstBlock		    "trailing edge"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "trailing edge"		  SrcPort		  1		  Points		  [40, 0; 0, -30]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [60, 0; 0, 30]		  DstBlock		  "Logical\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Annotation {		  Position		  [200, 222]		  VerticalAlignment	  top		  Text			  "The \"NOT\" gate outputs a DISABLE ""signal whenever there is any\ninput, so that there can be no response."		}		Annotation {		  Position		  [197, 331]		  VerticalAlignment	  top		  Text			  "By ANDing these outputs, we get a s""ignal that is DISABLED\nstarting with the beginning of the input pulse, and r""emains so until\nrp milliseconds after the termination of the pulse."		}		Annotation {		  Position		  [192, 267]		  VerticalAlignment	  top		  Text			  "The falling edge\" block's output b""ecomes DISABLED upon\ndetection of the END of the input pulse, and remains\ns""o until the refractory period of rp milliseconds has elapsed."		}		Annotation {		  Position		  [180, 177]		  VerticalAlignment	  top		  Text			  "It's a cheap trick, but it seems to"" work:"		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?1"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [140, 54, 185, 101]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(S=H)\\n(H=L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?1"		Location		[354, 161, 739, 416]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [60, 20, 80, 40]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [60, 65, 80, 85]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 105, 235, 135]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 62, 145, 88]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-15, 0; 0, -35]		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  Points		  [90, 0; 0, 35]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [25, 0; 0, 45]		    DstBlock		    "Memory"		    DstPort		    1		  }		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Annotation {		  Position		  [197, 177]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is HIGH, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is LOW, t""he current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [545, 44, 575, 76]	      ShowName		      off	      Threshold		      "0.5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [382, 70, 428, 85]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgpk"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [480, 115, 520, 135]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgw"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace4"	      Position		      [230, 70, 280, 90]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "mcspl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace5"	      Position		      [82, 230, 128, 250]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "refl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Memory	      Name		      "loop\nbreaker"	      Position		      [455, 185, 495, 215]	      Orientation	      left	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Outport	      Name		      "PG"	      Position		      [620, 50, 640, 70]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?1"	      SrcPort		      1	      Points		      [15, 0]	      Branch {		Points			[0, -30]		DstBlock		"PH funct"		DstPort			1	      }	      Branch {		Points			[0, 45]		DstBlock		"PW funct"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace4"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "RefLatch\n(good)"	      SrcPort		      1	      Points		      [-75, 0]	      Branch {		Points			[0, -110]		DstBlock		"SampHold?1"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace5"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "loop\nbreaker"	      SrcPort		      1	      DstBlock		      "RefLatch\n(good)"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Constant1"	      SrcPort		      1	      DstBlock		      "Switch"	      DstPort		      3	    }	    Line {	      SrcBlock		      "mcsprd"	      SrcPort		      1	      DstBlock		      "SampHold?1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		DstBlock		"PG"		DstPort			1	      }	      Branch {		Points			[0, 140]		DstBlock		"loop\nbreaker"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PW funct"	      SrcPort		      1	      Points		      [110, 0]	      Branch {		Points			[0, -65]		DstBlock		"Switch"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PH funct"	      SrcPort		      1	      Points		      [60, 0]	      Branch {		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace"		DstPort			1	      }	    }	    Annotation {	      Position		      [482, 167]	      VerticalAlignment	      top	      Text		      "(Init input:0)"	    }	    Annotation {	      Position		      [137, 12]	      VerticalAlignment	      top	      Text		      "PG with Resettable NI"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [337, 357]	      VerticalAlignment	      top	      Text		      "The refractory latch prevents the pulse"" generator from responding to another stimulus until a\nphysiologically accep""table refractory period has elapsed by controlling the \"Sample and Hold\" bl""ock."	    }	    Annotation {	      Position		      [327, 297]	      VerticalAlignment	      top	      Text		      "Here it is at last!  A pulse generator ""based on a resettable integrator (look inside the PW\nblock).  The PW functio""n controls the switch, allowing the output of the PH function to pass\nfor th""e appropriate duration."	    }	  }	}	Block {	  BlockType		  Product	  Name			  "Product"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [275, 152, 305, 188]	  ShowName		  off	  Inputs		  "2"	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [560, 84, 605, 126]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Constant	  Name			  "Threshold\n1"	  Position		  [210, 189, 250, 211]	  ShowName		  off	  Value			  "5.125"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace"	  Position		  [395, 167, 445, 183]	  ShowName		  off	  VariableName		  "niout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace1"	  Position		  [480, 132, 530, 148]	  ShowName		  off	  VariableName		  "psout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace2"	  Position		  [390, 45, 440, 65]	  ShowName		  off	  VariableName		  "pgout2"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace4"	  Position		  [105, 55, 155, 75]	  Orientation		  up	  ShowName		  off	  VariableName		  "pgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay5"	  Position		  [480, 85, 540, 125]	  ShowName		  off	  DelayTime		  "0.001"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(msec)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Gain	  Name			  "phasic gain"	  Position		  [240, 41, 270, 69]	  Gain			  "1"	}	Block {	  BlockType		  Outport	  Name			  "out_1"	  Position		  [630, 95, 650, 115]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Threshold\n1"	  SrcPort		  1	  Points		  [0, -20]	  DstBlock		  "Product"	  DstPort		  2	}	Line {	  SrcBlock		  "PG w\nrNI"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "CNS\ngain"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace4"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Transport\nDelay5"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Line {	  SrcBlock		  "Product"	  SrcPort		  1	  Points		  [0, -55]	  DstBlock		  "NI"	  DstPort		  1	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "out_1"	  DstPort		  1	}	Line {	  SrcBlock		  "NI"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "OMN"	    DstPort		    2	  }	  Branch {	    Points		    [0, 60]	    DstBlock		    "To Workspace"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "phasic gain"	  SrcPort		  1	  Points		  [85, 0]	  Branch {	    DstBlock		    "To Workspace2"	    DstPort		    1	  }	  Branch {	    Points		    [0, 35]	    DstBlock		    "OMN"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "OMN"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "Transport\nDelay5"	    DstPort		    1	  }	  Branch {	    Points		    [0, 35]	    DstBlock		    "To Workspace1"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "CNS\ngain"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    Points		    [0, -50]	    DstBlock		    "phasic gain"	    DstPort		    1	  }	  Branch {	    Points		    [0, 55]	    DstBlock		    "Product"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "T"	  SrcPort		  1	  DstBlock		  "PG w\nrNI"	  DstPort		  1	}	Annotation {	  Position		  [167, 302]	  VerticalAlignment	  top	  Text			  "clg\npl"	}	Annotation {	  Position		  [362, 8]	  VerticalAlignment	  top	  Text			  "Use me in \"Testbed\"  when running \"PGtes""t\""	  FontWeight		  bold	}	Annotation {	  Position		  [102, 12]	  VerticalAlignment	  top	  Text			  "PG+NI->OMN->Plant"	  FontSize		  12	  FontWeight		  bold	}      }    }    Block {      BlockType		      MATLABFcn      Name		      "PH funct"      Position		      [200, 20, 250, 50]      ShowName		      off      MATLABFcn		      "TGexp_pk"      OutputWidth	      "-1"      MaskDisplay	      "disp('Tonic\\nGain')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale    }    Block {      BlockType		      Lookup      Name		      "PWfn"      Position		      [33, 20, 77, 55]      Orientation	      down      NamePlacement	      alternate      ShowName		      off      InputValues	      "[ 0, 0.05:5, 5:10, 10:50 ]"      OutputValues	      "[ 0, (0.05:5)*0+15,  (5:10)*1+10,  (10:50)*2]"    }    Block {      BlockType		      SubSystem      Name		      "Pulse+NI->\nOMN->Plant"      Ports		      [1, 1, 0, 0, 0]      Position		      [100, 88, 165, 142]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('Pulse+NI\\n->OMN\\n->Plant')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"Pulse+NI->\nOMN->Plant"	Location		[99, 446, 776, 681]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "T"	  Position		  [10, 95, 30, 115]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Gain	  Name			  "CNS\ngain"	  Position		  [155, 90, 190, 120]	  Gain			  "1"	}	Block {	  BlockType		  Integrator	  Name			  "NI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [330, 97, 350, 133]	  ExternalReset		  none	  InitialConditionSource  internal	  InitialCondition	  "0"	  LimitOutput		  off	  UpperSaturationLimit	  "inf"	  LowerSaturationLimit	  "-inf"	  ShowSaturationPort	  off	  ShowStatePort		  off	  AbsoluteTolerance	  "auto"	}	Block {	  BlockType		  SubSystem	  Name			  "OMN"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [385, 79, 455, 126]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('<--\"phasic\"\\nOMN\\n<--\"tonic\"   ""')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "OMN"	    Location		    [197, 96, 736, 527]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "from PG"	      Position		      [40, 120, 60, 140]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "from NI"	      Position		      [40, 195, 60, 215]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [120, 118, 150, 142]	      ShowName		      off	    }	    Block {	      BlockType		      Gain	      Name		      "Gain\n_"	      Position		      [125, 46, 160, 74]	      ShowName		      off	      Gain		      "1.0"	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [260, 80, 305, 115]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?"		Location		[101, 100, 505, 355]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [50, 75, 70, 95]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [50, 130, 70, 150]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 10, 235, 40]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 127, 145, 153]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-30, 0; 0, 40]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [10, 0; 0, -65]		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		  Branch {		    Points		    [25, 0; 0, -50]		    DstBlock		    "Memory"		    DstPort		    1		  }		}		Annotation {		  Position		  [202, 182]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is LOW, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is HIGH, ""the current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [170, 117, 200, 143]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		}	      }	    }	    Block {	      BlockType		      Sum	      Name		      "Sum"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [340, 55, 360, 75]	      ShowName		      off	      Inputs		      "++"	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [400, 114, 430, 146]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [415, 195, 460, 215]	      ShowName		      off	      VariableName	      "ni_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [415, 54, 455, 76]	      ShowName		      off	      VariableName	      "pg_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [460, 120, 480, 140]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?"	      SrcPort		      1	      Points		      [15, 0]	      DstBlock		      "Sum"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      Points		      [35, 0]	      Branch {		DstBlock		"Switch"		DstPort			2	      }	      Branch {		Points			[0, -25]		DstBlock		"SampHold?"		DstPort			2	      }	    }	    Line {	      SrcBlock		      "from PG"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		Points			[0, -70]		DstBlock		"Gain\n_"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Sum"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[5, 0; 0, 55]		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "from NI"	      SrcPort		      1	      Points		      [160, 0]	      Branch {		Points			[145, 0]		Branch {		  Points		  [0, -65]		  DstBlock		  "Switch"		  DstPort		  3		}		Branch {		  DstBlock		  "To Workspace"		  DstPort		  1		}	      }	      Branch {		Points			[0, -115]		DstBlock		"SampHold?"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Gain\n_"	      SrcPort		      1	      DstBlock		      "Sum"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Annotation {	      Position		      [272, 372]	      VerticalAlignment	      top	      Text		      "Note that the OMN properly combines the"" pulse with the output of the NI, by latching\nthat output to its value at th""e moment the pulse appears."	    }	    Annotation {	      Position		      [47, 12]	      VerticalAlignment	      top	      Text		      "OMN"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [267, 302]	      VerticalAlignment	      top	      Text		      "Operation: when the pulse is active (\"""from PG\") it activates the switch, passing the\nupper input through to the o""utput.  When the pulse is over, the switch changes, \nallowing the lower inpu""t (from the NI) to pass. "	    }	    Annotation {	      Position		      [267, 252]	      VerticalAlignment	      top	      Text		      "This block behaves like the ocular moto""r neurons,combining a phasic pulse (from PG)\nwith the tonic step produced by"" integration of the step, yielding a Pulse-Step\nto drive the plant."	    }	  }	}	Block {	  BlockType		  Product	  Name			  "Product"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [275, 147, 305, 183]	  ShowName		  off	  Inputs		  "2"	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [560, 84, 605, 126]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Constant	  Name			  "Threshold\n1"	  Position		  [220, 190, 250, 210]	  ShowName		  off	  Value			  "5.25"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace"	  Position		  [395, 167, 445, 183]	  ShowName		  off	  VariableName		  "niout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace1"	  Position		  [480, 52, 530, 68]	  ShowName		  off	  VariableName		  "psout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace4"	  Position		  [100, 55, 150, 75]	  Orientation		  up	  ShowName		  off	  VariableName		  "pgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay5"	  Position		  [480, 85, 540, 125]	  ShowName		  off	  DelayTime		  "0.001"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(msec)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Gain	  Name			  "phasic gain"	  Position		  [240, 41, 270, 69]	  Gain			  "1"	}	Block {	  BlockType		  Outport	  Name			  "out"	  Position		  [630, 95, 650, 115]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Threshold\n1"	  SrcPort		  1	  Points		  [0, -25]	  DstBlock		  "Product"	  DstPort		  2	}	Line {	  SrcBlock		  "T"	  SrcPort		  1	  Points		  [90, 0]	  Branch {	    DstBlock		    "CNS\ngain"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace4"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Transport\nDelay5"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Line {	  SrcBlock		  "Product"	  SrcPort		  1	  Points		  [0, -50]	  DstBlock		  "NI"	  DstPort		  1	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "out"	  DstPort		  1	}	Line {	  SrcBlock		  "NI"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "OMN"	    DstPort		    2	  }	  Branch {	    Points		    [0, 60]	    DstBlock		    "To Workspace"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "phasic gain"	  SrcPort		  1	  Points		  [85, 0; 0, 35]	  DstBlock		  "OMN"	  DstPort		  1	}	Line {	  SrcBlock		  "OMN"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "Transport\nDelay5"	    DstPort		    1	  }	  Branch {	    Points		    [0, -45]	    DstBlock		    "To Workspace1"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "CNS\ngain"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    Points		    [0, -50]	    DstBlock		    "phasic gain"	    DstPort		    1	  }	  Branch {	    Points		    [0, 50]	    DstBlock		    "Product"	    DstPort		    1	  }	}	Annotation {	  Position		  [167, 302]	  VerticalAlignment	  top	  Text			  "clg\npl"	}	Annotation {	  Position		  [362, 8]	  VerticalAlignment	  top	  Text			  "Use me in \"Testbed\"  when running \"PHcal""c\""	  FontWeight		  bold	}	Annotation {	  Position		  [102, 12]	  VerticalAlignment	  top	  Text			  "Pulse+NI->OMN->Plant"	  FontSize		  12	  FontWeight		  bold	}      }    }    Block {      BlockType		      SubSystem      Name		      "Target Velocity\nReconstruction"      Ports		      [5, 2, 0, 0, 0]      Position		      [150, 228, 230, 302]      ShowName		      off      ShowPortLabels	      on      MaskDisplay	      "disp('Target\\nVelocity\\nReconstruction')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"Target Velocity\nReconstruction"	Location		[344, 336, 939, 664]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "[imsp]"	  Position		  [25, 50, 45, 70]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "[sbsp]"	  Position		  [25, 95, 45, 115]	  Port			  "2"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "[sbsac]"	  Position		  [25, 280, 45, 300]	  Port			  "3"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "[edot50]"	  Position		  [25, 180, 45, 200]	  Port			  "4"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "[dspvel]"	  Position		  [25, 235, 45, 255]	  Port			  "5"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  SubSystem	  Name			  "5-Median"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [165, 163, 205, 187]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('5-Med')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "5-Median"	    Location		    [226, 260, 641, 537]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "in_1"	      Position		      [30, 75, 50, 95]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      MATLABFcn	      Name		      "MATLAB Fcn"	      Position		      [250, 198, 310, 232]	      ShowName		      off	      MATLABFcn		      "median"	      OutputWidth	      "1"	      MaskDisplay	      "disp('Median')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	    }	    Block {	      BlockType		      Memory	      Name		      "Memory"	      Position		      [185, 70, 225, 100]	      ShowName		      off	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Memory	      Name		      "Memory1"	      Position		      [125, 70, 165, 100]	      ShowName		      off	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Memory	      Name		      "Memory2"	      Position		      [245, 70, 285, 100]	      ShowName		      off	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Memory	      Name		      "Memory3"	      Position		      [305, 70, 345, 100]	      ShowName		      off	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Mux	      Name		      "Mux"	      Ports		      [5, 1, 0, 0, 0]	      Position		      [188, 145, 252, 180]	      Orientation	      down	      Inputs		      "5"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [350, 205, 370, 225]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "Mux"	      SrcPort		      1	      Points		      [0, 30]	      DstBlock		      "MATLAB Fcn"	      DstPort		      1	    }	    Line {	      SrcBlock		      "in_1"	      SrcPort		      1	      Points		      [50, 0]	      Branch {		Points			[0, 40; 95, 0]		DstBlock		"Mux"		DstPort			1	      }	      Branch {		DstBlock		"Memory1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Memory"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[0, 20; -10, 0]		DstBlock		"Mux"		DstPort			3	      }	      Branch {		DstBlock		"Memory2"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Memory2"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[0, 30; -60, 0]		DstBlock		"Mux"		DstPort			4	      }	      Branch {		DstBlock		"Memory3"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Memory3"	      SrcPort		      1	      Points		      [10, 0; 0, 40; -120, 0]	      DstBlock		      "Mux"	      DstPort		      5	    }	    Line {	      SrcBlock		      "Memory1"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[0, 25; 40, 0]		DstBlock		"Mux"		DstPort			2	      }	      Branch {		DstBlock		"Memory"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "MATLAB Fcn"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Annotation {	      Position		      [222, 32]	      VerticalAlignment	      top	      Text		      "5-pt median filter"	      FontSize		      12	      FontWeight	      bold	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "DZ 0.1"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [285, 232, 320, 268]	  ShowPortLabels	  off	  MaskDisplay		  "disp('Dead\\nZone')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "DZ 0.1"	    Location		    [368, 265, 779, 539]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "in_1"	      Position		      [40, 50, 60, 70]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [95, 80, 125, 100]	      Orientation	      down	      ShowName		      off	    }	    Block {	      BlockType		      RelationalOperator	      Name		      "Relational\nOperator"	      Position		      [140, 100, 175, 120]	      ShowName		      off	      Operator		      ">="	    }	    Block {	      BlockType		      Switch	      Name		      "Switch6"	      Position		      [245, 54, 270, 86]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      Constant	      Name		      "dead\nzone"	      Position		      [105, 135, 125, 155]	      Orientation	      up	      Value		      ".1"	    }	    Block {	      BlockType		      Constant	      Name		      "pos (deg)\ncriterion1"	      Position		      [235, 95, 255, 115]	      Orientation	      left	      ShowName		      off	      Value		      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [315, 60, 335, 80]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "Relational\nOperator"	      SrcPort		      1	      Points		      [15, 0; 0, -40]	      DstBlock		      "Switch6"	      DstPort		      2	    }	    Line {	      SrcBlock		      "dead\nzone"	      SrcPort		      1	      Points		      [0, -15]	      DstBlock		      "Relational\nOperator"	      DstPort		      2	    }	    Line {	      SrcBlock		      "pos (deg)\ncriterion1"	      SrcPort		      1	      DstBlock		      "Switch6"	      DstPort		      3	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Relational\nOperator"	      DstPort		      1	    }	    Line {	      SrcBlock		      "in_1"	      SrcPort		      1	      Points		      [45, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		DstBlock		"Switch6"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Switch6"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Annotation {	      Position		      [197, 222]	      VerticalAlignment	      top	      Text		      " We just output zero when the dead zone"" is in effect, and leave the\n output alone the rest of the time."	    }	    Annotation {	      Position		      [192, 177]	      VerticalAlignment	      top	      Text		      "This block is a better implementation o""f a dead zone than  the\nblock supplied by SIMULINK, because here we don't _s""ubtract_\nthe dead zone from the rest of output."	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "DZ 0.5"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [485, 97, 520, 133]	  NamePlacement		  alternate	  ShowPortLabels	  off	  MaskDisplay		  "disp('Dead\\nZone')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "DZ 0.5"	    Location		    [368, 265, 779, 538]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "in_1"	      Position		      [40, 50, 60, 70]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "in_2"	      Position		      [40, 130, 60, 150]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [95, 80, 125, 100]	      Orientation	      down	      ShowName		      off	    }	    Block {	      BlockType		      RelationalOperator	      Name		      "Relational\nOperator"	      Position		      [140, 105, 175, 125]	      ShowName		      off	      Operator		      ">="	    }	    Block {	      BlockType		      Switch	      Name		      "Switch6"	      Position		      [245, 54, 270, 86]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      Constant	      Name		      "pos (deg)\ncriterion1"	      Position		      [235, 95, 255, 115]	      Orientation	      left	      ShowName		      off	      Value		      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [315, 60, 335, 80]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "Relational\nOperator"	      SrcPort		      1	      Points		      [15, 0; 0, -45]	      DstBlock		      "Switch6"	      DstPort		      2	    }	    Line {	      SrcBlock		      "pos (deg)\ncriterion1"	      SrcPort		      1	      DstBlock		      "Switch6"	      DstPort		      3	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      Points		      [0, 5]	      DstBlock		      "Relational\nOperator"	      DstPort		      1	    }	    Line {	      SrcBlock		      "in_1"	      SrcPort		      1	      Points		      [45, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		DstBlock		"Switch6"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Switch6"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "in_2"	      SrcPort		      1	      Points		      [50, 0; 0, -20]	      DstBlock		      "Relational\nOperator"	      DstPort		      2	    }	    Annotation {	      Position		      [197, 222]	      VerticalAlignment	      top	      Text		      " We just output zero when the dead zone"" is in effect, and leave the\n output alone the rest of the time."	    }	    Annotation {	      Position		      [192, 177]	      VerticalAlignment	      top	      Text		      "This block is a better implementation o""f a dead zone than  the\nblock supplied by SIMULINK, because here we don't _s""ubtract_\nthe dead zone from the rest of output."	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "Lim 100"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [205, 235, 255, 265]	  ShowPortLabels	  off	  MaskDisplay		  "disp('Limiter')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "Lim 100"	    Location		    [517, 337, 994, 551]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "in_1"	      Position		      [65, 63, 85, 87]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [160, 63, 190, 87]	      ShowName		      off	    }	    Block {	      BlockType		      Constant	      Name		      "Limit"	      Position		      [190, 105, 220, 135]	      Orientation	      up	      Value		      "100"	    }	    Block {	      BlockType		      Product	      Name		      "Product"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [345, 63, 375, 87]	      ShowName		      off	      Inputs		      "2"	    }	    Block {	      BlockType		      RelationalOperator	      Name		      "Relational\nOperator"	      Position		      [240, 68, 270, 92]	      ShowName		      off	      Operator		      "<="	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [405, 65, 425, 85]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "in_1"	      SrcPort		      1	      Points		      [10, 0]	      Branch {		Points			[0, -30; 195, 0; 0, 25]		DstBlock		"Product"		DstPort			1	      }	      Branch {		DstBlock		"Abs"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Relational\nOperator"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Relational\nOperator"	      SrcPort		      1	      DstBlock		      "Product"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Limit"	      SrcPort		      1	      Points		      [0, -15]	      DstBlock		      "Relational\nOperator"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Product"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Annotation {	      Position		      [262, 162]	      VerticalAlignment	      top	      Text		      "This block limits outputs to less than ""or equal to the \"Limit\" constant.\nInputs greater than \"Limit\" yield a ze""ro output."	    }	  }	}	Block {	  BlockType		  Product	  Name			  "Product"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [380, 245, 400, 265]	  ShowName		  off	  Inputs		  "2"	}	Block {	  BlockType		  SubSystem	  Name			  "SampHold?2"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [130, 230, 175, 265]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('S=H\\nH=L')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "SampHold?2"	    Location		    [354, 161, 739, 416]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "Input"	      Position		      [60, 20, 80, 40]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "S/H?"	      Position		      [60, 65, 80, 85]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Memory	      Name		      "Memory"	      Position		      [195, 105, 235, 135]	      Orientation	      left	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [115, 62, 145, 88]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}	      }	    }	    Block {	      BlockType		      Switch	      Name		      "Switch2"	      Position		      [200, 60, 230, 90]	      ShowName		      off	      Threshold		      "0.5"	    }	    Block {	      BlockType		      Outport	      Name		      "output"	      Position		      [305, 65, 325, 85]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "Memory"	      SrcPort		      1	      Points		      [-15, 0; 0, -35]	      DstBlock		      "Switch2"	      DstPort		      3	    }	    Line {	      SrcBlock		      "Input"	      SrcPort		      1	      Points		      [90, 0; 0, 35]	      DstBlock		      "Switch2"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch2"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		Points			[0, 45]		DstBlock		"Memory"		DstPort			1	      }	      Branch {		DstBlock		"output"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      DstBlock		      "Switch2"	      DstPort		      2	    }	    Line {	      SrcBlock		      "S/H?"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Annotation {	      Position		      [197, 177]	      VerticalAlignment	      top	      Text		      "When \"S/H?\" is HIGH, then \"Input\" i""s switched directly to the\noutput (\"sample\").  When \"S/H?\" is LOW, the c""urrent output is\nmaintained (\"hold\")."	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "SampHold?4"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [165, 75, 210, 115]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('S=H\\nH=L')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "SampHold?4"	    Location		    [354, 161, 739, 416]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "Input"	      Position		      [60, 20, 80, 40]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "S/H?"	      Position		      [60, 65, 80, 85]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Memory	      Name		      "Memory"	      Position		      [195, 105, 235, 135]	      Orientation	      left	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [115, 62, 145, 88]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		}	      }	    }	    Block {	      BlockType		      Switch	      Name		      "Switch2"	      Position		      [200, 60, 230, 90]	      ShowName		      off	      Threshold		      "0.5"	    }	    Block {	      BlockType		      Outport	      Name		      "output"	      Position		      [305, 65, 325, 85]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "S/H?"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      DstBlock		      "Switch2"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Switch2"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		DstBlock		"output"		DstPort			1	      }	      Branch {		Points			[0, 45]		DstBlock		"Memory"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Input"	      SrcPort		      1	      Points		      [90, 0; 0, 35]	      DstBlock		      "Switch2"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Memory"	      SrcPort		      1	      Points		      [-15, 0; 0, -35]	      DstBlock		      "Switch2"	      DstPort		      3	    }	    Annotation {	      Position		      [197, 177]	      VerticalAlignment	      top	      Text		      "When \"S/H?\" is HIGH, then \"Input\" i""s switched directly to the\noutput (\"sample\").  When \"S/H?\" is LOW, the c""urrent output is\nmaintained (\"hold\")."	    }	  }	}	Block {	  BlockType		  Sum	  Name			  "Sum11"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [80, 224, 100, 251]	  ShowName		  off	  Inputs		  "++"	}	Block {	  BlockType		  Sum	  Name			  "Sum7"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [110, 73, 130, 97]	  ShowName		  off	  Inputs		  "++"	}	Block {	  BlockType		  Switch	  Name			  "Switch2"	  Position		  [420, 89, 440, 121]	  ShowName		  off	  Threshold		  "0.5"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace19"	  Position		  [205, 282, 245, 298]	  Orientation		  left	  NamePlacement		  alternate	  ShowName		  off	  VariableName		  "limout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace23"	  Position		  [207, 25, 243, 40]	  Orientation		  up	  ShowName		  off	  VariableName		  "spsh"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace24"	  Position		  [255, 58, 290, 72]	  Orientation		  left	  ShowName		  off	  VariableName		  "splpf"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace25"	  Position		  [240, 183, 285, 197]	  Orientation		  left	  ShowName		  off	  VariableName		  "spmed"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace26"	  Position		  [315, 182, 365, 198]	  Orientation		  left	  ShowName		  off	  VariableName		  "spmedlpf"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace28"	  Position		  [175, 48, 210, 62]	  NamePlacement		  alternate	  ShowName		  off	  VariableName		  "tvlpr"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace29"	  Position		  [115, 282, 170, 298]	  Orientation		  left	  NamePlacement		  alternate	  ShowName		  off	  VariableName		  "edot50sh"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  TransferFcn	  Name			  "Transfer Fcn"	  Position		  [250, 79, 295, 111]	  ShowName		  off	  Numerator		  "[0.5]"	  Denominator		  "[1 0.5]"	}	Block {	  BlockType		  TransferFcn	  Name			  "Transfer Fcn2"	  Position		  [450, 286, 495, 314]	  ShowName		  off	  Numerator		  "[10]"	  Denominator		  "[1 10]"	}	Block {	  BlockType		  TransferFcn	  Name			  "Transfer Fcn3"	  Position		  [320, 141, 365, 169]	  ShowName		  off	  Numerator		  "[5]"	  Denominator		  "[1 5]"	}	Block {	  BlockType		  TransferFcn	  Name			  "Transfer Fcn4"	  Position		  [465, 201, 510, 229]	  ShowName		  off	  Numerator		  "[n]"	  Denominator		  "[d n]"	}	Block {	  BlockType		  Constant	  Name			  "dead zone"	  Position		  [455, 145, 485, 160]	  Orientation		  up	  Value			  "0.5"	}	Block {	  BlockType		  Constant	  Name			  "oppose3"	  Position		  [310, 113, 375, 127]	  ShowName		  off	  Value			  "velreconsw"	}	Block {	  BlockType		  Constant	  Name			  "oppose4"	  Position		  [375, 281, 415, 299]	  Orientation		  left	  NamePlacement		  alternate	  ShowName		  off	  Value			  "0.8983"	}	Block {	  BlockType		  Outport	  Name			  "[velerr]"	  Position		  [525, 245, 545, 265]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Block {	  BlockType		  Outport	  Name			  "[tvpr]"	  Position		  [545, 105, 565, 125]	  Port			  "2"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "[sbsp]"	  SrcPort		  1	  DstBlock		  "SampHold?4"	  DstPort		  2	}	Line {	  SrcBlock		  "SampHold?4"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "Transfer Fcn"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace23"	    DstPort		    1	  }	  Branch {	    Points		    [0, 60; 75, 0]	    Branch {	      DstBlock		      "To Workspace25"	      DstPort		      1	    }	    Branch {	      DstBlock		      "Transfer Fcn3"	      DstPort		      1	    }	  }	}	Line {	  SrcBlock		  "[imsp]"	  SrcPort		  1	  Points		  [15, 0; 0, 20]	  DstBlock		  "Sum7"	  DstPort		  1	}	Line {	  SrcBlock		  "Sum7"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "SampHold?4"	    DstPort		    1	  }	  Branch {	    Points		    [0, -30]	    DstBlock		    "To Workspace28"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Transfer Fcn"	  SrcPort		  1	  Points		  [15, 0]	  Branch {	    Points		    [0, -30]	    DstBlock		    "To Workspace24"	    DstPort		    1	  }	  Branch {	    DstBlock		    "Switch2"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "oppose3"	  SrcPort		  1	  Points		  [5, 0; 0, -15]	  DstBlock		  "Switch2"	  DstPort		  2	}	Line {	  SrcBlock		  "Switch2"	  SrcPort		  1	  DstBlock		  "DZ 0.5"	  DstPort		  1	}	Line {	  SrcBlock		  "[sbsac]"	  SrcPort		  1	  Points		  [55, 0; 0, -35]	  DstBlock		  "SampHold?2"	  DstPort		  2	}	Line {	  SrcBlock		  "[dspvel]"	  SrcPort		  1	  DstBlock		  "Sum11"	  DstPort		  2	}	Line {	  SrcBlock		  "[edot50]"	  SrcPort		  1	  Points		  [10, 0; 0, 40]	  DstBlock		  "Sum11"	  DstPort		  1	}	Line {	  SrcBlock		  "Sum11"	  SrcPort		  1	  DstBlock		  "SampHold?2"	  DstPort		  1	}	Line {	  SrcBlock		  "Lim 100"	  SrcPort		  1	  Points		  [5, 0]	  Branch {	    Points		    [0, 40]	    DstBlock		    "To Workspace19"	    DstPort		    1	  }	  Branch {	    DstBlock		    "DZ 0.1"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "SampHold?2"	  SrcPort		  1	  Points		  [5, 0]	  Branch {	    DstBlock		    "To Workspace29"	    DstPort		    1	  }	  Branch {	    DstBlock		    "Lim 100"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "DZ 0.1"	  SrcPort		  1	  DstBlock		  "Product"	  DstPort		  1	}	Line {	  SrcBlock		  "Product"	  SrcPort		  1	  Points		  [35, 0]	  Branch {	    Points		    [0, -45; -350, 0; 0, -120]	    DstBlock		    "Sum7"	    DstPort		    2	  }	  Branch {	    DstBlock		    "[velerr]"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "oppose4"	  SrcPort		  1	  Points		  [-10, 0; 0, -30]	  DstBlock		  "Product"	  DstPort		  2	}	Line {	  SrcBlock		  "DZ 0.5"	  SrcPort		  1	  DstBlock		  "[tvpr]"	  DstPort		  1	}	Line {	  SrcBlock		  "dead zone"	  SrcPort		  1	  DstBlock		  "DZ 0.5"	  DstPort		  2	}	Line {	  SrcBlock		  "Transfer Fcn3"	  SrcPort		  1	  Points		  [15, 0]	  Branch {	    Points		    [10, 0; 0, -40]	    DstBlock		    "Switch2"	    DstPort		    3	  }	  Branch {	    Points		    [0, 35]	    DstBlock		    "To Workspace26"	    DstPort		    1	  }	}	Annotation {	  Position		  [367, 12]	  VerticalAlignment	  top	  Text			  "last mod:\n01/10/00"	  FontName		  "Arial"	  FontSize		  12	  FontWeight		  bold	}	Annotation {	  Position		  [102, 7]	  VerticalAlignment	  top	  Text			  "Target Velocity Reconstruction"	  FontName		  "Arial"	  FontSize		  12	  FontWeight		  bold	}	Annotation {	  Position		  [434, 66]	  Text			  "temporary\nvel recon\nfilt switch"	}	Annotation {	  Position		  [352, 70]	  Text			  "0=nofilt\n1=filt"	}	Annotation {	  Position		  [421, 177]	  Text			  "s/(s+5) or\ns/(s+10)?"	}	Annotation {	  Position		  [510, 181]	  Text			  "Variable dead zone?"	}      }    }    Block {      BlockType		      SubSystem      Name		      "plant& delay"      Ports		      [1, 1, 0, 0, 0]      Position		      [110, 163, 160, 217]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('plant &\\ndelay')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"plant& delay"	Location		[239, 449, 567, 639]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "T"	  Position		  [10, 95, 30, 115]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [185, 84, 230, 126]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay5"	  Position		  [95, 85, 150, 125]	  ShowName		  off	  DelayTime		  "pdelay"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(ms)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Outport	  Name			  "out_1"	  Position		  [270, 95, 290, 115]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "out_1"	  DstPort		  1	}	Line {	  SrcBlock		  "T"	  SrcPort		  1	  DstBlock		  "Transport\nDelay5"	  DstPort		  1	}	Line {	  SrcBlock		  "Transport\nDelay5"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Annotation {	  Position		  [167, 302]	  VerticalAlignment	  top	  Text			  "clg\npl"	}	Annotation {	  Position		  [157, 22]	  VerticalAlignment	  top	  Text			  "Use me in \"Testbed\"  when running \"PHcal""c\""	  FontWeight		  bold	}      }    }    Block {      BlockType		      SubSystem      Name		      "plant+ test2"      Ports		      [1, 1, 0, 0, 0]      Position		      [190, 163, 260, 217]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('PG->delay\\n->plant')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"plant+ test2"	Location		[263, 463, 759, 640]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "T"	  Position		  [10, 95, 30, 115]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  SubSystem	  Name			  "PG w\nrNI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [65, 89, 115, 121]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('PG rNI\\n(2P)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "PG w\nrNI"	    Location		    [23, 378, 686, 643]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "mcsprd"	      Position		      [60, 55, 80, 75]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Constant	      Name		      "Constant1"	      Position		      [517, 80, 543, 100]	      Orientation	      up	      ShowName		      off	      Value		      "0"	    }	    Block {	      BlockType		      MATLABFcn	      Name		      "PH funct"	      Position		      [290, 35, 340, 65]	      ShowName		      off	      MATLABFcn		      "PHfn_ss"	      OutputWidth	      "-1"	      MaskDisplay	      "disp('PH\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	    }	    Block {	      BlockType		      SubSystem	      Name		      "PW funct"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [290, 109, 340, 141]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('PW\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"PW funct"		Location		[54, 224, 772, 695]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "mcspl"		  Position		  [15, 90, 40, 110]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [165, 105, 195, 125]		  ShowName		  off		}		Block {		  BlockType		  Constant		  Name			  "Constant1"		  Position		  [427, 170, 453, 190]		  Orientation		  up		  ShowName		  off		  Value			  "0"		}		Block {		  BlockType		  Constant		  Name			  "Constant3"		  Position		  [422, 100, 458, 120]		  Orientation		  down		  ShowName		  off		  Value			  "1000"		}		Block {		  BlockType		  SubSystem		  Name			  "Good Reset\nIntegrator"		  Ports			  [3, 1, 0, 0, 0]		  Position		  [370, 125, 410, 165]		  Orientation		  left		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('1/s')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Good Reset\nIntegrator"		    Location		    [80, 355, 604, 681]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [50, 70, 70, 90]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [50, 165, 70, 185]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_3"		    Position		    [50, 230, 70, 250]		    Port		    "3"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator2"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [130, 115, 170, 135]		    Orientation		    up		    ShowName		    off		    Operator		    NOT		    Inputs		    "1"		    }		    Block {		    BlockType		    Product		    Name		    "Product"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [195, 75, 225, 95]		    ShowName		    off		    Inputs		    "2"		    }		    Block {		    BlockType		    ResetIntegrator		    Name		    "Reset\nIntegrator"		    Position		    [295, 160, 325, 190]		    ShowName		    off		    InitialCondition	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [400, 165, 420, 185]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Reset\nIntegrator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_3"		    SrcPort		    1		    Points		    [105, 0; 0, -55]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    3		    }		    Line {		    SrcBlock		    "Logical\nOperator2"		    SrcPort		    1		    Points		    [0, -20]		    DstBlock		    "Product"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Product"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Product"		    SrcPort		    1		    Points		    [30, 0; 0, 80]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [75, 0]		    Branch {		    DstBlock		    "Reset\nIntegrator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Logical\nOperator2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  SubSystem		  Name			  "Input\nSwitch"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [90, 85, 140, 140]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('Input\\nSwitch')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Input\nSwitch"		    Location		    [189, 72, 587, 302]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "mcspl"		    Position		    [65, 94, 85, 116]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "pgw"		    Position		    [65, 145, 85, 165]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Switch		    Name		    "Switch2"		    Position		    [275, 80, 305, 110]		    ShowName		    off		    Threshold		    "0.5"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace5"		    Position		    [297, 55, 343, 70]		    Orientation		    up		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "mcsw"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace8"		    Position		    [130, 127, 175, 143]		    Orientation		    left		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "lted"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    SubSystem		    Name		    "lead/trail\nedge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [120, 89, 180, 121]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Lead/Trail\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "lead/trail\nedge det"		    Location		    [19, 367, 394, 587]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [195, 83, 225, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [80, 85, 110, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [135, 82, 165, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "leading/trailing edge detection"		    }		    Annotation {		    Position		    [187, 162]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "mcsw"		    Position		    [335, 85, 355, 105]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "pgw"		    SrcPort		    1		    Points		    [145, 0; 0, -60]		    DstBlock		    "Switch2"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Switch2"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "mcsw"		    DstPort		    1		    }		    Branch {		    Points		    [10, 0]		    DstBlock		    "To Workspace5"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "lead/trail\nedge det"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "Switch2"		    DstPort		    3		    }		    Branch {		    Points		    [0, 30]		    DstBlock		    "To Workspace8"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "mcspl"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "lead/trail\nedge det"		    DstPort		    1		    }		    Branch {		    Points		    [5, 0; 0, -45; 140, 0; 0, 25]		    DstBlock		    "Switch2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [520, 127, 545, 163]		  Orientation		  left		  ShowName		  off		  Operator		  OR		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [555, 170, 585, 190]		  Orientation		  up		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  Lookup		  Name			  "PWfn"		  Position		  [198, 150, 242, 185]		  Orientation		  down		  NamePlacement		  alternate		  ShowName		  off		  InputValues		  "[ 0, 0.1:5, 5:10, 10:50 ]"		  OutputValues		  "[ 0, (0.1:5)*0+15,  (5:10)*1+10,  (""10:50)*2]"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [510, 198, 540, 222]		  ShowName		  off		  Operator		  ">="		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator2"		  Position		  [335, 23, 365, 47]		  ShowName		  off		  Operator		  "<="		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [610, 197, 640, 223]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [300, 195, 320, 215]		  Inputs		  "-+"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace1"		  Position		  [520, 95, 570, 115]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rstsig"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace2"		  Position		  [300, 99, 340, 121]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rni"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace3"		  Position		  [343, 225, 397, 245]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "sumout"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace6"		  Position		  [525, 60, 575, 80]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "nostm"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace7"		  Position		  [203, 235, 237, 260]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "pwfn"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  Constant		  Name			  "dead zone"		  Position		  [290, 55, 320, 75]		  Orientation		  up		  Value			  ".04"		}		Block {		  BlockType		  Memory		  Name			  "loop\nbreaker"		  Position		  [270, 280, 310, 310]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  Constant		  Name			  "out thresh"		  Position		  [460, 220, 490, 240]		  Value			  "0.2"		}		Block {		  BlockType		  Outport		  Name			  "pgw"		  Position		  [680, 200, 700, 220]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "PWfn"		    DstPort		    1		  }		  Branch {		    Points		    [0, -85]		    DstBlock		    "Relational\nOperator2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "PWfn"		  SrcPort		  1		  Points		  [0, 20]		  Branch {		    DstBlock		    "To Workspace7"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sum"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [15, 0]		  Branch {		    DstBlock		    "pgw"		    DstPort		    1		  }		  Branch {		    Points		    [0, 85]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "loop\nbreaker"		  SrcPort		  1		  Points		  [-200, 0; 0, -170]		  DstBlock		  "Input\nSwitch"		  DstPort		  2		}		Line {		  SrcBlock		  "mcspl"		  SrcPort		  1		  DstBlock		  "Input\nSwitch"		  DstPort		  1		}		Line {		  SrcBlock		  "Input\nSwitch"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  Points		  [45, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "To Workspace3"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  Points		  [-15, 0]		  Branch {		    DstBlock		    "Good Reset\nIntegrator"		    DstPort		    2		  }		  Branch {		    Points		    [0, -40]		    DstBlock		    "To Workspace1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Good Reset\nIntegrator"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [-95, 0; 0, 55]		    DstBlock		    "Sum"		    DstPort		    1		  }		  Branch {		    Points		    [-95, 0; 0, -35]		    DstBlock		    "To Workspace2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Relational\nOperator2"		  SrcPort		  1		  Points		  [180, 0]		  Branch {		    DstBlock		    "To Workspace6"		    DstPort		    1		  }		  Branch {		    Points		    [60, 0; 0, 100]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "dead zone"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Relational\nOperator2"		  DstPort		  2		}		Line {		  SrcBlock		  "out thresh"		  SrcPort		  1		  DstBlock		  "Relational\nOperator1"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant1"		  SrcPort		  1		  Points		  [0, -5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  3		}		Line {		  SrcBlock		  "Constant3"		  SrcPort		  1		  Points		  [0, 5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sign"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Annotation {		  Position		  [77, 32]		  VerticalAlignment	  top		  Text			  "PW Function"		  FontSize		  12		  FontWeight		  bold		}		Annotation {		  Position		  [292, 262]		  VerticalAlignment	  top		  Text			  "(Init input:0)"		}		Annotation {		  Position		  [357, 357]		  VerticalAlignment	  top		  Text			  "This block uses a resettable integr""ator and a piecewise-linear function (PWfunc) to generate\na pulse of appropr""iate duration for the incoming stimulus."		}		Annotation {		  Position		  [372, 397]		  VerticalAlignment	  top		  Text			  "The input, scaled by the piece-wise"" linear function, is compared to the output of the \nresettable integrator, w""hich integrates a constant value each iteration."		}		Annotation {		  Position		  [362, 437]		  VerticalAlignment	  top		  Text			  "This process continues until the er""ror has been driven to zero or the input drops to zero,\nand the integrator i""s reset and the pulse is ended."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "RefLatch\n(good)"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [185, 180, 245, 220]	      Orientation	      left	      ShowPortLabels	      off	      MaskDescription	      "Refractory Latch"	      MaskPromptString	      "Refractory Period (ms)"	      MaskStyleString	      "edit"	      MaskTunableValueString  "on"	      MaskInitialization      "delay=@1;"	      MaskDisplay	      "disp('Refract\\nLatch')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      MaskValueString	      "50"	      System {		Name			"RefLatch\n(good)"		Location		[331, 87, 779, 529]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [20, 65, 40, 85]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [75, 65, 105, 85]		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [325, 63, 355, 87]		  ShowName		  off		  Operator		  AND		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [195, 28, 225, 52]		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  SubSystem		  Name			  "trailing edge"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [180, 88, 245, 132]		  ShowPortLabels	  off		  MaskDisplay		  "disp('Refract\\nLatch (te)')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "trailing edge"		    Location		    [215, 375, 795, 712]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 110, 40, 130]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [270, 113, 300, 137]		    ShowName		    off		    Operator		    AND		    Inputs		    "2"		    }		    Block {		    BlockType		    SubSystem		    Name		    "S-R\nFlip-Flop"		    Ports		    [2, 2, 0, 0, 0]		    Position		    [445, 95, 480, 150]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Latch"		    MaskDescription	    "Latch"		    MaskHelp		    "Latches the S input.  When S (set"") is one, the Q output  becomes one.  The output remains one until the R (res""et) input becomes one, forcing the output to zero.  If both R and S are one, ""the latch will be in an undefined state."		    MaskPromptString	    "Initial State for Output \"Q\":"		    MaskStyleString	    "edit"		    MaskTunableValueString  "on"		    MaskInitialization	    "ini=(@1~=0);"		    MaskDisplay		    "disp('S   Q\\n\\nR  !Q')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    MaskValueString	    "1"		    System {		    Name		    "S-R\nFlip-Flop"		    Location		    [503, 214, 955, 459]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 115, 40, 135]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [20, 155, 40, 175]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Demux		    Name		    "Demux"		    Ports		    [1, 2, 0, 0, 0]		    Position		    [275, 105, 315, 140]		    Outputs		    "2"		    }		    Block {		    BlockType		    CombinatorialLogic		    Name		    "Logic"		    Position		    [195, 105, 250, 145]		    TruthTable		    "[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]"		    }		    Block {		    BlockType		    Memory		    Name		    "Memory"		    Position		    [210, 20, 250, 50]		    Orientation		    left		    X0			    "ini"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    Mux		    Name		    "Mux"		    Ports		    [3, 1, 0, 0, 0]		    Position		    [135, 109, 165, 141]		    Inputs		    "3"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [355, 105, 375, 125]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_2"		    Position		    [355, 150, 375, 170]		    Port		    "2"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    2		    Points		    [15, 0; 0, 30]		    DstBlock		    "out_2"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logic"		    SrcPort		    1		    DstBlock		    "Demux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Mux"		    SrcPort		    1		    DstBlock		    "Logic"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -80]		    DstBlock		    "Memory"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Memory"		    SrcPort		    1		    Points		    [-120, 0; 0, 80]		    DstBlock		    "Mux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Mux"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [40, 0; 0, -30]		    DstBlock		    "Mux"		    DstPort		    3		    }		    }		    }		    Block {		    BlockType		    Switch		    Name		    "Switch1"		    Position		    [95, 114, 125, 146]		    ShowName		    off		    Threshold		    ".5"		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n3"		    Position		    [100, 150, 120, 170]		    Orientation		    left		    ShowName		    off		    Value		    "0"		    }		    Block {		    BlockType		    Memory		    Name		    "loop\nbreaker"		    Position		    [285, 220, 325, 250]		    Orientation		    left		    X0			    "1"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    TransportDelay		    Name		    "refractory\nperiod"		    Position		    [355, 95, 395, 125]		    DelayTime		    "(delay)/1000"		    InitialInput	    "0"		    BufferSize		    "1024"		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 59, 215, 91]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det"		    Location		    [27, 381, 402, 601]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det1"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 114, 215, 146]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det1"		    Location		    [32, 313, 407, 533]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [540, 100, 560, 120]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Switch1"		    SrcPort		    1		    DstBlock		    "trailing edge det1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n3"		    SrcPort		    1		    Points		    [-25, 0; 0, -20]		    DstBlock		    "Switch1"		    DstPort		    3		    }		    Line {		    SrcBlock		    "loop\nbreaker"		    SrcPort		    1		    Points		    [-225, 0; 0, -105]		    DstBlock		    "Switch1"		    DstPort		    2		    }		    Line {		    SrcBlock		    "refractory\nperiod"		    SrcPort		    1		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [25, 0]		    Branch {		    DstBlock		    "Switch1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -45]		    DstBlock		    "trailing edge det"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "trailing edge det1"		    SrcPort		    1		    DstBlock		    "Logical\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "trailing edge det"		    SrcPort		    1		    Points		    [30, 0; 0, 45]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logical\nOperator"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, 45; 90, 0; 0, -35]		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    2		    }		    Branch {		    Points		    [0, -15]		    DstBlock		    "refractory\nperiod"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "S-R\nFlip-Flop"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, 125]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		    }		    }		    Annotation {		    Position		    [137, 8]		    VerticalAlignment	    top		    Text		    "This upper branch prevents respon""se\nto transients caused by the switch\ntoggling states"		    }		    Annotation {		    Position		    [387, 17]		    VerticalAlignment	    top		    Text		    "(Must see a trailing edge from th""e\nsignal AS WELL)"		    }		    Annotation {		    Position		    [307, 202]		    VerticalAlignment	    top		    Text		    "(Init input: 1)"		    }		    Annotation {		    Position		    [352, 287]		    VerticalAlignment	    top		    Text		    "latency period starts with the EN""D of the pulse, rather than the beginning."		    }		    Annotation {		    Position		    [332, 307]		    VerticalAlignment	    top		    Text		    "Block operation:  it is initially"" ENABLED, allowing input."		    }		    Annotation {		    Position		    [332, 337]		    VerticalAlignment	    top		    Text		    "When input occurs, the block then"" becomes DISABLED, and remains so for the\nduration of the latency period (se""t either via the mask, or by setting \"delay\" from the command line)"		    }		    Annotation {		    Position		    [337, 377]		    VerticalAlignment	    top		    Text		    "When the latency period is over, ""the block is again ENABLED.  ONLY once the latency period is\nover does the b""lock accept any new input.  (i.e. any input that occurs during the disabled\n"" latency period is ignored)"		    }		    Annotation {		    Position		    [362, 77]		    VerticalAlignment	    top		    Text		    "(Init input: 0)"		    }		    Annotation {		    Position		    [487, 77]		    VerticalAlignment	    top		    Text		    "(FF init state: Q=1)"		    }		  }		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [385, 65, 405, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    Points		    [0, -35]		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    Points		    [0, 35]		    DstBlock		    "trailing edge"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "trailing edge"		  SrcPort		  1		  Points		  [40, 0; 0, -30]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [60, 0; 0, 30]		  DstBlock		  "Logical\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Annotation {		  Position		  [200, 222]		  VerticalAlignment	  top		  Text			  "The \"NOT\" gate outputs a DISABLE ""signal whenever there is any\ninput, so that there can be no response."		}		Annotation {		  Position		  [197, 331]		  VerticalAlignment	  top		  Text			  "By ANDing these outputs, we get a s""ignal that is DISABLED\nstarting with the beginning of the input pulse, and r""emains so until\nrp milliseconds after the termination of the pulse."		}		Annotation {		  Position		  [192, 267]		  VerticalAlignment	  top		  Text			  "The falling edge\" block's output b""ecomes DISABLED upon\ndetection of the END of the input pulse, and remains\ns""o until the refractory period of rp milliseconds has elapsed."		}		Annotation {		  Position		  [180, 177]		  VerticalAlignment	  top		  Text			  "It's a cheap trick, but it seems to"" work:"		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?1"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [140, 54, 185, 101]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(S=H)\\n(H=L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?1"		Location		[354, 161, 739, 416]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [60, 20, 80, 40]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [60, 65, 80, 85]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 105, 235, 135]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 62, 145, 88]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-15, 0; 0, -35]		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  Points		  [90, 0; 0, 35]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [25, 0; 0, 45]		    DstBlock		    "Memory"		    DstPort		    1		  }		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Annotation {		  Position		  [197, 177]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is HIGH, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is LOW, t""he current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [545, 44, 575, 76]	      ShowName		      off	      Threshold		      "0.5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [382, 70, 428, 85]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgpk"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [480, 115, 520, 135]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgw"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace4"	      Position		      [230, 70, 280, 90]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "mcspl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace5"	      Position		      [82, 230, 128, 250]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "refl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Memory	      Name		      "loop\nbreaker"	      Position		      [455, 185, 495, 215]	      Orientation	      left	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Outport	      Name		      "PG"	      Position		      [620, 50, 640, 70]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?1"	      SrcPort		      1	      Points		      [15, 0]	      Branch {		Points			[0, -30]		DstBlock		"PH funct"		DstPort			1	      }	      Branch {		Points			[0, 45]		DstBlock		"PW funct"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace4"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "RefLatch\n(good)"	      SrcPort		      1	      Points		      [-75, 0]	      Branch {		Points			[0, -110]		DstBlock		"SampHold?1"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace5"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "loop\nbreaker"	      SrcPort		      1	      DstBlock		      "RefLatch\n(good)"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Constant1"	      SrcPort		      1	      DstBlock		      "Switch"	      DstPort		      3	    }	    Line {	      SrcBlock		      "mcsprd"	      SrcPort		      1	      DstBlock		      "SampHold?1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		DstBlock		"PG"		DstPort			1	      }	      Branch {		Points			[0, 140]		DstBlock		"loop\nbreaker"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PW funct"	      SrcPort		      1	      Points		      [110, 0]	      Branch {		Points			[0, -65]		DstBlock		"Switch"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PH funct"	      SrcPort		      1	      Points		      [60, 0]	      Branch {		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace"		DstPort			1	      }	    }	    Annotation {	      Position		      [482, 167]	      VerticalAlignment	      top	      Text		      "(Init input:0)"	    }	    Annotation {	      Position		      [137, 12]	      VerticalAlignment	      top	      Text		      "PG with Resettable NI"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [337, 357]	      VerticalAlignment	      top	      Text		      "The refractory latch prevents the pulse"" generator from responding to another stimulus until a\nphysiologically accep""table refractory period has elapsed by controlling the \"Sample and Hold\" bl""ock."	    }	    Annotation {	      Position		      [327, 297]	      VerticalAlignment	      top	      Text		      "Here it is at last!  A pulse generator ""based on a resettable integrator (look inside the PW\nblock).  The PW functio""n controls the switch, allowing the output of the PH function to pass\nfor th""e appropriate duration."	    }	  }	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [270, 84, 315, 126]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace4"	  Position		  [105, 55, 155, 75]	  Orientation		  up	  ShowName		  off	  VariableName		  "pgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay5"	  Position		  [165, 85, 235, 125]	  ShowName		  off	  DelayTime		  "0.01"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(msec)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay6"	  Position		  [340, 85, 410, 125]	  ShowName		  off	  DelayTime		  "0.01"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(msec)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Outport	  Name			  "out_1"	  Position		  [445, 95, 465, 115]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "PG w\nrNI"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "Transport\nDelay5"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace4"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Transport\nDelay5"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Line {	  SrcBlock		  "Transport\nDelay6"	  SrcPort		  1	  DstBlock		  "out_1"	  DstPort		  1	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "Transport\nDelay6"	  DstPort		  1	}	Line {	  SrcBlock		  "T"	  SrcPort		  1	  DstBlock		  "PG w\nrNI"	  DstPort		  1	}	Annotation {	  Position		  [167, 302]	  VerticalAlignment	  top	  Text			  "clg\npl"	}	Annotation {	  Position		  [87, 12]	  VerticalAlignment	  top	  Text			  "PG->delay->Plant"	  FontSize		  12	  FontWeight		  bold	}      }    }    Block {      BlockType		      SubSystem      Name		      "plant+ramp test"      Ports		      [2, 1, 0, 0, 0]      Position		      [185, 93, 260, 142]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('plant+ramp\\ntest')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"plant+ramp test"	Location		[119, 311, 839, 581]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "mc"	  Position		  [20, 95, 40, 115]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Inport	  Name			  "ramp"	  Position		  [20, 170, 40, 190]	  Port			  "2"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Gain	  Name			  "CNS\ngain"	  Position		  [150, 90, 185, 120]	  Gain			  "1"	}	Block {	  BlockType		  Integrator	  Name			  "NI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [370, 97, 390, 133]	  ExternalReset		  none	  InitialConditionSource  internal	  InitialCondition	  "0"	  LimitOutput		  off	  UpperSaturationLimit	  "inf"	  LowerSaturationLimit	  "-inf"	  ShowSaturationPort	  off	  ShowStatePort		  off	  AbsoluteTolerance	  "auto"	}	Block {	  BlockType		  SubSystem	  Name			  "OMN"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [440, 79, 510, 126]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('<--\"phasic\"\\nOMN\\n<--\"tonic\"   ""')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "OMN"	    Location		    [197, 96, 736, 527]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "from PG"	      Position		      [40, 120, 60, 140]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "from NI"	      Position		      [40, 195, 60, 215]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [120, 118, 150, 142]	      ShowName		      off	    }	    Block {	      BlockType		      Gain	      Name		      "Gain\n_"	      Position		      [125, 46, 160, 74]	      ShowName		      off	      Gain		      "1.0"	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [260, 80, 305, 115]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?"		Location		[101, 100, 505, 355]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [50, 75, 70, 95]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [50, 130, 70, 150]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 10, 235, 40]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 127, 145, 153]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-30, 0; 0, 40]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [10, 0; 0, -65]		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		  Branch {		    Points		    [25, 0; 0, -50]		    DstBlock		    "Memory"		    DstPort		    1		  }		}		Annotation {		  Position		  [202, 182]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is LOW, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is HIGH, ""the current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [170, 117, 200, 143]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		}	      }	    }	    Block {	      BlockType		      Sum	      Name		      "Sum"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [340, 55, 360, 75]	      ShowName		      off	      Inputs		      "++"	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [400, 114, 430, 146]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [415, 195, 460, 215]	      ShowName		      off	      VariableName	      "ni_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [415, 54, 455, 76]	      ShowName		      off	      VariableName	      "pg_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [460, 120, 480, 140]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?"	      SrcPort		      1	      Points		      [15, 0]	      DstBlock		      "Sum"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      Points		      [35, 0]	      Branch {		DstBlock		"Switch"		DstPort			2	      }	      Branch {		Points			[0, -25]		DstBlock		"SampHold?"		DstPort			2	      }	    }	    Line {	      SrcBlock		      "from PG"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		Points			[0, -70]		DstBlock		"Gain\n_"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Sum"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[5, 0; 0, 55]		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "from NI"	      SrcPort		      1	      Points		      [160, 0]	      Branch {		Points			[145, 0]		Branch {		  Points		  [0, -65]		  DstBlock		  "Switch"		  DstPort		  3		}		Branch {		  DstBlock		  "To Workspace"		  DstPort		  1		}	      }	      Branch {		Points			[0, -115]		DstBlock		"SampHold?"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Gain\n_"	      SrcPort		      1	      DstBlock		      "Sum"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Annotation {	      Position		      [272, 372]	      VerticalAlignment	      top	      Text		      "Note that the OMN properly combines the"" pulse with the output of the NI, by latching\nthat output to its value at th""e moment the pulse appears."	    }	    Annotation {	      Position		      [47, 12]	      VerticalAlignment	      top	      Text		      "OMN"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [267, 302]	      VerticalAlignment	      top	      Text		      "Operation: when the pulse is active (\"""from PG\") it activates the switch, passing the\nupper input through to the o""utput.  When the pulse is over, the switch changes, \nallowing the lower inpu""t (from the NI) to pass. "	    }	    Annotation {	      Position		      [267, 252]	      VerticalAlignment	      top	      Text		      "This block behaves like the ocular moto""r neurons,combining a phasic pulse (from PG)\nwith the tonic step produced by"" integration of the step, yielding a Pulse-Step\nto drive the plant."	    }	  }	}	Block {	  BlockType		  SubSystem	  Name			  "PG w\nrNI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [70, 89, 120, 121]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('PG rNI\\n(2P)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "PG w\nrNI"	    Location		    [23, 378, 686, 643]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "mcsprd"	      Position		      [60, 55, 80, 75]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Constant	      Name		      "Constant1"	      Position		      [517, 80, 543, 100]	      Orientation	      up	      ShowName		      off	      Value		      "0"	    }	    Block {	      BlockType		      MATLABFcn	      Name		      "PH funct"	      Position		      [290, 35, 340, 65]	      ShowName		      off	      MATLABFcn		      "PHfn_ss"	      OutputWidth	      "-1"	      MaskDisplay	      "disp('PH\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	    }	    Block {	      BlockType		      SubSystem	      Name		      "PW funct"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [290, 109, 340, 141]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('PW\\nfunction')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"PW funct"		Location		[54, 224, 772, 695]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "mcspl"		  Position		  [15, 90, 40, 110]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [165, 105, 195, 125]		  ShowName		  off		}		Block {		  BlockType		  Constant		  Name			  "Constant1"		  Position		  [427, 170, 453, 190]		  Orientation		  up		  ShowName		  off		  Value			  "0"		}		Block {		  BlockType		  Constant		  Name			  "Constant3"		  Position		  [422, 100, 458, 120]		  Orientation		  down		  ShowName		  off		  Value			  "1000"		}		Block {		  BlockType		  SubSystem		  Name			  "Good Reset\nIntegrator"		  Ports			  [3, 1, 0, 0, 0]		  Position		  [370, 125, 410, 165]		  Orientation		  left		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('1/s')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Good Reset\nIntegrator"		    Location		    [80, 355, 604, 681]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [50, 70, 70, 90]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [50, 165, 70, 185]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_3"		    Position		    [50, 230, 70, 250]		    Port		    "3"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator2"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [130, 115, 170, 135]		    Orientation		    up		    ShowName		    off		    Operator		    NOT		    Inputs		    "1"		    }		    Block {		    BlockType		    Product		    Name		    "Product"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [195, 75, 225, 95]		    ShowName		    off		    Inputs		    "2"		    }		    Block {		    BlockType		    ResetIntegrator		    Name		    "Reset\nIntegrator"		    Position		    [295, 160, 325, 190]		    ShowName		    off		    InitialCondition	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [400, 165, 420, 185]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Reset\nIntegrator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_3"		    SrcPort		    1		    Points		    [105, 0; 0, -55]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    3		    }		    Line {		    SrcBlock		    "Logical\nOperator2"		    SrcPort		    1		    Points		    [0, -20]		    DstBlock		    "Product"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Product"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Product"		    SrcPort		    1		    Points		    [30, 0; 0, 80]		    DstBlock		    "Reset\nIntegrator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [75, 0]		    Branch {		    DstBlock		    "Reset\nIntegrator"		    DstPort		    2		    }		    Branch {		    DstBlock		    "Logical\nOperator2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  SubSystem		  Name			  "Input\nSwitch"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [90, 85, 140, 140]		  ShowName		  off		  ShowPortLabels	  off		  MaskDisplay		  "disp('Input\\nSwitch')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Input\nSwitch"		    Location		    [189, 72, 587, 302]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "mcspl"		    Position		    [65, 94, 85, 116]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "pgw"		    Position		    [65, 145, 85, 165]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Switch		    Name		    "Switch2"		    Position		    [275, 80, 305, 110]		    ShowName		    off		    Threshold		    "0.5"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace5"		    Position		    [297, 55, 343, 70]		    Orientation		    up		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "mcsw"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    ToWorkspace		    Name		    "To Workspace8"		    Position		    [130, 127, 175, 143]		    Orientation		    left		    ShowName		    off		    FontName		    "Courier New"		    VariableName	    "lted"		    Buffer		    "10000"		    Decimation		    "1"		    SampleTime		    "0"		    }		    Block {		    BlockType		    SubSystem		    Name		    "lead/trail\nedge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [120, 89, 180, 121]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Lead/Trail\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "lead/trail\nedge det"		    Location		    [19, 367, 394, 587]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [195, 83, 225, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [80, 85, 110, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [135, 82, 165, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "leading/trailing edge detection"		    }		    Annotation {		    Position		    [187, 162]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "mcsw"		    Position		    [335, 85, 355, 105]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "pgw"		    SrcPort		    1		    Points		    [145, 0; 0, -60]		    DstBlock		    "Switch2"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Switch2"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "mcsw"		    DstPort		    1		    }		    Branch {		    Points		    [10, 0]		    DstBlock		    "To Workspace5"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "lead/trail\nedge det"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "Switch2"		    DstPort		    3		    }		    Branch {		    Points		    [0, 30]		    DstBlock		    "To Workspace8"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "mcspl"		    SrcPort		    1		    Points		    [0, 0]		    Branch {		    DstBlock		    "lead/trail\nedge det"		    DstPort		    1		    }		    Branch {		    Points		    [5, 0; 0, -45; 140, 0; 0, 25]		    DstBlock		    "Switch2"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [520, 127, 545, 163]		  Orientation		  left		  ShowName		  off		  Operator		  OR		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [555, 170, 585, 190]		  Orientation		  up		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  Lookup		  Name			  "PWfn"		  Position		  [198, 150, 242, 185]		  Orientation		  down		  NamePlacement		  alternate		  ShowName		  off		  InputValues		  "[ 0, 0.1:5, 5:10, 10:50 ]"		  OutputValues		  "[ 0, (0.1:5)*0+15,  (5:10)*1+10,  (""10:50)*2]"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [510, 198, 540, 222]		  ShowName		  off		  Operator		  ">="		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator2"		  Position		  [335, 23, 365, 47]		  ShowName		  off		  Operator		  "<="		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [610, 197, 640, 223]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [300, 195, 320, 215]		  Inputs		  "-+"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace1"		  Position		  [520, 95, 570, 115]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rstsig"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace2"		  Position		  [300, 99, 340, 121]		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "rni"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace3"		  Position		  [343, 225, 397, 245]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "sumout"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace6"		  Position		  [525, 60, 575, 80]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "nostm"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  ToWorkspace		  Name			  "To Workspace7"		  Position		  [203, 235, 237, 260]		  Orientation		  down		  ShowName		  off		  FontName		  "Courier New"		  VariableName		  "pwfn"		  Buffer		  "10000"		  Decimation		  "1"		  SampleTime		  "0"		}		Block {		  BlockType		  Constant		  Name			  "dead zone"		  Position		  [290, 55, 320, 75]		  Orientation		  up		  Value			  ".04"		}		Block {		  BlockType		  Memory		  Name			  "loop\nbreaker"		  Position		  [270, 280, 310, 310]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  Constant		  Name			  "out thresh"		  Position		  [460, 220, 490, 240]		  Value			  "0.2"		}		Block {		  BlockType		  Outport		  Name			  "pgw"		  Position		  [680, 200, 700, 220]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "PWfn"		    DstPort		    1		  }		  Branch {		    Points		    [0, -85]		    DstBlock		    "Relational\nOperator2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "PWfn"		  SrcPort		  1		  Points		  [0, 20]		  Branch {		    DstBlock		    "To Workspace7"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sum"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [15, 0]		  Branch {		    DstBlock		    "pgw"		    DstPort		    1		  }		  Branch {		    Points		    [0, 85]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "loop\nbreaker"		  SrcPort		  1		  Points		  [-200, 0; 0, -170]		  DstBlock		  "Input\nSwitch"		  DstPort		  2		}		Line {		  SrcBlock		  "mcspl"		  SrcPort		  1		  DstBlock		  "Input\nSwitch"		  DstPort		  1		}		Line {		  SrcBlock		  "Input\nSwitch"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  Points		  [45, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "To Workspace3"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  Points		  [-15, 0]		  Branch {		    DstBlock		    "Good Reset\nIntegrator"		    DstPort		    2		  }		  Branch {		    Points		    [0, -40]		    DstBlock		    "To Workspace1"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Good Reset\nIntegrator"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [-95, 0; 0, 55]		    DstBlock		    "Sum"		    DstPort		    1		  }		  Branch {		    Points		    [-95, 0; 0, -35]		    DstBlock		    "To Workspace2"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Relational\nOperator2"		  SrcPort		  1		  Points		  [180, 0]		  Branch {		    DstBlock		    "To Workspace6"		    DstPort		    1		  }		  Branch {		    Points		    [60, 0; 0, 100]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "dead zone"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Relational\nOperator2"		  DstPort		  2		}		Line {		  SrcBlock		  "out thresh"		  SrcPort		  1		  DstBlock		  "Relational\nOperator1"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant1"		  SrcPort		  1		  Points		  [0, -5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  3		}		Line {		  SrcBlock		  "Constant3"		  SrcPort		  1		  Points		  [0, 5]		  DstBlock		  "Good Reset\nIntegrator"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    DstBlock		    "Sign"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [0, -10]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Annotation {		  Position		  [77, 32]		  VerticalAlignment	  top		  Text			  "PW Function"		  FontSize		  12		  FontWeight		  bold		}		Annotation {		  Position		  [292, 262]		  VerticalAlignment	  top		  Text			  "(Init input:0)"		}		Annotation {		  Position		  [357, 357]		  VerticalAlignment	  top		  Text			  "This block uses a resettable integr""ator and a piecewise-linear function (PWfunc) to generate\na pulse of appropr""iate duration for the incoming stimulus."		}		Annotation {		  Position		  [372, 397]		  VerticalAlignment	  top		  Text			  "The input, scaled by the piece-wise"" linear function, is compared to the output of the \nresettable integrator, w""hich integrates a constant value each iteration."		}		Annotation {		  Position		  [362, 437]		  VerticalAlignment	  top		  Text			  "This process continues until the er""ror has been driven to zero or the input drops to zero,\nand the integrator i""s reset and the pulse is ended."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "RefLatch\n(good)"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [185, 180, 245, 220]	      Orientation	      left	      ShowPortLabels	      off	      MaskDescription	      "Refractory Latch"	      MaskPromptString	      "Refractory Period (ms)"	      MaskStyleString	      "edit"	      MaskTunableValueString  "on"	      MaskInitialization      "delay=@1;"	      MaskDisplay	      "disp('Refract\\nLatch')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      MaskValueString	      "50"	      System {		Name			"RefLatch\n(good)"		Location		[331, 87, 779, 529]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [20, 65, 40, 85]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Abs		  Name			  "Abs"		  Position		  [75, 65, 105, 85]		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [325, 63, 355, 87]		  ShowName		  off		  Operator		  AND		  Inputs		  "2"		}		Block {		  BlockType		  Logic		  Name			  "Logical\nOperator1"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [195, 28, 225, 52]		  ShowName		  off		  Operator		  NOT		  Inputs		  "1"		}		Block {		  BlockType		  SubSystem		  Name			  "trailing edge"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [180, 88, 245, 132]		  ShowPortLabels	  off		  MaskDisplay		  "disp('Refract\\nLatch (te)')"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "trailing edge"		    Location		    [215, 375, 795, 712]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 110, 40, 130]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Logic		    Name		    "Logical\nOperator"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [270, 113, 300, 137]		    ShowName		    off		    Operator		    AND		    Inputs		    "2"		    }		    Block {		    BlockType		    SubSystem		    Name		    "S-R\nFlip-Flop"		    Ports		    [2, 2, 0, 0, 0]		    Position		    [445, 95, 480, 150]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Latch"		    MaskDescription	    "Latch"		    MaskHelp		    "Latches the S input.  When S (set"") is one, the Q output  becomes one.  The output remains one until the R (res""et) input becomes one, forcing the output to zero.  If both R and S are one, ""the latch will be in an undefined state."		    MaskPromptString	    "Initial State for Output \"Q\":"		    MaskStyleString	    "edit"		    MaskTunableValueString  "on"		    MaskInitialization	    "ini=(@1~=0);"		    MaskDisplay		    "disp('S   Q\\n\\nR  !Q')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    MaskValueString	    "1"		    System {		    Name		    "S-R\nFlip-Flop"		    Location		    [503, 214, 955, 459]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [20, 115, 40, 135]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Inport		    Name		    "in_2"		    Position		    [20, 155, 40, 175]		    Port		    "2"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Demux		    Name		    "Demux"		    Ports		    [1, 2, 0, 0, 0]		    Position		    [275, 105, 315, 140]		    Outputs		    "2"		    }		    Block {		    BlockType		    CombinatorialLogic		    Name		    "Logic"		    Position		    [195, 105, 250, 145]		    TruthTable		    "[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]"		    }		    Block {		    BlockType		    Memory		    Name		    "Memory"		    Position		    [210, 20, 250, 50]		    Orientation		    left		    X0			    "ini"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    Mux		    Name		    "Mux"		    Ports		    [3, 1, 0, 0, 0]		    Position		    [135, 109, 165, 141]		    Inputs		    "3"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [355, 105, 375, 125]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Block {		    BlockType		    Outport		    Name		    "out_2"		    Position		    [355, 150, 375, 170]		    Port		    "2"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    2		    Points		    [15, 0; 0, 30]		    DstBlock		    "out_2"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logic"		    SrcPort		    1		    DstBlock		    "Demux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Mux"		    SrcPort		    1		    DstBlock		    "Logic"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Demux"		    SrcPort		    1		    Points		    [15, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -80]		    DstBlock		    "Memory"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Memory"		    SrcPort		    1		    Points		    [-120, 0; 0, 80]		    DstBlock		    "Mux"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Mux"		    DstPort		    2		    }		    Line {		    SrcBlock		    "in_2"		    SrcPort		    1		    Points		    [40, 0; 0, -30]		    DstBlock		    "Mux"		    DstPort		    3		    }		    }		    }		    Block {		    BlockType		    Switch		    Name		    "Switch1"		    Position		    [95, 114, 125, 146]		    ShowName		    off		    Threshold		    ".5"		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n3"		    Position		    [100, 150, 120, 170]		    Orientation		    left		    ShowName		    off		    Value		    "0"		    }		    Block {		    BlockType		    Memory		    Name		    "loop\nbreaker"		    Position		    [285, 220, 325, 250]		    Orientation		    left		    X0			    "1"		    InheritSampleTime	    off		    }		    Block {		    BlockType		    TransportDelay		    Name		    "refractory\nperiod"		    Position		    [355, 95, 395, 125]		    DelayTime		    "(delay)/1000"		    InitialInput	    "0"		    BufferSize		    "1024"		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 59, 215, 91]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det"		    Location		    [27, 381, 402, 601]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    }		    }		    Block {		    BlockType		    SubSystem		    Name		    "trailing edge det1"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [155, 114, 215, 146]		    ShowName		    off		    ShowPortLabels	    off		    MaskDisplay		    "disp('Trailing\\nEdge Det')"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "trailing edge det1"		    Location		    [32, 313, 407, 533]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 85, 55, 105]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Abs		    Name		    "Abs"		    Position		    [95, 83, 125, 107]		    ShowName		    off		    }		    Block {		    BlockType		    Derivative		    Name		    "Derivative"		    Position		    [145, 85, 175, 105]		    ShowName		    off		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [260, 88, 290, 112]		    ShowName		    off		    Operator		    "=="		    }		    Block {		    BlockType		    SubSystem		    Name		    "Sign"		    Ports		    [1, 1, 0, 0, 0]		    Position		    [200, 82, 230, 108]		    ShowName		    off		    ShowPortLabels	    off		    MaskType		    "Sign"		    MaskDescription	    "y = sign(x)"		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i""f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		    MaskIconFrame	    on		    MaskIconOpaque	    on		    MaskIconRotate	    none		    MaskIconUnits	    autoscale		    System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    }		    }		    Block {		    BlockType		    Constant		    Name		    "Threshold\n1"		    Position		    [205, 114, 225, 136]		    ShowName		    off		    Value		    "-1"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [330, 90, 350, 110]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Abs"		    SrcPort		    1		    DstBlock		    "Derivative"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Derivative"		    SrcPort		    1		    DstBlock		    "Sign"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sign"		    SrcPort		    1		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n1"		    SrcPort		    1		    Points		    [15, 0]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    DstBlock		    "Abs"		    DstPort		    1		    }		    Annotation {		    Position		    [192, 157]		    VerticalAlignment	    top		    Text		    "It is also possible to remove the"" SIGNUM function\nand the '==', and replace them with a simple\nswitch with a"" threshold of (say) 150 or so."		    }		    Annotation {		    Position		    [205, 42]		    VerticalAlignment	    top		    Text		    "trailing edge detection"		    }		    }		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [540, 100, 560, 120]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Switch1"		    SrcPort		    1		    DstBlock		    "trailing edge det1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Threshold\n3"		    SrcPort		    1		    Points		    [-25, 0; 0, -20]		    DstBlock		    "Switch1"		    DstPort		    3		    }		    Line {		    SrcBlock		    "loop\nbreaker"		    SrcPort		    1		    Points		    [-225, 0; 0, -105]		    DstBlock		    "Switch1"		    DstPort		    2		    }		    Line {		    SrcBlock		    "refractory\nperiod"		    SrcPort		    1		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    1		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [25, 0]		    Branch {		    DstBlock		    "Switch1"		    DstPort		    1		    }		    Branch {		    Points		    [0, -45]		    DstBlock		    "trailing edge det"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "trailing edge det1"		    SrcPort		    1		    DstBlock		    "Logical\nOperator"		    DstPort		    2		    }		    Line {		    SrcBlock		    "trailing edge det"		    SrcPort		    1		    Points		    [30, 0; 0, 45]		    DstBlock		    "Logical\nOperator"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Logical\nOperator"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    Points		    [0, 45; 90, 0; 0, -35]		    DstBlock		    "S-R\nFlip-Flop"		    DstPort		    2		    }		    Branch {		    Points		    [0, -15]		    DstBlock		    "refractory\nperiod"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "S-R\nFlip-Flop"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "out_1"		    DstPort		    1		    }		    Branch {		    Points		    [0, 125]		    DstBlock		    "loop\nbreaker"		    DstPort		    1		    }		    }		    Annotation {		    Position		    [137, 8]		    VerticalAlignment	    top		    Text		    "This upper branch prevents respon""se\nto transients caused by the switch\ntoggling states"		    }		    Annotation {		    Position		    [387, 17]		    VerticalAlignment	    top		    Text		    "(Must see a trailing edge from th""e\nsignal AS WELL)"		    }		    Annotation {		    Position		    [307, 202]		    VerticalAlignment	    top		    Text		    "(Init input: 1)"		    }		    Annotation {		    Position		    [352, 287]		    VerticalAlignment	    top		    Text		    "latency period starts with the EN""D of the pulse, rather than the beginning."		    }		    Annotation {		    Position		    [332, 307]		    VerticalAlignment	    top		    Text		    "Block operation:  it is initially"" ENABLED, allowing input."		    }		    Annotation {		    Position		    [332, 337]		    VerticalAlignment	    top		    Text		    "When input occurs, the block then"" becomes DISABLED, and remains so for the\nduration of the latency period (se""t either via the mask, or by setting \"delay\" from the command line)"		    }		    Annotation {		    Position		    [337, 377]		    VerticalAlignment	    top		    Text		    "When the latency period is over, ""the block is again ENABLED.  ONLY once the latency period is\nover does the b""lock accept any new input.  (i.e. any input that occurs during the disabled\n"" latency period is ignored)"		    }		    Annotation {		    Position		    [362, 77]		    VerticalAlignment	    top		    Text		    "(Init input: 0)"		    }		    Annotation {		    Position		    [487, 77]		    VerticalAlignment	    top		    Text		    "(FF init state: Q=1)"		    }		  }		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [385, 65, 405, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  DstBlock		  "Abs"		  DstPort		  1		}		Line {		  SrcBlock		  "Abs"		  SrcPort		  1		  Points		  [25, 0]		  Branch {		    Points		    [0, -35]		    DstBlock		    "Logical\nOperator1"		    DstPort		    1		  }		  Branch {		    Points		    [0, 35]		    DstBlock		    "trailing edge"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "trailing edge"		  SrcPort		  1		  Points		  [40, 0; 0, -30]		  DstBlock		  "Logical\nOperator"		  DstPort		  2		}		Line {		  SrcBlock		  "Logical\nOperator1"		  SrcPort		  1		  Points		  [60, 0; 0, 30]		  DstBlock		  "Logical\nOperator"		  DstPort		  1		}		Line {		  SrcBlock		  "Logical\nOperator"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Annotation {		  Position		  [200, 222]		  VerticalAlignment	  top		  Text			  "The \"NOT\" gate outputs a DISABLE ""signal whenever there is any\ninput, so that there can be no response."		}		Annotation {		  Position		  [197, 331]		  VerticalAlignment	  top		  Text			  "By ANDing these outputs, we get a s""ignal that is DISABLED\nstarting with the beginning of the input pulse, and r""emains so until\nrp milliseconds after the termination of the pulse."		}		Annotation {		  Position		  [192, 267]		  VerticalAlignment	  top		  Text			  "The falling edge\" block's output b""ecomes DISABLED upon\ndetection of the END of the input pulse, and remains\ns""o until the refractory period of rp milliseconds has elapsed."		}		Annotation {		  Position		  [180, 177]		  VerticalAlignment	  top		  Text			  "It's a cheap trick, but it seems to"" work:"		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?1"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [140, 54, 185, 101]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(S=H)\\n(H=L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?1"		Location		[354, 161, 739, 416]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [60, 20, 80, 40]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [60, 65, 80, 85]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 105, 235, 135]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 62, 145, 88]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-15, 0; 0, -35]		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  Points		  [90, 0; 0, 35]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    Points		    [25, 0; 0, 45]		    DstBlock		    "Memory"		    DstPort		    1		  }		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Annotation {		  Position		  [197, 177]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is HIGH, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is LOW, t""he current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [545, 44, 575, 76]	      ShowName		      off	      Threshold		      "0.5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [382, 70, 428, 85]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgpk"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [480, 115, 520, 135]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "pgw"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace4"	      Position		      [230, 70, 280, 90]	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "mcspl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace5"	      Position		      [82, 230, 128, 250]	      Orientation	      down	      ShowName		      off	      FontName		      "Courier New"	      VariableName	      "refl"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Memory	      Name		      "loop\nbreaker"	      Position		      [455, 185, 495, 215]	      Orientation	      left	      X0		      "0"	      InheritSampleTime	      off	    }	    Block {	      BlockType		      Outport	      Name		      "PG"	      Position		      [620, 50, 640, 70]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?1"	      SrcPort		      1	      Points		      [15, 0]	      Branch {		Points			[0, -30]		DstBlock		"PH funct"		DstPort			1	      }	      Branch {		Points			[0, 45]		DstBlock		"PW funct"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace4"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "RefLatch\n(good)"	      SrcPort		      1	      Points		      [-75, 0]	      Branch {		Points			[0, -110]		DstBlock		"SampHold?1"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace5"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "loop\nbreaker"	      SrcPort		      1	      DstBlock		      "RefLatch\n(good)"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Constant1"	      SrcPort		      1	      DstBlock		      "Switch"	      DstPort		      3	    }	    Line {	      SrcBlock		      "mcsprd"	      SrcPort		      1	      DstBlock		      "SampHold?1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		DstBlock		"PG"		DstPort			1	      }	      Branch {		Points			[0, 140]		DstBlock		"loop\nbreaker"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PW funct"	      SrcPort		      1	      Points		      [110, 0]	      Branch {		Points			[0, -65]		DstBlock		"Switch"		DstPort			2	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "PH funct"	      SrcPort		      1	      Points		      [60, 0]	      Branch {		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace"		DstPort			1	      }	    }	    Annotation {	      Position		      [482, 167]	      VerticalAlignment	      top	      Text		      "(Init input:0)"	    }	    Annotation {	      Position		      [137, 12]	      VerticalAlignment	      top	      Text		      "PG with Resettable NI"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [337, 357]	      VerticalAlignment	      top	      Text		      "The refractory latch prevents the pulse"" generator from responding to another stimulus until a\nphysiologically accep""table refractory period has elapsed by controlling the \"Sample and Hold\" bl""ock."	    }	    Annotation {	      Position		      [327, 297]	      VerticalAlignment	      top	      Text		      "Here it is at last!  A pulse generator ""based on a resettable integrator (look inside the PW\nblock).  The PW functio""n controls the switch, allowing the output of the PH function to pass\nfor th""e appropriate duration."	    }	  }	}	Block {	  BlockType		  Lookup	  Name			  "PWfunc2"	  Position		  [205, 183, 235, 207]	  NamePlacement		  alternate	  ShowName		  off	  InputValues		  "[ 0:90, 91:120 ]"	  OutputValues		  "[ (0:90)*( -.0039)+5.6, (91:120)*(-.0326)+8"".18 ]"	}	Block {	  BlockType		  Product	  Name			  "Product"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [280, 158, 310, 182]	  ShowName		  off	  Inputs		  "2"	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [605, 94, 650, 136]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Sum	  Name			  "Sum1"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [565, 96, 590, 129]	  ShowName		  off	  Inputs		  "++"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace"	  Position		  [396, 160, 434, 175]	  Orientation		  down	  ShowName		  off	  VariableName		  "niout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace1"	  Position		  [495, 155, 535, 170]	  Orientation		  down	  ShowName		  off	  VariableName		  "psout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace3"	  Position		  [232, 220, 278, 235]	  Orientation		  down	  ShowName		  off	  VariableName		  "tgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace4"	  Position		  [102, 60, 148, 75]	  Orientation		  up	  ShowName		  off	  VariableName		  "pgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  Gain	  Name			  "phasic gain"	  Position		  [210, 41, 240, 69]	  NamePlacement		  alternate	  Gain			  "1"	}	Block {	  BlockType		  Gain	  Name			  "tonic gain"	  Position		  [210, 119, 240, 151]	  NamePlacement		  alternate	  Gain			  "1"	}	Block {	  BlockType		  Outport	  Name			  "out_1"	  Position		  [675, 105, 695, 125]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "ramp"	  SrcPort		  1	  Points		  [60, 0; 0, 70; 445, 0]	  DstBlock		  "Sum1"	  DstPort		  2	}	Line {	  SrcBlock		  "Sum1"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Line {	  SrcBlock		  "Product"	  SrcPort		  1	  Points		  [10, 0; 0, -55]	  DstBlock		  "NI"	  DstPort		  1	}	Line {	  SrcBlock		  "PWfunc2"	  SrcPort		  1	  Points		  [15, 0]	  Branch {	    Points		    [10, 0]	    DstBlock		    "Product"	    DstPort		    2	  }	  Branch {	    DstBlock		    "To Workspace3"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "mc"	  SrcPort		  1	  DstBlock		  "PG w\nrNI"	  DstPort		  1	}	Line {	  SrcBlock		  "tonic gain"	  SrcPort		  1	  Points		  [20, 0]	  DstBlock		  "Product"	  DstPort		  1	}	Line {	  SrcBlock		  "PG w\nrNI"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "CNS\ngain"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace4"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "out_1"	  DstPort		  1	}	Line {	  SrcBlock		  "NI"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    Points		    [20, 0]	    DstBlock		    "To Workspace"	    DstPort		    1	  }	  Branch {	    DstBlock		    "OMN"	    DstPort		    2	  }	}	Line {	  SrcBlock		  "phasic gain"	  SrcPort		  1	  Points		  [180, 0]	  DstBlock		  "OMN"	  DstPort		  1	}	Line {	  SrcBlock		  "CNS\ngain"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    Points		    [0, 30]	    Branch {	      DstBlock		      "tonic gain"	      DstPort		      1	    }	    Branch {	      DstBlock		      "PWfunc2"	      DstPort		      1	    }	  }	  Branch {	    Points		    [0, -50]	    DstBlock		    "phasic gain"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "OMN"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "To Workspace1"	    DstPort		    1	  }	  Branch {	    DstBlock		    "Sum1"	    DstPort		    1	  }	}	Annotation {	  Position		  [62, 12]	  VerticalAlignment	  top	  Text			  "plant+ test"	  FontSize		  12	  FontWeight		  bold	}      }    }    Block {      BlockType		      Lookup      Name		      "tonic gain fn\n(2P)"      Position		      [125, 16, 155, 44]      InputValues	      "[ 0:90, 90:120 ]"      OutputValues	      "[ (0:90)*( -.0039)+5.6, (90:120)*(-.0326)+8.18 ""]"    }    Block {      BlockType		      SubSystem      Name		      "tonic test"      Ports		      [1, 1, 0, 0, 0]      Position		      [25, 163, 75, 217]      ShowName		      off      ShowPortLabels	      off      MaskDisplay	      "disp('tonic\\ntest')"      MaskIconFrame	      on      MaskIconOpaque	      on      MaskIconRotate	      none      MaskIconUnits	      autoscale      System {	Name			"tonic test"	Location		[85, 441, 762, 705]	Open			off	ToolBar			off	StatusBar		off	ScreenColor		white	PaperOrientation	landscape	PaperPositionMode	auto	PaperType		usletter	PaperUnits		inches	Block {	  BlockType		  Inport	  Name			  "T"	  Position		  [40, 110, 60, 130]	  Port			  "1"	  PortWidth		  "-1"	  SampleTime		  "-1"	}	Block {	  BlockType		  Gain	  Name			  "CNS\ngain"	  Position		  [140, 105, 175, 135]	  Gain			  "1"	}	Block {	  BlockType		  Integrator	  Name			  "NI"	  Ports			  [1, 1, 0, 0, 0]	  Position		  [330, 112, 350, 148]	  ExternalReset		  none	  InitialConditionSource  internal	  InitialCondition	  "0"	  LimitOutput		  off	  UpperSaturationLimit	  "inf"	  LowerSaturationLimit	  "-inf"	  ShowSaturationPort	  off	  ShowStatePort		  off	  AbsoluteTolerance	  "auto"	}	Block {	  BlockType		  SubSystem	  Name			  "OMN"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [385, 94, 455, 141]	  ShowName		  off	  ShowPortLabels	  off	  MaskDisplay		  "disp('<--\"phasic\"\\nOMN\\n<--\"tonic\"   ""')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	  System {	    Name		    "OMN"	    Location		    [197, 96, 736, 527]	    Open		    off	    ToolBar		    off	    StatusBar		    off	    ScreenColor		    white	    PaperOrientation	    landscape	    PaperPositionMode	    auto	    PaperType		    usletter	    PaperUnits		    inches	    Block {	      BlockType		      Inport	      Name		      "from PG"	      Position		      [40, 120, 60, 140]	      Port		      "1"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Inport	      Name		      "from NI"	      Position		      [40, 195, 60, 215]	      Port		      "2"	      PortWidth		      "-1"	      SampleTime	      "-1"	    }	    Block {	      BlockType		      Abs	      Name		      "Abs"	      Position		      [120, 118, 150, 142]	      ShowName		      off	    }	    Block {	      BlockType		      Gain	      Name		      "Gain\n_"	      Position		      [125, 46, 160, 74]	      ShowName		      off	      Gain		      "1.0"	    }	    Block {	      BlockType		      SubSystem	      Name		      "SampHold?"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [260, 80, 305, 115]	      ShowName		      off	      ShowPortLabels	      off	      MaskDisplay	      "disp('S&H\\n(L)')"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"SampHold?"		Location		[101, 100, 505, 355]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "Input"		  Position		  [50, 75, 70, 95]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Inport		  Name			  "S/H?"		  Position		  [50, 130, 70, 150]		  Port			  "2"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Memory		  Name			  "Memory"		  Position		  [195, 10, 235, 40]		  Orientation		  left		  X0			  "0"		  InheritSampleTime	  off		}		Block {		  BlockType		  SubSystem		  Name			  "Sign"		  Ports			  [1, 1, 0, 0, 0]		  Position		  [115, 127, 145, 153]		  ShowName		  off		  ShowPortLabels	  off		  MaskType		  "Sign"		  MaskDescription	  "y = sign(x)"		  MaskHelp		  "Sign Function:\\n\\t\\t\\ty = 1 if ""x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"		  MaskDisplay		  "plot(-50,-50,50,50,[-50,50],[0,0],[""0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"		  MaskIconFrame		  on		  MaskIconOpaque	  on		  MaskIconRotate	  none		  MaskIconUnits		  autoscale		  System {		    Name		    "Sign"		    Location		    [159, 417, 467, 586]		    Open		    off		    ToolBar		    off		    StatusBar		    off		    ScreenColor		    white		    PaperOrientation	    landscape		    PaperPositionMode	    auto		    PaperType		    usletter		    PaperUnits		    inches		    Block {		    BlockType		    Inport		    Name		    "in_1"		    Position		    [35, 30, 55, 50]		    Port		    "1"		    PortWidth		    "-1"		    SampleTime		    "-1"		    }		    Block {		    BlockType		    Constant		    Name		    "Constant"		    Position		    [65, 105, 85, 125]		    Value		    "0"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator"		    Position		    [140, 32, 170, 63]		    Operator		    ">"		    }		    Block {		    BlockType		    RelationalOperator		    Name		    "Relational\nOperator1"		    Position		    [140, 92, 170, 123]		    Operator		    "<"		    }		    Block {		    BlockType		    Sum		    Name		    "Sum"		    Ports		    [2, 1, 0, 0, 0]		    Position		    [215, 64, 235, 91]		    Inputs		    "+-"		    }		    Block {		    BlockType		    Outport		    Name		    "out_1"		    Position		    [265, 70, 285, 90]		    Port		    "1"		    OutputWhenDisabled	    held		    InitialOutput	    "0"		    }		    Line {		    SrcBlock		    "Sum"		    SrcPort		    1		    DstBlock		    "out_1"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator"		    SrcPort		    1		    Points		    [10, 0; 0, 20]		    DstBlock		    "Sum"		    DstPort		    1		    }		    Line {		    SrcBlock		    "Relational\nOperator1"		    SrcPort		    1		    Points		    [10, 0; 0, -25]		    DstBlock		    "Sum"		    DstPort		    2		    }		    Line {		    SrcBlock		    "Constant"		    SrcPort		    1		    Points		    [20, 0]		    Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		    }		    Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		    }		    }		    Line {		    SrcBlock		    "in_1"		    SrcPort		    1		    Points		    [35, 0]		    Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		    }		    Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		    }		    }		  }		}		Block {		  BlockType		  Switch		  Name			  "Switch2"		  Position		  [200, 60, 230, 90]		  ShowName		  off		  Threshold		  "0.5"		}		Block {		  BlockType		  Outport		  Name			  "output"		  Position		  [305, 65, 325, 85]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Input"		  SrcPort		  1		  DstBlock		  "Switch2"		  DstPort		  3		}		Line {		  SrcBlock		  "Memory"		  SrcPort		  1		  Points		  [-30, 0; 0, 40]		  DstBlock		  "Switch2"		  DstPort		  1		}		Line {		  SrcBlock		  "S/H?"		  SrcPort		  1		  DstBlock		  "Sign"		  DstPort		  1		}		Line {		  SrcBlock		  "Sign"		  SrcPort		  1		  Points		  [10, 0; 0, -65]		  DstBlock		  "Switch2"		  DstPort		  2		}		Line {		  SrcBlock		  "Switch2"		  SrcPort		  1		  Points		  [0, 0]		  Branch {		    DstBlock		    "output"		    DstPort		    1		  }		  Branch {		    Points		    [25, 0; 0, -50]		    DstBlock		    "Memory"		    DstPort		    1		  }		}		Annotation {		  Position		  [202, 182]		  VerticalAlignment	  top		  Text			  "When \"S/H?\" is LOW, then \"Input""\" is switched directly to the\noutput (\"sample\").  When \"S/H?\" is HIGH, ""the current output is\nmaintained (\"hold\")."		}	      }	    }	    Block {	      BlockType		      SubSystem	      Name		      "Sign"	      Ports		      [1, 1, 0, 0, 0]	      Position		      [170, 117, 200, 143]	      ShowName		      off	      ShowPortLabels	      off	      MaskType		      "Sign"	      MaskDescription	      "y = sign(x)"	      MaskHelp		      "Sign Function:\\n\\t\\t\\ty = 1 if x > ""0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"	      MaskDisplay	      "plot(-50,-50,50,50,[-50,50],[0,0],[0,0]"",[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"	      MaskIconFrame	      on	      MaskIconOpaque	      on	      MaskIconRotate	      none	      MaskIconUnits	      autoscale	      System {		Name			"Sign"		Location		[159, 417, 467, 586]		Open			off		ToolBar			off		StatusBar		off		ScreenColor		white		PaperOrientation	landscape		PaperPositionMode	auto		PaperType		usletter		PaperUnits		inches		Block {		  BlockType		  Inport		  Name			  "in_1"		  Position		  [35, 30, 55, 50]		  Port			  "1"		  PortWidth		  "-1"		  SampleTime		  "-1"		}		Block {		  BlockType		  Constant		  Name			  "Constant"		  Position		  [65, 105, 85, 125]		  Value			  "0"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator"		  Position		  [140, 32, 170, 63]		  Operator		  ">"		}		Block {		  BlockType		  RelationalOperator		  Name			  "Relational\nOperator1"		  Position		  [140, 92, 170, 123]		  Operator		  "<"		}		Block {		  BlockType		  Sum		  Name			  "Sum"		  Ports			  [2, 1, 0, 0, 0]		  Position		  [215, 64, 235, 91]		  Inputs		  "+-"		}		Block {		  BlockType		  Outport		  Name			  "out_1"		  Position		  [265, 70, 285, 90]		  Port			  "1"		  OutputWhenDisabled	  held		  InitialOutput		  "0"		}		Line {		  SrcBlock		  "Sum"		  SrcPort		  1		  DstBlock		  "out_1"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator"		  SrcPort		  1		  Points		  [10, 0; 0, 20]		  DstBlock		  "Sum"		  DstPort		  1		}		Line {		  SrcBlock		  "Relational\nOperator1"		  SrcPort		  1		  Points		  [10, 0; 0, -25]		  DstBlock		  "Sum"		  DstPort		  2		}		Line {		  SrcBlock		  "Constant"		  SrcPort		  1		  Points		  [20, 0]		  Branch {		    DstBlock		    "Relational\nOperator1"		    DstPort		    2		  }		  Branch {		    Points		    [0, -60]		    DstBlock		    "Relational\nOperator"		    DstPort		    2		  }		}		Line {		  SrcBlock		  "in_1"		  SrcPort		  1		  Points		  [35, 0]		  Branch {		    DstBlock		    "Relational\nOperator"		    DstPort		    1		  }		  Branch {		    Points		    [0, 60]		    DstBlock		    "Relational\nOperator1"		    DstPort		    1		  }		}	      }	    }	    Block {	      BlockType		      Sum	      Name		      "Sum"	      Ports		      [2, 1, 0, 0, 0]	      Position		      [340, 55, 360, 75]	      ShowName		      off	      Inputs		      "++"	    }	    Block {	      BlockType		      Switch	      Name		      "Switch"	      Position		      [400, 114, 430, 146]	      ShowName		      off	      Threshold		      ".5"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace"	      Position		      [415, 195, 460, 215]	      ShowName		      off	      VariableName	      "ni_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      ToWorkspace	      Name		      "To Workspace1"	      Position		      [415, 54, 455, 76]	      ShowName		      off	      VariableName	      "pg_in"	      Buffer		      "10000"	      Decimation	      "1"	      SampleTime	      "0"	    }	    Block {	      BlockType		      Outport	      Name		      "out_1"	      Position		      [460, 120, 480, 140]	      Port		      "1"	      OutputWhenDisabled      held	      InitialOutput	      "0"	    }	    Line {	      SrcBlock		      "SampHold?"	      SrcPort		      1	      Points		      [15, 0]	      DstBlock		      "Sum"	      DstPort		      2	    }	    Line {	      SrcBlock		      "Sign"	      SrcPort		      1	      Points		      [35, 0]	      Branch {		DstBlock		"Switch"		DstPort			2	      }	      Branch {		Points			[0, -25]		DstBlock		"SampHold?"		DstPort			2	      }	    }	    Line {	      SrcBlock		      "from PG"	      SrcPort		      1	      Points		      [25, 0]	      Branch {		DstBlock		"Abs"		DstPort			1	      }	      Branch {		Points			[0, -70]		DstBlock		"Gain\n_"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Sum"	      SrcPort		      1	      Points		      [0, 0]	      Branch {		Points			[5, 0; 0, 55]		DstBlock		"Switch"		DstPort			1	      }	      Branch {		DstBlock		"To Workspace1"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "from NI"	      SrcPort		      1	      Points		      [160, 0]	      Branch {		Points			[145, 0]		Branch {		  Points		  [0, -65]		  DstBlock		  "Switch"		  DstPort		  3		}		Branch {		  DstBlock		  "To Workspace"		  DstPort		  1		}	      }	      Branch {		Points			[0, -115]		DstBlock		"SampHold?"		DstPort			1	      }	    }	    Line {	      SrcBlock		      "Gain\n_"	      SrcPort		      1	      DstBlock		      "Sum"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Switch"	      SrcPort		      1	      DstBlock		      "out_1"	      DstPort		      1	    }	    Line {	      SrcBlock		      "Abs"	      SrcPort		      1	      DstBlock		      "Sign"	      DstPort		      1	    }	    Annotation {	      Position		      [272, 372]	      VerticalAlignment	      top	      Text		      "Note that the OMN properly combines the"" pulse with the output of the NI, by latching\nthat output to its value at th""e moment the pulse appears."	    }	    Annotation {	      Position		      [47, 12]	      VerticalAlignment	      top	      Text		      "OMN"	      FontSize		      12	      FontWeight	      bold	    }	    Annotation {	      Position		      [267, 302]	      VerticalAlignment	      top	      Text		      "Operation: when the pulse is active (\"""from PG\") it activates the switch, passing the\nupper input through to the o""utput.  When the pulse is over, the switch changes, \nallowing the lower inpu""t (from the NI) to pass. "	    }	    Annotation {	      Position		      [267, 252]	      VerticalAlignment	      top	      Text		      "This block behaves like the ocular moto""r neurons,combining a phasic pulse (from PG)\nwith the tonic step produced by"" integration of the step, yielding a Pulse-Step\nto drive the plant."	    }	  }	}	Block {	  BlockType		  Product	  Name			  "Product"	  Ports			  [2, 1, 0, 0, 0]	  Position		  [275, 163, 305, 187]	  Inputs		  "2"	}	Block {	  BlockType		  TransferFcn	  Name			  "Robinson  (180, 7)"	  Position		  [560, 99, 605, 141]	  ShowName		  off	  Numerator		  "[1.0]"	  Denominator		  "[.00126 .187 1]"	  MaskDisplay		  "disp('2-pole')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Constant	  Name			  "Threshold\n1"	  Position		  [220, 210, 250, 230]	  ShowName		  off	  Value			  "1"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace"	  Position		  [395, 182, 445, 198]	  ShowName		  off	  VariableName		  "niout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace1"	  Position		  [480, 147, 530, 163]	  ShowName		  off	  VariableName		  "psout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace2"	  Position		  [390, 60, 440, 80]	  ShowName		  off	  VariableName		  "pgout2"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  ToWorkspace	  Name			  "To Workspace4"	  Position		  [95, 70, 145, 90]	  Orientation		  up	  ShowName		  off	  VariableName		  "pgout"	  Buffer		  "10000"	  Decimation		  "1"	  SampleTime		  "0"	}	Block {	  BlockType		  TransportDelay	  Name			  "Transport\nDelay5"	  Position		  [480, 100, 540, 140]	  ShowName		  off	  DelayTime		  "0.001"	  InitialInput		  "0"	  BufferSize		  "1024"	  MaskDisplay		  "disp('\"pdelay\"\\n(msec)')"	  MaskIconFrame		  on	  MaskIconOpaque	  on	  MaskIconRotate	  none	  MaskIconUnits		  autoscale	}	Block {	  BlockType		  Gain	  Name			  "phasic gain"	  Position		  [205, 56, 235, 84]	  Gain			  "1"	}	Block {	  BlockType		  Gain	  Name			  "tonic gain"	  Position		  [195, 119, 240, 161]	  Gain			  "tgain"	}	Block {	  BlockType		  Outport	  Name			  "out_1"	  Position		  [630, 110, 650, 130]	  Port			  "1"	  OutputWhenDisabled	  held	  InitialOutput		  "0"	}	Line {	  SrcBlock		  "Transport\nDelay5"	  SrcPort		  1	  DstBlock		  "Robinson  (180, 7)"	  DstPort		  1	}	Line {	  SrcBlock		  "Product"	  SrcPort		  1	  Points		  [0, -45]	  DstBlock		  "NI"	  DstPort		  1	}	Line {	  SrcBlock		  "Threshold\n1"	  SrcPort		  1	  Points		  [0, -40]	  DstBlock		  "Product"	  DstPort		  2	}	Line {	  SrcBlock		  "tonic gain"	  SrcPort		  1	  Points		  [10, 0; 0, 30]	  DstBlock		  "Product"	  DstPort		  1	}	Line {	  SrcBlock		  "T"	  SrcPort		  1	  Points		  [55, 0]	  Branch {	    DstBlock		    "CNS\ngain"	    DstPort		    1	  }	  Branch {	    DstBlock		    "To Workspace4"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "Robinson  (180, 7)"	  SrcPort		  1	  DstBlock		  "out_1"	  DstPort		  1	}	Line {	  SrcBlock		  "NI"	  SrcPort		  1	  Points		  [10, 0]	  Branch {	    DstBlock		    "OMN"	    DstPort		    2	  }	  Branch {	    Points		    [0, 60]	    DstBlock		    "To Workspace"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "phasic gain"	  SrcPort		  1	  Points		  [120, 0]	  Branch {	    DstBlock		    "To Workspace2"	    DstPort		    1	  }	  Branch {	    Points		    [0, 35]	    DstBlock		    "OMN"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "CNS\ngain"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "tonic gain"	    DstPort		    1	  }	  Branch {	    Points		    [0, -50]	    DstBlock		    "phasic gain"	    DstPort		    1	  }	}	Line {	  SrcBlock		  "OMN"	  SrcPort		  1	  Points		  [0, 0]	  Branch {	    DstBlock		    "Transport\nDelay5"	    DstPort		    1	  }	  Branch {	    Points		    [0, 35]	    DstBlock		    "To Workspace1"	    DstPort		    1	  }	}	Annotation {	  Position		  [167, 302]	  VerticalAlignment	  top	  Text			  "clg\npl"	}	Annotation {	  Position		  [322, 12]	  VerticalAlignment	  top	  Text			  "Use me in \"Testbed\"  when running \"Tonic""alc\""	  FontWeight		  bold	}	Annotation {	  Position		  [62, 22]	  VerticalAlignment	  top	  Text			  "tonic test"	  FontSize		  12	  FontWeight		  bold	}      }    }  }}
function [ret,x0,str,ts,xts]=testbed2(t,x,u,flag);%TESTBED2	is the M-file description of the SIMULINK system named TESTBED2.%	The block-diagram can be displayed by typing: TESTBED2.%%	SYS=TESTBED2(T,X,U,FLAG) returns depending on FLAG certain%	system values given time point, T, current state vector, X,%	and input vector, U.%	FLAG is used to indicate the type of output to be returned in SYS.%%	Setting FLAG=1 causes TESTBED2 to return state derivatives, FLAG=2%	discrete states, FLAG=3 system outputs and FLAG=4 next sample%	time. For more information and other options see SFUNC.%%	Calling TESTBED2 with a FLAG of zero:%	[SIZES]=TESTBED2([],[],[],0),  returns a vector, SIZES, which%	contains the sizes of the state vector and other parameters.%		SIZES(1) number of states%		SIZES(2) number of discrete states%		SIZES(3) number of outputs%		SIZES(4) number of inputs%		SIZES(5) number of roots (currently unsupported)%		SIZES(6) direct feedthrough flag%		SIZES(7) number of sample times%%	For the definition of other parameters in SIZES, see SFUNC.%	See also, TRIM, LINMOD, LINSIM, EULER, RK23, RK45, ADAMS, GEAR.% Note: This M-file is only used for saving graphical information;%       after the model is loaded into memory an internal model%       representation is used.% the system will take on the name of this mfile:sys = mfilename;new_system(sys)simver(1.3)if (0 == (nargin + nargout))     set_param(sys,'Location',[48,302,593,629])     open_system(sys)end;set_param(sys,'algorithm',     'RK-45')set_param(sys,'Start time',    '0.0')set_param(sys,'Stop time',     '0.2')set_param(sys,'Min step size', '0.001')set_param(sys,'Max step size', '0.001')set_param(sys,'Relative error','1e-3')set_param(sys,'Return vars',   '')add_block('built-in/To Workspace',[sys,'/','t'])set_param([sys,'/','t'],...		'hide name',0,...		'mat-name','t',...		'buffer','100000',...		'Mask Display','',...		'Mask Translate','global t',...		'position',[395,257,445,273])add_block('built-in/From Workspace',[sys,'/','pulse step'])set_param([sys,'/','pulse step'],...		'hide name',0,...		'matl_expr','[0, t_on, t_on, t_on+dur,t_on+dur 500000; 0, 0,peakval,peakval,0,0]''',...		'Mask Display','Pulse',...		'Mask Dialogue','Pulse|Peak value|Time of step|Step duration')set_param([sys,'/','pulse step'],...		'Mask Translate','peakval = @1; t_on = @2; dur = @3; ',...		'Mask Entries','5\/0\/10\/',...		'position',[35,223,80,257])add_block('built-in/To Workspace',[sys,'/','stm1'])set_param([sys,'/','stm1'],...		'hide name',0,...		'mat-name','stm2',...		'buffer','100000',...		'position',[395,232,445,248])add_block('built-in/To Workspace',[sys,'/','clock out1'])set_param([sys,'/','clock out1'],...		'hide name',0,...		'mat-name','muxout',...		'buffer','100000',...		'position',[415,127,465,143])add_block('built-in/Mux',[sys,'/','Mux'])set_param([sys,'/','Mux'],...		'hide name',0,...		'inputs','2',...		'position',[355,117,385,153])add_block('built-in/To Workspace',[sys,'/','stm'])set_param([sys,'/','stm'],...		'hide name',0,...		'mat-name','stm1',...		'buffer','100000',...		'position',[415,97,465,113])add_block('built-in/To Workspace',[sys,'/','out'])set_param([sys,'/','out'],...		'hide name',0,...		'mat-name','out',...		'buffer','100000',...		'position',[415,167,465,183])add_block('built-in/Sum',[sys,'/','Sum1'])set_param([sys,'/','Sum1'],...		'hide name',0,...		'inputs','+-',...		'position',[125,159,150,186])add_block('built-in/Note',[sys,'/','Testbed'])set_param([sys,'/','Testbed'],...		'Font Weight','bold',...		'Font Size',12,...		'position',[485,5,490,10])%     Subsystem  'noise'.new_system([sys,'/','noise'])set_param([sys,'/','noise'],'Location',[54,341,339,470])add_block('built-in/Outport',[sys,'/','noise/Out_1'])set_param([sys,'/','noise/Out_1'],...		'position',[230,40,250,60])add_block('built-in/Gain',[sys,'/','noise/Gain'])set_param([sys,'/','noise/Gain'],...		'Gain','[sqrt(Cov)]/[sqrt(Ts)]',...		'position',[155,31,195,69])add_block('built-in/Zero-Order Hold',[sys,'/',['noise/Zero-Order',13,'Hold']])set_param([sys,'/',['noise/Zero-Order',13,'Hold']],...		'Sample time','Ts',...		'position',[85,34,120,66])add_block('built-in/White Noise',[sys,'/','noise/White Noise'])set_param([sys,'/','noise/White Noise'],...		'Seed','seed',...		'position',[25,40,45,60])add_line([sys,'/','noise'],[50,50;80,50])add_line([sys,'/','noise'],[200,50;225,50])add_line([sys,'/','noise'],[125,50;150,50])set_param([sys,'/','noise'],...		'Mask Display','plot(t(:),r2(:))',...		'Mask Type','Continuous White Noise.')set_param([sys,'/','noise'],...		'Mask Dialogue','White noise for continuous (s-domain) systems.\nBand-limited using zero-order-hold.|Noise Power:|Sample Time:|Seed')set_param([sys,'/','noise'],...		'Mask Translate','Cov = @1; Ts = @2; seed = @3; r = rand(1,12); r2 = [r(1),r;r,r(12)]; t =[1:13;1:13];')set_param([sys,'/','noise'],...		'Mask Help','Implemented using white noise into Zero-Order Hold block. The seed and power can be vectors of the same length to produce a vector of white noise sources. For faster simulation, set sample time to the highest value possible but in accordance with the fastest dynamics of system.')set_param([sys,'/','noise'],...		'Mask Entries','[0.0001]\/0.01\/[23341]\/')%     Finished composite block 'noise'.set_param([sys,'/','noise'],...		'hide name',0,...		'position',[250,7,295,43])add_block('built-in/Step Fcn',[sys,'/','Step'])set_param([sys,'/','Step'],...		'hide name',0,...		'Time','.1',...		'After','4',...		'position',[320,8,350,32])add_block('built-in/To Workspace',[sys,'/','out1'])set_param([sys,'/','out1'],...		'hide name',0,...		'mat-name','out2',...		'buffer','100000',...		'position',[415,187,465,203])%     Subsystem  ['Pulse',13,'Generator'].new_system([sys,'/',['Pulse',13,'Generator']])set_param([sys,'/',['Pulse',13,'Generator']],'Location',[158,441,759,682])add_block('built-in/Outport',[sys,'/',['Pulse',13,'Generator/out_1']])set_param([sys,'/',['Pulse',13,'Generator/out_1']],...		'hide name',0,...		'position',[560,105,580,125])add_block('built-in/Gain',[sys,'/',['Pulse',13,'Generator/Gain']])set_param([sys,'/',['Pulse',13,'Generator/Gain']],...		'hide name',0,...		'Gain','ht',...		'position',[510,102,535,128])add_block('built-in/Product',[sys,'/',['Pulse',13,'Generator/Product']])set_param([sys,'/',['Pulse',13,'Generator/Product']],...		'hide name',0,...		'position',[455,105,480,125])add_block('built-in/Logical Operator',[sys,'/',['Pulse',13,'Generator/Logical',13,'Operator1']])set_param([sys,'/',['Pulse',13,'Generator/Logical',13,'Operator1']],...		'Operator','NOT',...		'Number of Input Ports','1',...		'position',[355,38,385,62])add_block('built-in/Logical Operator',[sys,'/',['Pulse',13,'Generator/Logical',13,'Operator']])set_param([sys,'/',['Pulse',13,'Generator/Logical',13,'Operator']],...		'Operator','XOR',...		'position',[285,38,315,62])add_block('built-in/Constant',[sys,'/',['Pulse',13,'Generator/Constant1']])set_param([sys,'/',['Pulse',13,'Generator/Constant1']],...		'Value','stt',...		'position',[295,149,320,171])add_block('built-in/Clock',[sys,'/',['Pulse',13,'Generator/Clock1']])set_param([sys,'/',['Pulse',13,'Generator/Clock1']],...		'hide name',0,...		'position',[295,100,315,120])add_block('built-in/Relational Operator',[sys,'/',['Pulse',13,'Generator/Relational',13,'operator']])set_param([sys,'/',['Pulse',13,'Generator/Relational',13,'operator']],...		'hide name',0,...		'position',[370,102,400,133])add_block('built-in/Sum',[sys,'/',['Pulse',13,'Generator/Sum1']])set_param([sys,'/',['Pulse',13,'Generator/Sum1']],...		'hide name',0,...		'inputs','+-',...		'position',[130,120,150,140])add_block('built-in/Sum',[sys,'/',['Pulse',13,'Generator/Sum']])set_param([sys,'/',['Pulse',13,'Generator/Sum']],...		'hide name',0,...		'inputs','+-',...		'position',[135,35,155,55])add_block('built-in/Constant',[sys,'/',['Pulse',13,'Generator/Constant']])set_param([sys,'/',['Pulse',13,'Generator/Constant']],...		'position',[25,30,45,50])add_block('built-in/Unit Delay',[sys,'/',['Pulse',13,'Generator/Unit Delay']])set_param([sys,'/',['Pulse',13,'Generator/Unit Delay']],...		'orientation',2,...		'Sample time','[Ts,st1]',...		'position',[145,75,195,95])add_block('built-in/Unit Delay',[sys,'/',['Pulse',13,'Generator/Unit Delay1']])set_param([sys,'/',['Pulse',13,'Generator/Unit Delay1']],...		'orientation',2,...		'Sample time','[Ts,st2]',...		'x0','ini',...		'position',[140,165,190,185])add_line([sys,'/',['Pulse',13,'Generator']],[390,50;430,50;430,110;450,110])add_line([sys,'/',['Pulse',13,'Generator']],[320,50;350,50])add_line([sys,'/',['Pulse',13,'Generator']],[325,160;345,160;345,125;365,125])add_line([sys,'/',['Pulse',13,'Generator']],[540,115;555,115])add_line([sys,'/',['Pulse',13,'Generator']],[485,115;505,115])add_line([sys,'/',['Pulse',13,'Generator']],[405,120;450,120])add_line([sys,'/',['Pulse',13,'Generator']],[320,110;365,110])add_line([sys,'/',['Pulse',13,'Generator']],[140,85;105,85;105,50;130,50])add_line([sys,'/',['Pulse',13,'Generator']],[160,45;230,45;230,85;200,85])add_line([sys,'/',['Pulse',13,'Generator']],[50,40;130,40])add_line([sys,'/',['Pulse',13,'Generator']],[155,130;210,130;210,175;195,175])add_line([sys,'/',['Pulse',13,'Generator']],[135,175;100,175;100,135;125,135])add_line([sys,'/',['Pulse',13,'Generator']],[50,40;70,40;70,125;125,125])add_line([sys,'/',['Pulse',13,'Generator']],[160,45;280,45])add_line([sys,'/',['Pulse',13,'Generator']],[155,130;245,130;245,55;280,55])set_param([sys,'/',['Pulse',13,'Generator']],...		'Mask Display','plot(0,0,100,100,[90,75,75,60,60,35,35,20,20,10],[20,20,80,80,20,20,80,80,20,20])',...		'Mask Type','Pulse Generator')set_param([sys,'/',['Pulse',13,'Generator']],...		'Mask Dialogue','Pulse Generator.|Pulse period (secs):|Pulse width:|Pulse height:|Pulse start time:')set_param([sys,'/',['Pulse',13,'Generator']],...		'Mask Translate','Ts=@1; du=@2; ht=@3; stt=@4; ini=ones(length(ht),1); st1=rem(stt,Ts); st2=rem(stt+du,Ts);if(Ts<=1.2*du),ini=zeros(length(ht),1);end;')set_param([sys,'/',['Pulse',13,'Generator']],...		'Mask Help','Pulse generator which ensures pulse\ntransitions are hit. Provides a vector of pulses when the height is entered as a vector.\nUnmask to see how it works.')set_param([sys,'/',['Pulse',13,'Generator']],...		'Mask Entries','.5\/.04\/2\/.1\/')%     Finished composite block ['Pulse',13,'Generator'].set_param([sys,'/',['Pulse',13,'Generator']],...		'hide name',0,...		'position',[115,7,150,43])add_block('built-in/Signal Generator',[sys,'/','Sig Gen'])set_param([sys,'/','Sig Gen'],...		'hide name',0,...		'Peak','1.000000',...		'Peak Range','5.000000',...		'Freq','10.000000',...		'Freq Range','100.000000',...		'Wave','Sqr',...		'Units','Rads',...		'position',[175,8,220,42])add_block('built-in/Clock',[sys,'/','tb2Clock'])set_param([sys,'/','tb2Clock'],...		'position',[345,255,365,275])add_block('built-in/Gain',[sys,'/','phasic gain'])set_param([sys,'/','phasic gain'],...		'hide name',0,...		'Gain','1.0',...		'position',[215,265,255,305])add_block('built-in/Constant',[sys,'/',['Threshold',13,'1']])set_param([sys,'/',['Threshold',13,'1']],...		'hide name',0,...		'Value','0',...		'position',[30,185,60,205])add_block('built-in/From Workspace',[sys,'/','double pulse1'])set_param([sys,'/','double pulse1'],...		'hide name',0,...		'matl_expr','[0, t1, t1, t1+d1, t1+d1, t1+d1+ipd, t1+d1+ipd, t1+d1+ipd+d2, t1+d1+ipd+d2, 10000; 0, 0, p1, p1, 0, 0, p2, p2, 0, 0 ]''',...		'Mask Display','Double\nPulse')set_param([sys,'/','double pulse1'],...		'Mask Dialogue','Double Pulse|Pulse 1 Magnitude|Time of Pulse 1 Onset|Pulse 1 Duration|Interpulse Delay|Pulse 2 Magnitude|Pulse 2 Duration')set_param([sys,'/','double pulse1'],...		'Mask Translate','p1=@1; t1=@2; d1=@3; ipd=@4; p2=@5; d2=@6;',...		'Mask Entries','stimhgt\/0\/stimdur\/0\/0\/0\/',...		'position',[20,113,75,147])add_block('built-in/From Workspace',[sys,'/',['Ramp Step',13,'Ramp']])set_param([sys,'/',['Ramp Step',13,'Ramp']],...		'hide name',0,...		'matl_expr','[0, t_on, t_on, dur; initval, (t_on*slope)+initval, (t_on*slope)+(step+initval), (dur*slope)+(step+initval) ]''',...		'Mask Display','Ramp Step\nRamp')set_param([sys,'/',['Ramp Step',13,'Ramp']],...		'Mask Dialogue','Ramp Step Ramp|Initial value|Time of step|Size of step|Ramp duration|Ramp slope',...		'Mask Translate','initval = @1; t_on = @2; step = @3; dur = @4; slope = @5;')set_param([sys,'/',['Ramp Step',13,'Ramp']],...		'Mask Entries','0\/0\/0\/10\/1\/',...		'position',[25,18,95,52])add_block('built-in/From Workspace',[sys,'/',['From',13,'Workspace']])set_param([sys,'/',['From',13,'Workspace']],...		'hide name',0,...		'matl_expr','[0,0]',...		'position',[370,12,410,38])%     Subsystem  ['RefLatch',13,'(+//-)'].new_system([sys,'/',['RefLatch',13,'(+//-)']])set_param([sys,'/',['RefLatch',13,'(+//-)']],'Location',[492,302,938,689])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge']],'Location',[94,360,684,652])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out7']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out7']],...		'hide name',0,...		'mat-name','swfi',...		'buffer','100000',...		'Mask Display','',...		'position',[170,202,220,218])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out6']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out6']],...		'hide name',0,...		'mat-name','swfo',...		'buffer','100000',...		'position',[170,182,220,198])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out2']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out2']],...		'hide name',0,...		'mat-name','af2',...		'buffer','100000',...		'position',[245,157,295,173])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/(Init input: 1)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/(Init input: 1)']],...		'position',[305,195,310,200])add_block('built-in/Memory',[sys,'/',['RefLatch',13,'(+//-)/falling edge/loop',13,'breaker']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/loop',13,'breaker']],...		'orientation',2,...		'x0','1',...		'position',[285,220,325,250])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out5']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out5']],...		'hide name',0,...		'mat-name','sf',...		'buffer','100000',...		'position',[450,57,500,73])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out4']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out4']],...		'hide name',0,...		'mat-name','rf',...		'buffer','100000',...		'position',[445,177,495,193])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out3']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out3']],...		'hide name',0,...		'mat-name','af1',...		'buffer','100000',...		'position',[265,47,315,63])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/(Must see a falling edge from the',13,'signal AS WELL)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/(Must see a falling edge from the',13,'signal AS WELL)']],...		'position',[425,15,430,20])add_block('built-in/Switch',[sys,'/',['RefLatch',13,'(+//-)/falling edge/Switch1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/Switch1']],...		'hide name',0,...		'Threshold','.5',...		'position',[95,114,125,146])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/in_1']],...		'position',[20,110,40,130])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/out_1']],...		'position',[540,100,560,120])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/falling edge/Threshold',13,'3']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/Threshold',13,'3']],...		'orientation',2,...		'hide name',0,...		'Value','0',...		'position',[100,150,120,170])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/latency period starts with the END of the pulse, rather than the beginning.']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/latency period starts with the END of the pulse, rather than the beginning.']],...		'position',[350,280,355,285])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/Block operation:  it is initially ENABLED, allowing input.']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/Block operation:  it is initially ENABLED, allowing input.']],...		'position',[330,300,335,305])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/When input occurs, the block then becomes DISABLED, and remains so for the',13,'duration of the latency period (set either via the mask, or by setting "delay" from the command line)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/When input occurs, the block then becomes DISABLED, and remains so for the',13,'duration of the latency period (set either via the mask, or by setting "delay" from the command line)']],...		'position',[330,330,335,335])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/When the latency period is over, the block is again ENABLED.  ONLY once the latency period is',13,'over does the block accept any new input.  (i.e. any input that occurs during the disabled',13,' latency period is ignored)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/When the latency period is over, the block is again ENABLED.  ONLY once the latency period is',13,'over does the block accept any new input.  (i.e. any input that occurs during the disabled',13,' latency period is ignored)']],...		'position',[335,370,340,375])add_block('built-in/Logical Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/Logical',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/Logical',13,'Operator']],...		'hide name',0,...		'Operator','AND',...		'position',[270,113,300,137])add_block('built-in/Transport Delay',[sys,'/',['RefLatch',13,'(+//-)/falling edge/refractory',13,'period']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/refractory',13,'period']],...		'Delay Time','(delay)/1000',...		'position',[355,95,395,125])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],'Location',[503,214,955,459])add_block('built-in/Demux',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Demux']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Demux']],...		'outputs','2',...		'position',[275,105,315,140])add_block('built-in/Combinatorial Logic',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Logic']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Logic']],...		'Truth Table','[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]',...		'position',[195,105,250,145])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/out_1']],...		'position',[355,105,375,125])add_block('built-in/Mux',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Mux']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Mux']],...		'inputs','3',...		'position',[135,109,165,141])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/in_1']],...		'position',[20,115,40,135])add_block('built-in/Memory',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Memory']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/Memory']],...		'orientation',2,...		'x0','ini',...		'position',[210,20,250,50])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/out_2']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/out_2']],...		'Port','2',...		'position',[355,150,375,170])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/in_2']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop/in_2']],...		'Port','2',...		'position',[20,155,40,175])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[320,130;335,130;335,160;350,160])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[255,125;270,125])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[170,125;190,125])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[320,115;350,115])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[335,115;335,35;255,35])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[205,35;85,35;85,115;130,115])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[45,125;130,125])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],[45,165;85,165;85,135;130,135])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],...		'Mask Display','S   Q\n\nR  !Q',...		'Mask Type','Latch',...		'Mask Dialogue','Latch|Initial State for Output "Q":',...		'Mask Translate','ini=(@1~=0);')set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],...		'Mask Help','Latches the S input.  When S (set) is one, the Q output  becomes one.  The output remains one until the R (reset) input becomes one, forcing the output to zero.  If both R and S are one, the latch will be in an undefined state.')set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],...		'Mask Entries','1\/')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/S-R',13,'Flip-Flop']],...		'hide name',0,...		'position',[445,95,480,150])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge/falling edge det'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],'Location',[27,381,402,601])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/falling edge detection']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/falling edge detection']],...		'position',[170,35,240,40])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']],...		'position',[190,150,195,155])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/out_1']],...		'position',[330,90,350,110])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Threshold',13,'1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Threshold',13,'1']],...		'hide name',0,...		'Value','-1',...		'position',[205,114,225,136])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Relational',13,'Operator']],...		'hide name',0,...		'Operator','==',...		'position',[260,88,290,112])add_block('built-in/Derivative',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Derivative']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Derivative']],...		'hide name',0,...		'position',[145,85,175,105])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],'Location',[159,417,467,586])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Constant']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Constant']],...		'Value','0',...		'position',[65,105,85,125])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Relational',13,'Operator1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Relational',13,'Operator1']],...		'Operator','<',...		'position',[140,92,170,123])add_block('built-in/Sum',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Sum']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Sum']],...		'inputs','+-',...		'position',[215,64,235,91])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/Relational',13,'Operator']],...		'Operator','>',...		'position',[140,32,170,63])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/in_1']],...		'position',[35,30,55,50])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign/out_1']],...		'position',[265,70,285,90])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[240,80;260,80])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[175,50;185,50;185,70;210,70])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[175,110;185,110;185,85;210,85])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[90,115;135,115])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[110,115;110,55;135,55])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[60,40;135,40])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],[95,40;95,100;135,100])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],...		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...		'Mask Type','Sign',...		'Mask Dialogue','y = sign(x)')set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],...		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Sign']],...		'hide name',0,...		'position',[200,82,230,108])add_block('built-in/Abs',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Abs']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/Abs']],...		'hide name',0,...		'position',[95,83,125,107])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det/in_1']],...		'position',[35,85,55,105])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[60,95;90,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[295,100;325,100])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[230,125;245,125;255,105])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[235,95;255,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[180,95;195,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],[130,95;140,95])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],...		'Mask Display','Falling\nEdge Det')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge/falling edge det'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det']],...		'hide name',0,...		'position',[155,59,215,91])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge/falling edge det1'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],'Location',[32,313,407,533])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/in_1']],...		'position',[35,85,55,105])add_block('built-in/Abs',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Abs']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Abs']],...		'hide name',0,...		'position',[95,83,125,107])%     Subsystem  ['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign'].new_system([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],'Location',[159,417,467,586])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/out_1']],...		'position',[265,70,285,90])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/in_1']],...		'position',[35,30,55,50])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Relational',13,'Operator']],...		'Operator','>',...		'position',[140,32,170,63])add_block('built-in/Sum',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Sum']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Sum']],...		'inputs','+-',...		'position',[215,64,235,91])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Relational',13,'Operator1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Relational',13,'Operator1']],...		'Operator','<',...		'position',[140,92,170,123])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Constant']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign/Constant']],...		'Value','0',...		'position',[65,105,85,125])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[60,40;135,40])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[95,40;95,100;135,100])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[90,115;135,115])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[110,115;110,55;135,55])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[175,110;185,110;185,85;210,85])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[175,50;185,50;185,70;210,70])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],[240,80;260,80])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],...		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...		'Mask Type','Sign',...		'Mask Dialogue','y = sign(x)')set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],...		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Sign']],...		'hide name',0,...		'position',[200,82,230,108])add_block('built-in/Derivative',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Derivative']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Derivative']],...		'hide name',0,...		'position',[145,85,175,105])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Relational',13,'Operator']],...		'hide name',0,...		'Operator','==',...		'position',[260,88,290,112])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Threshold',13,'1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/Threshold',13,'1']],...		'hide name',0,...		'Value','-1',...		'position',[205,114,225,136])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/out_1']],...		'position',[330,90,350,110])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']],...		'position',[190,150,195,155])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/falling edge detection']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1/falling edge detection']],...		'position',[170,35,240,40])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[130,95;140,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[180,95;195,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[235,95;255,95])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[230,125;245,125;255,105])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[295,100;325,100])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],[60,95;90,95])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],...		'Mask Display','Falling\nEdge Det')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge/falling edge det1'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/falling edge det1']],...		'hide name',0,...		'position',[155,114,215,146])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/This upper branch prevents response',13,'to transients caused by the switch',13,'toggling states']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/This upper branch prevents response',13,'to transients caused by the switch',13,'toggling states']],...		'position',[170,1,175,6])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/(Init input: 0)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/(Init input: 0)']],...		'position',[360,70,365,75])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/falling edge/(FF init state: Q=1)']])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge/(FF init state: Q=1)']],...		'position',[485,70,490,75])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[280,235;55,235;55,130;90,130])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[130,235;130,210;165,210])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[130,130;130,190;165,190])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[400,110;440,110])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[415,110;415,65;445,65])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[305,125;325,125;325,170;415,170;415,135;440,135])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[395,170;395,185;440,185])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[220,130;265,130])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[230,130;240,165])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[220,75;250,75;250,120;265,120])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[240,75;240,55;260,55])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[130,130;150,130])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[95,160;70,160;70,140;90,140])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[45,120;90,120])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[70,120;70,75;150,75])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[325,125;325,110;350,110])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[485,110;535,110])add_line([sys,'/',['RefLatch',13,'(+//-)/falling edge']],[505,110;505,235;330,235])set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge']],...		'Mask Display','Refract\nLatch (fe)')%     Finished composite block ['RefLatch',13,'(+//-)/falling edge'].set_param([sys,'/',['RefLatch',13,'(+//-)/falling edge']],...		'position',[130,88,195,132])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge']],'Location',[92,122,706,469])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/(Init input: 0)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/(Init input: 0)']],...		'position',[360,105,365,110])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/(FF init state: Q=1)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/(FF init state: Q=1)']],...		'position',[490,105,495,110])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/rising edge/out4']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/out4']],...		'hide name',0,...		'mat-name','sr',...		'buffer','100000',...		'position',[460,87,510,103])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/(Must see a rising edge from the',13,'signal AS WELL)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/(Must see a rising edge from the',13,'signal AS WELL)']],...		'position',[425,25,430,30])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/rising edge/out3']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/out3']],...		'hide name',0,...		'mat-name','rr',...		'buffer','100000',...		'position',[455,212,505,228])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/rising edge/out1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/out1']],...		'hide name',0,...		'mat-name','ar1',...		'buffer','100000',...		'position',[255,87,305,103])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/rising edge/out2']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/out2']],...		'hide name',0,...		'mat-name','ar2',...		'buffer','100000',...		'position',[250,212,300,228])add_block('built-in/Memory',[sys,'/',['RefLatch',13,'(+//-)/rising edge/loop',13,'breaker']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/loop',13,'breaker']],...		'orientation',2,...		'x0','1',...		'position',[380,270,420,300])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/latency period starts with the BEGINNING of the pulse.']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/latency period starts with the BEGINNING of the pulse.']],...		'position',[310,336,315,341])add_block('built-in/Logical Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/Logical',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/Logical',13,'Operator']],...		'hide name',0,...		'Operator','AND',...		'position',[260,158,290,182])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/in_1']],...		'position',[10,155,30,175])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/rising edge/Threshold',13,'3']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/Threshold',13,'3']],...		'orientation',2,...		'hide name',0,...		'Value','0',...		'position',[90,195,110,215])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/out_1']],...		'position',[570,140,590,160])add_block('built-in/Switch',[sys,'/',['RefLatch',13,'(+//-)/rising edge/Switch1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/Switch1']],...		'hide name',0,...		'Threshold','.5',...		'position',[85,159,115,191])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/Block operation:  it is initially ENABLED, allowing input.']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/Block operation:  it is initially ENABLED, allowing input.']],...		'position',[305,375,310,380])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/When input occurs, the block then becomes DISABLED, and remains so for the',13,'duration of the latency period (set either via the mask, or by setting "delay" from the command line)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/When input occurs, the block then becomes DISABLED, and remains so for the',13,'duration of the latency period (set either via the mask, or by setting "delay" from the command line)']],...		'position',[305,410,310,415])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/When the latency period is over, the block is again ENABLED.  ONLY once the latency period is',13,'over does the block accept any new input.  (i.e. any input that occurs during the disabled',13,' latency period is ignored)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/When the latency period is over, the block is again ENABLED.  ONLY once the latency period is',13,'over does the block accept any new input.  (i.e. any input that occurs during the disabled',13,' latency period is ignored)']],...		'position',[315,450,320,455])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/(Init input: 1)']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/(Init input: 1)']],...		'position',[405,245,410,250])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge/rising edge det'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],'Location',[32,313,407,533])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']],...		'position',[190,125,195,130])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/out_1']],...		'position',[320,65,340,85])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/in_1']],...		'position',[45,60,65,80])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Threshold',13,'1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Threshold',13,'1']],...		'hide name',0,...		'position',[205,89,225,111])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Relational',13,'Operator']],...		'hide name',0,...		'Operator','==',...		'position',[260,63,290,87])add_block('built-in/Derivative',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Derivative']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Derivative']],...		'hide name',0,...		'position',[145,60,175,80])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],'Location',[159,417,467,586])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/out_1']],...		'position',[265,70,285,90])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/in_1']],...		'position',[35,30,55,50])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Relational',13,'Operator']],...		'Operator','>',...		'position',[140,32,170,63])add_block('built-in/Sum',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Sum']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Sum']],...		'inputs','+-',...		'position',[215,64,235,91])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Relational',13,'Operator1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Relational',13,'Operator1']],...		'Operator','<',...		'position',[140,92,170,123])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Constant']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign/Constant']],...		'Value','0',...		'position',[65,105,85,125])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[60,40;135,40])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[95,40;95,100;135,100])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[90,115;135,115])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[110,115;110,55;135,55])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[175,110;185,110;185,85;210,85])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[175,50;185,50;185,70;210,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],[240,80;260,80])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],...		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...		'Mask Type','Sign',...		'Mask Dialogue','y = sign(x)')set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],...		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Sign']],...		'hide name',0,...		'position',[200,57,230,83])add_block('built-in/Abs',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Abs']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/Abs']],...		'hide name',0,...		'position',[95,58,125,82])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/rising edge detection']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det/rising edge detection']],...		'position',[145,15,215,20])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[130,70;140,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[180,70;195,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[235,70;255,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[230,100;245,100;255,80])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[295,75;315,75])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],[70,70;90,70])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],...		'Mask Display','Rising\nEdge Det')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge/rising edge det'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det']],...		'hide name',0,...		'position',[155,94,215,126])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge/rising edge det1'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],'Location',[32,313,407,533])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/rising edge detection']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/rising edge detection']],...		'position',[145,15,215,20])add_block('built-in/Abs',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Abs']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Abs']],...		'hide name',0,...		'position',[95,58,125,82])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],'Location',[159,417,467,586])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Constant']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Constant']],...		'Value','0',...		'position',[65,105,85,125])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Relational',13,'Operator1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Relational',13,'Operator1']],...		'Operator','<',...		'position',[140,92,170,123])add_block('built-in/Sum',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Sum']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Sum']],...		'inputs','+-',...		'position',[215,64,235,91])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/Relational',13,'Operator']],...		'Operator','>',...		'position',[140,32,170,63])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/in_1']],...		'position',[35,30,55,50])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign/out_1']],...		'position',[265,70,285,90])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[240,80;260,80])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[175,50;185,50;185,70;210,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[175,110;185,110;185,85;210,85])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[90,115;135,115])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[110,115;110,55;135,55])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[60,40;135,40])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],[95,40;95,100;135,100])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],...		'Mask Display','plot(-50,-50,50,50,[-50,50],[0,0],[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])',...		'Mask Type','Sign',...		'Mask Dialogue','y = sign(x)')set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],...		'Mask Help','Sign Function:\n\t\t\ty = 1 if x > 0\n\t\t\ty = 0 if x = 0\n\t\t\ty = -1 if x < 0')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Sign']],...		'hide name',0,...		'position',[200,57,230,83])add_block('built-in/Derivative',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Derivative']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Derivative']],...		'hide name',0,...		'position',[145,60,175,80])add_block('built-in/Relational Operator',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Relational',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Relational',13,'Operator']],...		'hide name',0,...		'Operator','==',...		'position',[260,63,290,87])add_block('built-in/Constant',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Threshold',13,'1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/Threshold',13,'1']],...		'hide name',0,...		'position',[205,89,225,111])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/in_1']],...		'position',[45,60,65,80])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/out_1']],...		'position',[320,65,340,85])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1/It is also possible to remove the SIGNUM function',13,'and the ''=='', and replace them with a simple',13,'switch with a threshold of (say) 150 or so.']],...		'position',[190,125,195,130])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[70,70;90,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[295,75;315,75])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[230,100;245,100;255,80])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[235,70;255,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[180,70;195,70])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],[130,70;140,70])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],...		'Mask Display','Rising\nEdge Det')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge/rising edge det1'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/rising edge det1']],...		'hide name',0,...		'position',[155,159,215,191])%     Subsystem  ['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop'].new_system([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],'Location',[503,214,955,459])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/in_2']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/in_2']],...		'Port','2',...		'position',[20,155,40,175])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/out_2']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/out_2']],...		'Port','2',...		'position',[355,150,375,170])add_block('built-in/Memory',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Memory']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Memory']],...		'orientation',2,...		'x0','ini',...		'position',[210,20,250,50])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/in_1']],...		'position',[20,115,40,135])add_block('built-in/Mux',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Mux']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Mux']],...		'inputs','3',...		'position',[135,109,165,141])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/out_1']],...		'position',[355,105,375,125])add_block('built-in/Combinatorial Logic',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Logic']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Logic']],...		'Truth Table','[0 1;0 1;1 0;0 1;1 0;0 1;1 0;1 0]',...		'position',[195,105,250,145])add_block('built-in/Demux',[sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Demux']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop/Demux']],...		'outputs','2',...		'position',[275,105,315,140])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[45,165;85,165;85,135;130,135])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[45,125;130,125])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[205,35;85,35;85,115;130,115])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[320,115;350,115])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[335,115;335,35;255,35])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[170,125;190,125])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[255,125;270,125])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],[320,130;335,130;335,160;350,160])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],...		'Mask Display','S   Q\n\nR  !Q',...		'Mask Type','Latch',...		'Mask Dialogue','Latch|Initial State for Output "Q":',...		'Mask Translate','ini=(@1~=0);')set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],...		'Mask Help','Latches the S input.  When S (set) is one, the Q output  becomes one.  The output remains one until the R (reset) input becomes one, forcing the output to zero.  If both R and S are one, the latch will be in an undefined state.')set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],...		'Mask Entries','1\/')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/S-R',13,'Flip-Flop']],...		'hide name',0,...		'position',[435,135,470,190])add_block('built-in/Transport Delay',[sys,'/',['RefLatch',13,'(+//-)/rising edge/refractory',13,'period']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/refractory',13,'period']],...		'Delay Time','(delay)/1000',...		'position',[350,135,390,165])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/rising edge/This upper branch prevents response',13,'to transients caused by the switch',13,'toggling states']])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge/This upper branch prevents response',13,'to transients caused by the switch',13,'toggling states']],...		'position',[180,20,185,25])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[395,150;430,150])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[420,150;420,95;455,95])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[295,170;325,170;325,205;405,205;405,175;430,175])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[385,205;385,220;450,220])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[220,175;255,175])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[235,175;245,220])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[220,110;245,110;255,165])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[235,110;235,95;250,95])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[85,205;65,205;65,185;80,185])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[375,285;50,285;50,175;80,175])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[120,175;150,175])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[35,165;80,165])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[55,165;55,110;150,110])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[325,170;325,150;345,150])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[475,150;565,150])add_line([sys,'/',['RefLatch',13,'(+//-)/rising edge']],[520,150;520,285;425,285])set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge']],...		'Mask Display','Refract\nLatch (re)')%     Finished composite block ['RefLatch',13,'(+//-)/rising edge'].set_param([sys,'/',['RefLatch',13,'(+//-)/rising edge']],...		'position',[130,18,195,62])add_block('built-in/Outport',[sys,'/',['RefLatch',13,'(+//-)/out_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/out_1']],...		'position',[365,65,385,85])add_block('built-in/Logical Operator',[sys,'/',['RefLatch',13,'(+//-)/Logical',13,'Operator']])set_param([sys,'/',['RefLatch',13,'(+//-)/Logical',13,'Operator']],...		'hide name',0,...		'Operator','AND',...		'position',[300,63,330,87])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/out2']])set_param([sys,'/',['RefLatch',13,'(+//-)/out2']],...		'hide name',0,...		'mat-name','flo',...		'buffer','100000',...		'position',[325,127,375,143])add_block('built-in/To Workspace',[sys,'/',['RefLatch',13,'(+//-)/out3']])set_param([sys,'/',['RefLatch',13,'(+//-)/out3']],...		'hide name',0,...		'mat-name','rlo',...		'buffer','100000',...		'position',[330,22,380,38])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/By ANDing these outputs, we get a signal that is DISABLED',13,'starting with the beginning of the input pulse, and remains so until',13,'rp milliseconds after the termination of the pulse.']])set_param([sys,'/',['RefLatch',13,'(+//-)/By ANDing these outputs, we get a signal that is DISABLED',13,'starting with the beginning of the input pulse, and remains so until',13,'rp milliseconds after the termination of the pulse.']],...		'position',[160,324,235,329])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/The falling edge" block''s output becomes DISABLED upon',13,'detection of the END of the input pulse, and remains',13,'so until the refractory period of rp milliseconds has elapsed.']])set_param([sys,'/',['RefLatch',13,'(+//-)/The falling edge" block''s output becomes DISABLED upon',13,'detection of the END of the input pulse, and remains',13,'so until the refractory period of rp milliseconds has elapsed.']],...		'position',[165,260,220,265])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/It''s a cheap trick, but it seems to work:']])set_param([sys,'/',['RefLatch',13,'(+//-)/It''s a cheap trick, but it seems to work:']],...		'position',[155,170,205,175])add_block('built-in/Inport',[sys,'/',['RefLatch',13,'(+//-)/in_1']])set_param([sys,'/',['RefLatch',13,'(+//-)/in_1']],...		'position',[35,65,55,85])add_block('built-in/Note',[sys,'/',['RefLatch',13,'(+//-)/The "rising edge" block''s output becomes DISABLED upon',13,'detection of the BEGINNING of the input pulse, and remains',13,'so until the refractory period of rp milliseconds has elapsed.']])set_param([sys,'/',['RefLatch',13,'(+//-)/The "rising edge" block''s output becomes DISABLED upon',13,'detection of the BEGINNING of the input pulse, and remains',13,'so until the refractory period of rp milliseconds has elapsed.']],...		'position',[150,205,240,210])add_line([sys,'/',['RefLatch',13,'(+//-)']],[200,40;230,40;230,70;295,70])add_line([sys,'/',['RefLatch',13,'(+//-)']],[270,70;270,30;325,30])add_line([sys,'/',['RefLatch',13,'(+//-)']],[200,110;230,110;230,80;295,80])add_line([sys,'/',['RefLatch',13,'(+//-)']],[270,80;270,135;320,135])add_line([sys,'/',['RefLatch',13,'(+//-)']],[335,75;360,75])add_line([sys,'/',['RefLatch',13,'(+//-)']],[60,75;90,75;90,40;125,40])add_line([sys,'/',['RefLatch',13,'(+//-)']],[90,75;90,110;125,110])set_param([sys,'/',['RefLatch',13,'(+//-)']],...		'Mask Display','Refract\nLatch',...		'Mask Dialogue','Refractory Latch|Refractory Period (ms)',...		'Mask Translate','delay=@1;',...		'Mask Entries','70\/')%     Finished composite block ['RefLatch',13,'(+//-)'].set_param([sys,'/',['RefLatch',13,'(+//-)']],...		'hide name',0,...		'position',[235,155,295,195])add_line(sys,[370,265;390,265])add_line(sys,[390,135;410,135])add_line(sys,[85,240;390,240])add_line(sys,[155,175;180,175;180,125;350,125])add_line(sys,[65,195;110,195;120,180])add_line(sys,[80,130;110,130;120,165])add_line(sys,[330,125;330,105;410,105])add_line(sys,[300,175;410,175])add_line(sys,[325,175;325,145;350,145])add_line(sys,[180,175;230,175])drawnow% Return any arguments.if (nargin | nargout)	% Must use feval here to access system in memory	if (nargin > 3)		if (flag == 0)			eval(['[ret,x0,str,ts,xts]=',sys,'(t,x,u,flag);'])		else			eval(['ret =', sys,'(t,x,u,flag);'])		end	else		[ret,x0,str,ts,xts] = feval(sys);	endelse	drawnow % Flash up the model and execute load callbackend